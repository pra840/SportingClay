/*
 Highstock JS v2.1.9 (2015-10-07)

 (c) 2009-2014 Torstein Honsi

 License: www.highcharts.com/license
*/

(function(){function e(){var e,t=arguments,n,r={},i=function(e,t){var n,r;typeof e!="object"&&(e={});for(r in t)t.hasOwnProperty(r)&&(n=t[r],e[r]=n&&typeof n=="object"&&Object.prototype.toString.call(n)!=="[object Array]"&&r!=="renderTo"&&typeof n.nodeType!="number"?i(e[r]||{},n):t[r]);return e};t[0]===!0&&(r=t[1],t=Array.prototype.slice.call(t,2)),n=t.length;for(e=0;e<n;e++)r=i(r,t[e]);return r}function t(e,t){return parseInt(e,t||10)}function n(e){return typeof e=="string"}function r(e){return e&&typeof e=="object"}function i(e){return Object.prototype.toString.call(e)==="[object Array]"}function s(e){return typeof e=="number"}function o(e){return j.log(e)/j.LN10}function u(e){return j.pow(10,e)}function a(e,t){for(var n=e.length;n--;)if(e[n]===t){e.splice(n,1);break}}function f(e){return e!==P&&e!==null}function l(e,t,i){var s,o;if(n(t))f(i)?e.setAttribute(t,i):e&&e.getAttribute&&(o=e.getAttribute(t));else if(f(t)&&r(t))for(s in t)e.setAttribute(s,t[s]);return o}function c(e){return i(e)?e:[e]}function h(e,t){Q&&!nt&&t&&t.opacity!==P&&(t.filter="alpha(opacity="+t.opacity*100+")"),Rt(e.style,t)}function p(e,t,n,r,i){return e=H.createElement(e),t&&Rt(e,t),i&&h(e,{padding:0,border:yt,margin:0}),n&&h(e,n),r&&r.appendChild(e),e}function d(e,t){var n=function(){return P};return n.prototype=new e,Rt(n.prototype,t),n}function v(e,t){return Array((t||2)+1-String(e).length).join(0)+e}function m(e){return(Nt&&Nt(e)||Tt||0)*6e4}function g(e,t){for(var n="{",r=!1,i,s,o,u,a,f=[];(n=e.indexOf(n))!==-1;){i=e.slice(0,n);if(r){s=i.split(":"),o=s.shift().split("."),a=o.length,i=t;for(u=0;u<a;u++)i=i[o[u]];s.length&&(s=s.join(":"),o=/\.([0-9])/,u=lt.lang,a=void 0,/f$/.test(s)?(a=(a=s.match(o))?a[1]:-1,i!==null&&(i=qt.numberFormat(i,a,u.decimalPoint,s.indexOf(",")>-1?u.thousandsSep:""))):i=ct(s,i))}f.push(i),e=e.slice(n+1),n=(r=!r)?"}":"{"}return f.push(e),f.join("")}function y(e){return j.pow(10,I(j.log(e)/j.LN10))}function b(e,t,n,r,i){var s,o=e,n=Ut(n,1);s=e/n,t||(t=[1,2,2.5,5,10],r===!1&&(n===1?t=[1,2,5,10]:n<=.1&&(t=[1/n])));for(r=0;r<t.length;r++)if(o=t[r],i&&o*n>=e||!i&&s<=(t[r]+(t[r+1]||t[r]))/2)break;return o*=n,o}function w(e,t){var n=e.length,r,i;for(i=0;i<n;i++)e[i].ss_i=i;e.sort(function(e,n){return r=t(e,n),r===0?e.ss_i-n.ss_i:r});for(i=0;i<n;i++)delete e[i].ss_i}function E(e){for(var t=e.length,n=e[0];t--;)e[t]<n&&(n=e[t]);return n}function S(e){for(var t=e.length,n=e[0];t--;)e[t]>n&&(n=e[t]);return n}function x(e,t){for(var n in e)e[n]&&e[n]!==t&&e[n].destroy&&e[n].destroy(),delete e[n]}function T(e){ft||(ft=p(gt)),e&&ft.appendChild(e),ft.innerHTML=""}function N(e,t){var n="Highcharts error #"+e+": www.highcharts.com/errors/"+e;if(t)throw n;B.console&&console.log(n)}function C(e,t){return parseFloat(e.toPrecision(t||14))}function k(e,t){t.renderer.globalAnimation=Ut(e,t.animation)}function L(){var e=lt.global,t=e.useUTC,n=t?"getUTC":"get",r=t?"setUTC":"set";St=e.Date||window.Date,Tt=t&&e.timezoneOffset,Nt=t&&e.getTimezoneOffset,xt=function(e,n,r,i,s,o){var u;return t?(u=St.UTC.apply(0,arguments),u+=m(u)):u=(new St(e,n,Ut(r,1),Ut(i,0),Ut(s,0),Ut(o,0))).getTime(),u},Ct=n+"Minutes",kt=n+"Hours",Lt=n+"Day",At=n+"Date",Ot=n+"Month",Mt=n+"FullYear",_t=r+"Milliseconds",Dt=r+"Seconds",Pt=r+"Minutes",Ht=r+"Hours",Bt=r+"Date",jt=r+"Month",Ft=r+"FullYear"}function A(){}function O(e,t,n,r){this.axis=e,this.pos=t,this.type=n||"",this.isNew=!0,!n&&!r&&this.addLabel()}function M(e,t,n,r,i){var s=e.chart.inverted;this.axis=e,this.isNegative=n,this.options=t,this.x=r,this.total=null,this.points={},this.stack=i,this.alignOptions={align:t.align||(s?n?"left":"right":"center"),verticalAlign:t.verticalAlign||(s?"middle":n?"bottom":"top"),y:Ut(t.y,s?4:n?14:-6),x:Ut(t.x,s?n?-6:6:0)},this.textAlign=t.textAlign||(s?n?"right":"left":"center")}function _(e){var t=e.options,n=t.navigator,r=n.enabled,t=t.scrollbar,i=t.enabled,s=r?n.height:0,o=i?t.height:0;this.handles=[],this.scrollbarButtons=[],this.elementsToDestroy=[],this.chart=e,this.setBaseSeries(),this.height=s,this.scrollbarHeight=o,this.scrollbarEnabled=i,this.navigatorEnabled=r,this.navigatorOptions=n,this.scrollbarOptions=t,this.outlineHeight=s+o,this.init()}function D(e){this.init(e)}var P,H=document,B=window,j=Math,F=j.round,I=j.floor,q=j.ceil,R=j.max,U=j.min,z=j.abs,W=j.cos,X=j.sin,V=j.PI,$=V*2/360,J=navigator.userAgent,K=B.opera,Q=/(msie|trident|edge)/i.test(J)&&!K,G=H.documentMode===8,Y=!Q&&/AppleWebKit/.test(J),Z=/Firefox/.test(J),et=/(Mobile|Android|Windows Phone)/.test(J),tt="http://www.w3.org/2000/svg",nt=!!H.createElementNS&&!!H.createElementNS(tt,"svg").createSVGRect,rt=Z&&parseInt(J.split("Firefox/")[1],10)<4,it=!nt&&!Q&&!!H.createElement("canvas").getContext,st,ot,ut={},at=0,ft,lt,ct,ht,pt,dt=function(){return P},vt=[],mt=0,gt="div",yt="none",bt=/^[0-9]+$/,wt=["plotTop","marginRight","marginBottom","plotLeft"],Et="stroke-width",St,xt,Tt,Nt,Ct,kt,Lt,At,Ot,Mt,_t,Dt,Pt,Ht,Bt,jt,Ft,It={},qt;qt=B.Highcharts=B.Highcharts?N(16,!0):{},qt.seriesTypes=It;var Rt=qt.extend=function(e,t){var n;e||(e={});for(n in t)e[n]=t[n];return e},Ut=qt.pick=function(){var e=arguments,t,n,r=e.length;for(t=0;t<r;t++)if(n=e[t],n!==P&&n!==null)return n},zt=qt.wrap=function(e,t,n){var r=e[t];e[t]=function(){var e=Array.prototype.slice.call(arguments);return e.unshift(r),n.apply(this,e)}};ct=function(e,t,n){if(!f(t)||isNaN(t))return lt.lang.invalidDate||"";var e=Ut(e,"%Y-%m-%d %H:%M:%S"),r=new St(t-m(t)),i,s=r[kt](),o=r[Lt](),u=r[At](),a=r[Ot](),l=r[Mt](),c=lt.lang,h=c.weekdays,r=Rt({a:h[o].substr(0,3),A:h[o],d:v(u),e:u,w:o,b:c.shortMonths[a],B:c.months[a],m:v(a+1),y:l.toString().substr(2,2),Y:l,H:v(s),k:s,I:v(s%12||12),l:s%12||12,M:v(r[Ct]()),p:s<12?"AM":"PM",P:s<12?"am":"pm",S:v(r.getSeconds()),L:v(F(t%1e3),3)},qt.dateFormats);for(i in r)for(;e.indexOf("%"+i)!==-1;)e=e.replace("%"+i,typeof r[i]=="function"?r[i](t):r[i]);return n?e.substr(0,1).toUpperCase()+e.substr(1):e},pt={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:24192e5,year:314496e5},qt.numberFormat=function(e,n,r,i){var s=lt.lang,e=+e||0,o=n===-1?U((e.toString().split(".")[1]||"").length,20):isNaN(n=z(n))?2:n,n=r===void 0?s.decimalPoint:r,i=i===void 0?s.thousandsSep:i,s=e<0?"-":"",r=String(t(e=z(e).toFixed(o))),u=r.length>3?r.length%3:0;return s+(u?r.substr(0,u)+i:"")+r.substr(u).replace(/(\d{3})(?=\d)/g,"$1"+i)+(o?n+z(e-r).toFixed(o).slice(2):"")},ht={init:function(e,t,n){var t=t||"",r=e.shift,i=t.indexOf("C")>-1,s=i?7:3,o,t=t.split(" "),n=[].concat(n),u,a,f=function(e){for(o=e.length;o--;)e[o]==="M"&&e.splice(o+1,0,e[o+1],e[o+2],e[o+1],e[o+2])};i&&(f(t),f(n)),e.isArea&&(u=t.splice(t.length-6,6),a=n.splice(n.length-6,6));if(r<=n.length/s&&t.length===n.length)for(;r--;)n=[].concat(n).splice(0,s).concat(n);e.shift=0;if(t.length)for(e=n.length;t.length<e;)r=[].concat(t).splice(t.length-s,s),i&&(r[s-6]=r[s-2],r[s-5]=r[s-1]),t=t.concat(r);return u&&(t=t.concat(u),n=n.concat(a)),[t,n]},step:function(e,t,n,r){var i=[],s=e.length;if(n===1)i=r;else if(s===t.length&&n<1)for(;s--;)r=parseFloat(e[s]),i[s]=isNaN(r)?e[s]:n*parseFloat(t[s]-r)+r;else i=t;return i}},function(e){B.HighchartsAdapter=B.HighchartsAdapter||e&&{init:function(t){var r=e.fx;e.extend(e.easing,{easeOutQuad:function(e,t,n,r,i){return-r*(t/=i)*(t-2)+n}}),e.each(["cur","_default","width","height","opacity"],function(t,n){var i=r.step,s;n==="cur"?i=r.prototype:n==="_default"&&e.Tween&&(i=e.Tween.propHooks[n],n="set"),(s=i[n])&&(i[n]=function(e){var r,e=t?e:this;if(e.prop!=="align")return r=e.elem,r.attr?r.attr(e.prop,n==="cur"?P:e.now):s.apply(this,arguments)})}),zt(e.cssHooks.opacity,"get",function(e,t,n){return t.attr?t.opacity||0:e.call(this,t,n)}),this.addAnimSetter("d",function(e){var n=e.elem,r;e.started||(r=t.init(n,n.d,n.toD),e.start=r[0],e.end=r[1],e.started=!0),n.attr("d",t.step(e.start,e.end,e.pos,n.toD))}),this.each=Array.prototype.forEach?function(e,t){return Array.prototype.forEach.call(e,t)}:function(e,t){var n,r=e.length;for(n=0;n<r;n++)if(t.call(e[n],e[n],n,e)===!1)return n},e.fn.highcharts=function(){var e="Chart",t=arguments,r,i;return this[0]&&(n(t[0])&&(e=t[0],t=Array.prototype.slice.call(t,1)),r=t[0],r!==P&&(r.chart=r.chart||{},r.chart.renderTo=this[0],new qt[e](r,t[1]),i=this),r===P&&(i=vt[l(this[0],"data-highcharts-chart")])),i}},addAnimSetter:function(t,n){e.Tween?e.Tween.propHooks[t]={set:n}:e.fx.step[t]=n},getScript:e.getScript,inArray:e.inArray,adapterRun:function(t,n){return e(t)[n]()},grep:e.grep,map:function(e,t){for(var n=[],r=0,i=e.length;r<i;r++)n[r]=t.call(e[r],e[r],r,e);return n},offset:function(t){return e(t).offset()},addEvent:function(t,n,r){e(t).bind(n,r)},removeEvent:function(t,n,r){var i=H.removeEventListener?"removeEventListener":"detachEvent";H[i]&&t&&!t[i]&&(t[i]=function(){}),e(t).unbind(n,r)},fireEvent:function(t,n,r,i){var s=e.Event(n),o="detached"+n,u;!Q&&r&&(delete r.layerX,delete r.layerY,delete r.returnValue),Rt(s,r),t[n]&&(t[o]=t[n],t[n]=null),e.each(["preventDefault","stopPropagation"],function(e,t){var n=s[t];s[t]=function(){try{n.call(s)}catch(e){t==="preventDefault"&&(u=!0)}}}),e(t).trigger(s),t[o]&&(t[n]=t[o],t[o]=null),i&&!s.isDefaultPrevented()&&!u&&i(s)},washMouseEvent:function(e){var t=e.originalEvent||e;return t.pageX===P&&(t.pageX=e.pageX,t.pageY=e.pageY),t},animate:function(t,n,r){var i=e(t);t.style||(t.style={}),n.d&&(t.toD=n.d,n.d=1),i.stop(),n.opacity!==P&&t.attr&&(n.opacity+="px"),t.hasAnim=1,i.animate(n,r)},stop:function(t){t.hasAnim&&e(t).stop()}}}(B.jQuery);var Wt=B.HighchartsAdapter,Xt=Wt||{};Wt&&Wt.init.call(Wt,ht);var Vt=Xt.adapterRun,$t=Xt.getScript,Jt=Xt.inArray,Kt=qt.each=Xt.each,Qt=Xt.grep,Gt=Xt.offset,Yt=Xt.map,Zt=Xt.addEvent,en=Xt.removeEvent,tn=Xt.fireEvent,nn=Xt.washMouseEvent,rn=Xt.animate,sn=Xt.stop;lt={colors:"#7cb5ec,#434348,#90ed7d,#f7a35c,#8085e9,#f15c80,#e4d354,#2b908f,#f45b5b,#91e8e1".split(","),symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),shortMonths:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),weekdays:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),decimalPoint:".",numericSymbols:"k,M,G,T,P,E".split(","),resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:" "},global:{useUTC:!0,canvasToolsURL:"http://code.highcharts.com/stock/2.1.9/modules/canvas-tools.js",VMLRadialGradientURL:"http://code.highcharts.com/stock/2.1.9/gfx/vml-radial-gradient.png"},chart:{borderColor:"#4572A7",borderRadius:0,defaultSeriesType:"line",ignoreHiddenSeries:!0,spacing:[10,10,15,10],backgroundColor:"#FFFFFF",plotBorderColor:"#C0C0C0",resetZoomButton:{theme:{zIndex:20},position:{align:"right",x:-10,y:10}}},title:{text:"Chart title",align:"center",margin:15,style:{color:"#333333",fontSize:"18px"}},subtitle:{text:"",align:"center",style:{color:"#555555"}},plotOptions:{line:{allowPointSelect:!1,showCheckbox:!1,animation:{duration:1e3},events:{},lineWidth:2,marker:{lineWidth:0,radius:4,lineColor:"#FFFFFF",states:{hover:{enabled:!0,lineWidthPlus:1,radiusPlus:2},select:{fillColor:"#FFFFFF",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:{align:"center",formatter:function(){return this.y===null?"":qt.numberFormat(this.y,-1)},style:{color:"contrast",fontSize:"11px",fontWeight:"bold",textShadow:"0 0 6px contrast, 0 0 3px contrast"},verticalAlign:"bottom",x:0,y:0,padding:5},cropThreshold:300,pointRange:0,softThreshold:!0,states:{hover:{lineWidthPlus:1,marker:{},halo:{size:10,opacity:.25}},select:{marker:{}}},stickyTracking:!0,turboThreshold:1e3}},labels:{style:{position:"absolute",color:"#3E576F"}},legend:{enabled:!0,align:"center",layout:"horizontal",labelFormatter:function(){return this.name},borderColor:"#909090",borderRadius:0,navigation:{activeColor:"#274b6d",inactiveColor:"#CCC"},shadow:!1,itemStyle:{color:"#333333",fontSize:"12px",fontWeight:"bold"},itemHoverStyle:{color:"#000"},itemHiddenStyle:{color:"#CCC"},itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"45%"},style:{position:"absolute",backgroundColor:"white",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:nt,backgroundColor:"rgba(249, 249, 249, .85)",borderWidth:1,borderRadius:3,dateTimeLabelFormats:{millisecond:"%A, %b %e, %H:%M:%S.%L",second:"%A, %b %e, %H:%M:%S",minute:"%A, %b %e, %H:%M",hour:"%A, %b %e, %H:%M",day:"%A, %b %e, %Y",week:"Week from %A, %b %e, %Y",month:"%B %Y",year:"%Y"},footerFormat:"",headerFormat:'<span style="font-size: 10px">{point.key}</span><br/>',pointFormat:'<span style="color:{point.color}">●</span> {series.name}: <b>{point.y}</b><br/>',shadow:!0,snap:et?25:10,style:{color:"#333333",cursor:"default",fontSize:"12px",padding:"8px",pointerEvents:"none",whiteSpace:"nowrap"}},credits:{enabled:!0,text:"Highcharts.com",href:"http://www.highcharts.com",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#909090",fontSize:"9px"}}};var on=lt.plotOptions,Wt=on.line;L();var un=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/,an=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/,fn=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/,ln=function(n){var r=[],i,o;return function(e){e&&e.stops?o=Yt(e.stops,function(e){return ln(e[1])}):(i=un.exec(e))?r=[t(i[1]),t(i[2]),t(i[3]),parseFloat(i[4],10)]:(i=an.exec(e))?r=[t(i[1],16),t(i[2],16),t(i[3],16),1]:(i=fn.exec(e))&&(r=[t(i[1]),t(i[2]),t(i[3]),1])}(n),{get:function(t){var i;return o?(i=e(n),i.stops=[].concat(i.stops),Kt(o,function(e,n){i.stops[n]=[i.stops[n][0],e.get(t)]})):i=r&&!isNaN(r[0])?t==="rgb"?"rgb("+r[0]+","+r[1]+","+r[2]+")":t==="a"?r[3]:"rgba("+r.join(",")+")":n,i},brighten:function(e){if(o)Kt(o,function(t){t.brighten(e)});else if(s(e)&&e!==0){var n;for(n=0;n<3;n++)r[n]+=t(e*255),r[n]<0&&(r[n]=0),r[n]>255&&(r[n]=255)}return this},rgba:r,setOpacity:function(e){return r[3]=e,this},raw:n}};A.prototype={opacity:1,textProps:"fontSize,fontWeight,fontFamily,fontStyle,color,lineHeight,width,textDecoration,textOverflow,textShadow".split(","),init:function(e,t){this.element=t==="span"?p(t):H.createElementNS(tt,t),this.renderer=e},animate:function(t,n,r){return n=Ut(n,this.renderer.globalAnimation,!0),sn(this),n?(n=e(n,{}),r&&(n.complete=r),rn(this,t,n)):this.attr(t,null,r),this},colorGradient:function(t,n,r){var s=this.renderer,o,u,a,l,c,h,p,d,v,m,g,y=[];t.linearGradient?u="linearGradient":t.radialGradient&&(u="radialGradient");if(u){a=t[u],c=s.gradients,p=t.stops,m=r.radialReference,i(a)&&(t[u]=a={x1:a[0],y1:a[1],x2:a[2],y2:a[3],gradientUnits:"userSpaceOnUse"}),u==="radialGradient"&&m&&!f(a.gradientUnits)&&(l=a,a=e(a,s.getRadialAttr(m,l),{gradientUnits:"userSpaceOnUse"}));for(g in a)g!=="id"&&y.push(g,a[g]);for(g in p)y.push(p[g]);y=y.join(","),c[y]?t=c[y].attr("id"):(a.id=t="highcharts-"+at++,c[y]=h=s.createElement(u).attr(a).add(s.defs),h.radAttr=l,h.stops=[],Kt(p,function(e){e[1].indexOf("rgba")===0?(o=ln(e[1]),d=o.get("rgb"),v=o.get("a")):(d=e[1],v=1),e=s.createElement("stop").attr({offset:e[0],"stop-color":d,"stop-opacity":v}).add(h),h.stops.push(e)})),r.setAttribute(n,"url("+s.url+"#"+t+")"),r.gradient=y}},applyTextShadow:function(e){var n=this.element,r,i=e.indexOf("contrast")!==-1,s={},o=this.renderer.forExport,u=o||n.style.textShadow!==P&&!Q;i&&(s.textShadow=e=e.replace(/contrast/g,this.renderer.getContrast(n.style.fill)));if(Y||o)s.textRendering="geometricPrecision";u?this.css(s):(this.fakeTS=!0,this.ySetter=this.xSetter,r=[].slice.call(n.getElementsByTagName("tspan")),Kt(e.split(/\s?,\s?/g),function(e){var i=n.firstChild,s,o,e=e.split(" ");s=e[e.length-1],(o=e[e.length-2])&&Kt(r,function(e,r){var u;r===0&&(e.setAttribute("x",n.getAttribute("x")),r=n.getAttribute("y"),e.setAttribute("y",r||0),r===null&&n.setAttribute("y",0)),u=e.cloneNode(1),l(u,{"class":"highcharts-text-shadow",fill:s,stroke:s,"stroke-opacity":1/R(t(o),3),"stroke-width":o,"stroke-linejoin":"round"}),n.insertBefore(u,i)})}))},attr:function(e,t,n){var r,i=this.element,s,o=this,u;typeof e=="string"&&t!==P&&(r=e,e={},e[r]=t);if(typeof e=="string")o=(this[e+"Getter"]||this._defaultGetter).call(this,e,i);else{for(r in e)t=e[r],u=!1,this.symbolName&&/^(x|y|width|height|r|start|end|innerR|anchorX|anchorY)/.test(r)&&(s||(this.symbolAttr(e),s=!0),u=!0),this.rotation&&(r==="x"||r==="y")&&(this.doTransform=!0),u||(this[r+"Setter"]||this._defaultSetter).call(this,t,r,i),this.shadows&&/^(width|height|visibility|x|y|d|transform|cx|cy|r)$/.test(r)&&this.updateShadows(r,t);this.doTransform&&(this.updateTransform(),this.doTransform=!1)}return n&&n(),o},updateShadows:function(e,t){for(var n=this.shadows,r=n.length;r--;)n[r].setAttribute(e,e==="height"?R(t-(n[r].cutHeight||0),0):e==="d"?this.d:t)},addClass:function(e){var t=this.element,n=l(t,"class")||"";return n.indexOf(e)===-1&&l(t,"class",n+" "+e),this},symbolAttr:function(e){var t=this;Kt("x,y,r,start,end,width,height,innerR,anchorX,anchorY".split(","),function(n){t[n]=Ut(e[n],t[n])}),t.attr({d:t.renderer.symbols[t.symbolName](t.x,t.y,t.width,t.height,t)})},clip:function(e){return this.attr("clip-path",e?"url("+this.renderer.url+"#"+e.id+")":yt)},crisp:function(e){var t,n={},r,i=e.strokeWidth||this.strokeWidth||0;r=F(i)%2/2,e.x=I(e.x||this.x||0)+r,e.y=I(e.y||this.y||0)+r,e.width=I((e.width||this.width||0)-2*r),e.height=I((e.height||this.height||0)-2*r),e.strokeWidth=i;for(t in e)this[t]!==e[t]&&(this[t]=n[t]=e[t]);return n},css:function(e){var n=this.styles,r={},i=this.element,s,o,u="";s=!n,e&&e.color&&(e.fill=e.color);if(n)for(o in e)e[o]!==n[o]&&(r[o]=e[o],s=!0);if(s){s=this.textWidth=e&&e.width&&i.nodeName.toLowerCase()==="text"&&t(e.width)||this.textWidth,n&&(e=Rt(n,r)),this.styles=e,s&&(it||!nt&&this.renderer.forExport)&&delete e.width;if(Q&&!nt)h(this.element,e);else{n=function(e,t){return"-"+t.toLowerCase()};for(o in e)u+=o.replace(/([A-Z])/g,n)+":"+e[o]+";";l(i,"style",u)}s&&this.added&&this.renderer.buildText(this)}return this},on:function(e,t){var n=this,r=n.element;return ot&&e==="click"?(r.ontouchstart=function(e){n.touchEventFired=St.now(),e.preventDefault(),t.call(r,e)},r.onclick=function(e){(J.indexOf("Android")===-1||St.now()-(n.touchEventFired||0)>1100)&&t.call(r,e)}):r["on"+e]=t,this},setRadialReference:function(e){var t=this.renderer.gradients[this.element.gradient];return this.element.radialReference=e,t&&t.radAttr&&t.animate(this.renderer.getRadialAttr(e,t.radAttr)),this},translate:function(e,t){return this.attr({translateX:e,translateY:t})},invert:function(){return this.inverted=!0,this.updateTransform(),this},updateTransform:function(){var e=this.translateX||0,t=this.translateY||0,n=this.scaleX,r=this.scaleY,i=this.inverted,s=this.rotation,o=this.element;i&&(e+=this.attr("width"),t+=this.attr("height")),e=["translate("+e+","+t+")"],i?e.push("rotate(90) scale(-1,1)"):s&&e.push("rotate("+s+" "+(o.getAttribute("x")||0)+" "+(o.getAttribute("y")||0)+")"),(f(n)||f(r))&&e.push("scale("+Ut(n,1)+" "+Ut(r,1)+")"),e.length&&o.setAttribute("transform",e.join(" "))},toFront:function(){var e=this.element;return e.parentNode.appendChild(e),this},align:function(e,t,r){var i,s,o,u,f={};s=this.renderer,o=s.alignedObjects;if(e){if(this.alignOptions=e,this.alignByTranslate=t,!r||n(r))this.alignTo=i=r||"renderer",a(o,this),o.push(this),r=null}else e=this.alignOptions,t=this.alignByTranslate,i=this.alignTo;r=Ut(r,s[i],s),i=e.align,s=e.verticalAlign,o=(r.x||0)+(e.x||0),u=(r.y||0)+(e.y||0);if(i==="right"||i==="center")o+=(r.width-(e.width||0))/{right:1,center:2}[i];f[t?"translateX":"x"]=F(o);if(s==="bottom"||s==="middle")u+=(r.height-(e.height||0))/({bottom:1,middle:2}[s]||1);return f[t?"translateY":"y"]=F(u),this[this.placed?"animate":"attr"](f),this.placed=!0,this.alignAttr=f,this},getBBox:function(e){var t,n=this.renderer,r,i=this.rotation,s=this.element,o=this.styles,u=i*$;r=this.textStr;var a,f=s.style,l,c;r!==P&&(c=["",i||0,o&&o.fontSize,s.style.width].join(","),c=r===""||bt.test(r)?"num:"+r.toString().length+c:r+c),c&&!e&&(t=n.cache[c]);if(!t){if(s.namespaceURI===tt||n.forExport){try{l=this.fakeTS&&function(e){Kt(s.querySelectorAll(".highcharts-text-shadow"),function(t){t.style.display=e})},Z&&f.textShadow?(a=f.textShadow,f.textShadow=""):l&&l(yt),t=s.getBBox?Rt({},s.getBBox()):{width:s.offsetWidth,height:s.offsetHeight},a?f.textShadow=a:l&&l("")}catch(h){}if(!t||t.width<0)t={width:0,height:0}}else t=this.htmlGetBBox();n.isSVG&&(e=t.width,r=t.height,Q&&o&&o.fontSize==="11px"&&r.toPrecision(3)==="16.9"&&(t.height=r=14),i&&(t.width=z(r*X(u))+z(e*W(u)),t.height=z(r*W(u))+z(e*X(u)))),c&&(n.cache[c]=t)}return t},show:function(e){return this.attr({visibility:e?"inherit":"visible"})},hide:function(){return this.attr({visibility:"hidden"})},fadeOut:function(e){var t=this;t.animate({opacity:0},{duration:e||150,complete:function(){t.attr({y:-9999})}})},add:function(e){var t=this.renderer,n=this.element,r;e&&(this.parentGroup=e),this.parentInverted=e&&e.inverted,this.textStr!==void 0&&t.buildText(this),this.added=!0;if(!e||e.handleZ||this.zIndex)r=this.zIndexSetter();return r||(e?e.element:t.box).appendChild(n),this.onAdd&&this.onAdd(),this},safeRemoveChild:function(e){var t=e.parentNode;t&&t.removeChild(e)},destroy:function(){var e=this,t=e.element||{},n=e.shadows,r=e.renderer.isSVG&&t.nodeName==="SPAN"&&e.parentGroup,i,s;t.onclick=t.onmouseout=t.onmouseover=t.onmousemove=t.point=null,sn(e),e.clipPath&&(e.clipPath=e.clipPath.destroy());if(e.stops){for(s=0;s<e.stops.length;s++)e.stops[s]=e.stops[s].destroy();e.stops=null}e.safeRemoveChild(t);for(n&&Kt(n,function(t){e.safeRemoveChild(t)});r&&r.div&&r.div.childNodes.length===0;)t=r.parentGroup,e.safeRemoveChild(r.div),delete r.div,r=t;e.alignTo&&a(e.renderer.alignedObjects,e);for(i in e)delete e[i];return null},shadow:function(e,t,n){var r=[],i,s,o=this.element,u,a,f,c;if(e){a=Ut(e.width,3),f=(e.opacity||.15)/a,c=this.parentInverted?"(-1,-1)":"("+Ut(e.offsetX,1)+", "+Ut(e.offsetY,1)+")";for(i=1;i<=a;i++)s=o.cloneNode(0),u=a*2+1-2*i,l(s,{isShadow:"true",stroke:e.color||"black","stroke-opacity":f*i,"stroke-width":u,transform:"translate"+c,fill:yt}),n&&(l(s,"height",R(l(s,"height")-u,0)),s.cutHeight=u),t?t.element.appendChild(s):o.parentNode.insertBefore(s,o),r.push(s);this.shadows=r}return this},xGetter:function(e){return this.element.nodeName==="circle"&&(e={x:"cx",y:"cy"}[e]||e),this._defaultGetter(e)},_defaultGetter:function(e){return e=Ut(this[e],this.element?this.element.getAttribute(e):null,0),/^[\-0-9\.]+$/.test(e)&&(e=parseFloat(e)),e},dSetter:function(e,t,n){e&&e.join&&(e=e.join(" ")),/(NaN| {2}|^$)/.test(e)&&(e="M 0 0"),n.setAttribute(t,e),this[t]=e},dashstyleSetter:function(e){var n;if(e=e&&e.toLowerCase()){e=e.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(",");for(n=e.length;n--;)e[n]=t(e[n])*this["stroke-width"];e=e.join(",").replace("NaN","none"),this.element.setAttribute("stroke-dasharray",e)}},alignSetter:function(e){this.element.setAttribute("text-anchor",{left:"start",center:"middle",right:"end"}[e])},opacitySetter:function(e,t,n){this[t]=e,n.setAttribute(t,e)},titleSetter:function(e){var t=this.element.getElementsByTagName("title")[0];t||(t=H.createElementNS(tt,"title"),this.element.appendChild(t)),t.appendChild(H.createTextNode(String(Ut(e),"").replace(/<[^>]*>/g,"")))},textSetter:function(e){e!==this.textStr&&(delete this.bBox,this.textStr=e,this.added&&this.renderer.buildText(this))},fillSetter:function(e,t,n){typeof e=="string"?n.setAttribute(t,e):e&&this.colorGradient(e,t,n)},visibilitySetter:function(e,t,n){e==="inherit"?n.removeAttribute(t):n.setAttribute(t,e)},zIndexSetter:function(e,n){var r=this.renderer,i=this.parentGroup,r=(i||r).element||r.box,s,o,u=this.element,a;s=this.added;var c;f(e)&&(u.setAttribute(n,e),e=+e,this[n]===e&&(s=!1),this[n]=e);if(s){(e=this.zIndex)&&i&&(i.handleZ=!0),i=r.childNodes;for(c=0;c<i.length&&!a;c++)if(s=i[c],o=l(s,"zIndex"),s!==u&&(t(o)>e||!f(e)&&f(o)))r.insertBefore(u,s),a=!0;a||r.appendChild(u)}return a},_defaultSetter:function(e,t,n){n.setAttribute(t,e)}},A.prototype.yGetter=A.prototype.xGetter,A.prototype.translateXSetter=A.prototype.translateYSetter=A.prototype.rotationSetter=A.prototype.verticalAlignSetter=A.prototype.scaleXSetter=A.prototype.scaleYSetter=function(e,t){this[t]=e,this.doTransform=!0},A.prototype["stroke-widthSetter"]=A.prototype.strokeSetter=function(e,t,n){this[t]=e,this.stroke&&this["stroke-width"]?(this.strokeWidth=this["stroke-width"],A.prototype.fillSetter.call(this,this.stroke,"stroke",n),n.setAttribute("stroke-width",this["stroke-width"]),this.hasStroke=!0):t==="stroke-width"&&e===0&&this.hasStroke&&(n.removeAttribute("stroke"),this.hasStroke=!1)};var cn=function(){this.init.apply(this,arguments)};cn.prototype={Element:A,init:function(e,t,n,r,i,s){var o=location,u,r=this.createElement("svg").attr({version:"1.1"}).css(this.getStyle(r));u=r.element,e.appendChild(u),e.innerHTML.indexOf("xmlns")===-1&&l(u,"xmlns",tt),this.isSVG=!0,this.box=u,this.boxWrapper=r,this.alignedObjects=[],this.url=(Z||Y)&&H.getElementsByTagName("base").length?o.href.replace(/#.*?$/,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20"):"",this.createElement("desc").add().element.appendChild(H.createTextNode("Created with Highstock 2.1.9")),this.defs=this.createElement("defs").add(),this.allowHTML=s,this.forExport=i,this.gradients={},this.cache={},this.setSize(t,n,!1);var a;Z&&e.getBoundingClientRect&&(this.subPixelFix=t=function(){h(e,{left:0,top:0}),a=e.getBoundingClientRect(),h(e,{left:q(a.left)-a.left+"px",top:q(a.top)-a.top+"px"})},t(),Zt(B,"resize",t))},getStyle:function(e){return this.style=Rt({fontFamily:'"Lucida Grande", "Lucida Sans Unicode", Arial, Helvetica, sans-serif',fontSize:"12px"},e)},isHidden:function(){return!this.boxWrapper.getBBox().width},destroy:function(){var e=this.defs;return this.box=null,this.boxWrapper=this.boxWrapper.destroy(),x(this.gradients||{}),this.gradients=null,e&&(this.defs=e.destroy()),this.subPixelFix&&en(B,"resize",this.subPixelFix),this.alignedObjects=null},createElement:function(e){var t=new this.Element;return t.init(this,e),t},draw:function(){},getRadialAttr:function(e,t){return{cx:e[0]-e[2]/2+t.cx*e[2],cy:e[1]-e[2]/2+t.cy*e[2],r:t.r*e[2]}},buildText:function(e){for(var n=e.element,r=this,i=r.forExport,s=Ut(e.textStr,"").toString(),o=s.indexOf("<")!==-1,u=n.childNodes,a,f,c=l(n,"x"),p=e.styles,d=e.textWidth,v=p&&p.lineHeight,m=p&&p.textShadow,g=p&&p.textOverflow==="ellipsis",y=u.length,b=d&&!e.added&&this.box,w=function(e){return v?t(v):r.fontMetrics(/(px|em)$/.test(e&&e.style.fontSize)?e.style.fontSize:p&&p.fontSize||r.style.fontSize||12,e).h},E=function(e){return e.replace(/&lt;/g,"<").replace(/&gt;/g,">")};y--;)n.removeChild(u[y]);!o&&!m&&!g&&s.indexOf(" ")===-1?n.appendChild(H.createTextNode(E(s))):(a=/<.*style="([^"]+)".*>/,f=/<.*href="(http[^"]+)".*>/,b&&b.appendChild(n),s=o?s.replace(/<(b|strong)>/g,'<span style="font-weight:bold">').replace(/<(i|em)>/g,'<span style="font-style:italic">').replace(/<a/g,"<span").replace(/<\/(b|strong|i|em|a)>/g,"</span>").split(/<br.*?>/g):[s],s[s.length-1]===""&&s.pop(),Kt(s,function(t,s){var o,u=0,t=t.replace(/<span/g,"|||<span").replace(/<\/span>/g,"</span>|||");o=t.split("|||"),Kt(o,function(t){if(t!==""||o.length===1){var v={},m=H.createElementNS(tt,"tspan"),y;a.test(t)&&(y=t.match(a)[1].replace(/(;| |^)color([ :])/,"$1fill$2"),l(m,"style",y)),f.test(t)&&!i&&(l(m,"onclick",'location.href="'+t.match(f)[1]+'"'),h(m,{cursor:"pointer"})),t=E(t.replace(/<(.|\n)*?>/g,"")||" ");if(t!==" "){m.appendChild(H.createTextNode(t)),u?v.dx=0:s&&c!==null&&(v.x=c),l(m,v),n.appendChild(m),!u&&s&&(!nt&&i&&h(m,{display:"block"}),l(m,"dy",w(m)));if(d){for(var v=t.replace(/([^\^])-/g,"$1- ").split(" "),b=o.length>1||s||v.length>1&&p.whiteSpace!=="nowrap",S,x,T,N=[],C=w(m),k=1,L=e.rotation,A=t,O=A.length;(b||g)&&(v.length||N.length);)e.rotation=0,S=e.getBBox(!0),T=S.width,!nt&&r.forExport&&(T=r.measureSpanWidth(m.firstChild.data,e.styles)),S=T>d,x===void 0&&(x=S),g&&x?(O/=2,A===""||!S&&O<.5?v=[]:(S&&(x=!0),A=t.substring(0,A.length+(S?-1:1)*q(O)),v=[A+(d>3?"…":"")],m.removeChild(m.firstChild))):!S||v.length===1?(v=N,N=[],v.length&&(k++,m=H.createElementNS(tt,"tspan"),l(m,{dy:C,x:c}),y&&l(m,"style",y),n.appendChild(m)),T>d&&(d=T)):(m.removeChild(m.firstChild),N.unshift(v.pop())),v.length&&m.appendChild(H.createTextNode(v.join(" ").replace(/- /g,"-")));x&&e.attr("title",e.textStr),e.rotation=L}u++}}})}),b&&b.removeChild(n),m&&e.applyTextShadow&&e.applyTextShadow(m))},getContrast:function(e){return e=ln(e).rgba,e[0]+e[1]+e[2]>384?"#000000":"#FFFFFF"},button:function(t,n,r,i,s,o,u,a,f){var l=this.label(t,n,r,f,null,null,null,null,"button"),c=0,h,p,d,v,m,g,t={x1:0,y1:0,x2:0,y2:1},s=e({"stroke-width":1,stroke:"#CCCCCC",fill:{linearGradient:t,stops:[[0,"#FEFEFE"],[1,"#F6F6F6"]]},r:2,padding:5,style:{color:"black"}},s);return d=s.style,delete s.style,o=e(s,{stroke:"#68A",fill:{linearGradient:t,stops:[[0,"#FFF"],[1,"#ACF"]]}},o),v=o.style,delete o.style,u=e(s,{stroke:"#68A",fill:{linearGradient:t,stops:[[0,"#9BD"],[1,"#CDF"]]}},u),m=u.style,delete u.style,a=e(s,{style:{color:"#CCC"}},a),g=a.style,delete a.style,Zt(l.element,Q?"mouseover":"mouseenter",function(){c!==3&&l.attr(o).css(v)}),Zt(l.element,Q?"mouseout":"mouseleave",function(){c!==3&&(h=[s,o,u][c],p=[d,v,m][c],l.attr(h).css(p))}),l.setState=function(e){(l.state=c=e)?e===2?l.attr(u).css(m):e===3&&l.attr(a).css(g):l.attr(s).css(d)},l.on("click",function(e){c!==3&&i.call(l,e)}).attr(s).css(Rt({cursor:"default"},d))},crispLine:function(e,t){return e[1]===e[4]&&(e[1]=e[4]=F(e[1])-t%2/2),e[2]===e[5]&&(e[2]=e[5]=F(e[2])+t%2/2),e},path:function(e){var t={fill:yt};return i(e)?t.d=e:r(e)&&Rt(t,e),this.createElement("path").attr(t)},circle:function(e,t,n){return e=r(e)?e:{x:e,y:t,r:n},t=this.createElement("circle"),t.xSetter=function(e){this.element.setAttribute("cx",e)},t.ySetter=function(e){this.element.setAttribute("cy",e)},t.attr(e)},arc:function(e,t,n,i,s,o){return r(e)&&(t=e.y,n=e.r,i=e.innerR,s=e.start,o=e.end,e=e.x),e=this.symbol("arc",e||0,t||0,n||0,n||0,{innerR:i||0,start:s||0,end:o||0}),e.r=n,e},rect:function(e,t,n,i,s,o){var s=r(e)?e.r:s,u=this.createElement("rect"),e=r(e)?e:e===P?{}:{x:e,y:t,width:R(n,0),height:R(i,0)};return o!==P&&(e.strokeWidth=o,e=u.crisp(e)),s&&(e.r=s),u.rSetter=function(e){l(this.element,{rx:e,ry:e})},u.attr(e)},setSize:function(e,t,n){var r=this.alignedObjects,i=r.length;this.width=e,this.height=t;for(this.boxWrapper[Ut(n,!0)?"animate":"attr"]({width:e,height:t});i--;)r[i].align()},g:function(e){var t=this.createElement("g");return f(e)?t.attr({"class":"highcharts-"+e}):t},image:function(e,t,n,r,i){var s={preserveAspectRatio:yt};return arguments.length>1&&Rt(s,{x:t,y:n,width:r,height:i}),s=this.createElement("image").attr(s),s.element.setAttributeNS?s.element.setAttributeNS("http://www.w3.org/1999/xlink","href",e):s.element.setAttribute("hc-svg-href",e),s},symbol:function(e,t,n,r,i,s){var o,u=this.symbols[e],u=u&&u(F(t),F(n),r,i,s),a=/^url\((.*?)\)$/,f,l;return u?(o=this.path(u),Rt(o,{symbolName:e,x:t,y:n,width:r,height:i}),s&&Rt(o,s)):a.test(e)&&(l=function(e,t){e.element&&(e.attr({width:t[0],height:t[1]}),e.alignByTranslate||e.translate(F((r-t[0])/2),F((i-t[1])/2)))},f=e.match(a)[1],e=ut[f]||s&&s.width&&s.height&&[s.width,s.height],o=this.image(f).attr({x:t,y:n}),o.isImg=!0,e?l(o,e):(o.attr({width:0,height:0}),p("img",{onload:function(){this.width===0&&(h(this,{position:"absolute",top:"-999em"}),document.body.appendChild(this)),l(o,ut[f]=[this.width,this.height]),this.parentNode&&this.parentNode.removeChild(this)},src:f}))),o},symbols:{circle:function(e,t,n,r){var i=.166*n;return["M",e+n/2,t,"C",e+n+i,t,e+n+i,t+r,e+n/2,t+r,"C",e-i,t+r,e-i,t,e+n/2,t,"Z"]},square:function(e,t,n,r){return["M",e,t,"L",e+n,t,e+n,t+r,e,t+r,"Z"]},triangle:function(e,t,n,r){return["M",e+n/2,t,"L",e+n,t+r,e,t+r,"Z"]},"triangle-down":function(e,t,n,r){return["M",e,t,"L",e+n,t,e+n/2,t+r,"Z"]},diamond:function(e,t,n,r){return["M",e+n/2,t,"L",e+n,t+r/2,e+n/2,t+r,e,t+r/2,"Z"]},arc:function(e,t,n,r,i){var s=i.start,n=i.r||n||r,o=i.end-.001,r=i.innerR,u=i.open,a=W(s),f=X(s),l=W(o),o=X(o),i=i.end-s<V?0:1;return["M",e+n*a,t+n*f,"A",n,n,0,i,1,e+n*l,t+n*o,u?"M":"L",e+r*l,t+r*o,"A",r,r,0,i,0,e+r*a,t+r*f,u?"":"Z"]},callout:function(e,t,n,r,i){var s=U(i&&i.r||0,n,r),o=s+6,u=i&&i.anchorX,i=i&&i.anchorY,a;return a=["M",e+s,t,"L",e+n-s,t,"C",e+n,t,e+n,t,e+n,t+s,"L",e+n,t+r-s,"C",e+n,t+r,e+n,t+r,e+n-s,t+r,"L",e+s,t+r,"C",e,t+r,e,t+r,e,t+r-s,"L",e,t+s,"C",e,t,e,t,e+s,t],u&&u>n&&i>t+o&&i<t+r-o?a.splice(13,3,"L",e+n,i-6,e+n+6,i,e+n,i+6,e+n,t+r-s):u&&u<0&&i>t+o&&i<t+r-o?a.splice(33,3,"L",e,i+6,e-6,i,e,i-6,e,t+s):i&&i>r&&u>e+o&&u<e+n-o?a.splice(23,3,"L",u+6,t+r,u,t+r+6,u-6,t+r,e+s,t+r):i&&i<0&&u>e+o&&u<e+n-o&&a.splice(3,3,"L",u-6,t,u,t-6,u+6,t,n-s,t),a}},clipRect:function(e,t,n,r){var i="highcharts-"+at++,s=this.createElement("clipPath").attr({id:i}).add(this.defs),e=this.rect(e,t,n,r,0).add(s);return e.id=i,e.clipPath=s,e.count=0,e},text:function(e,t,n,r){var i=it||!nt&&this.forExport,s={};if(r&&(this.allowHTML||!this.forExport))return this.html(e,t,n);s.x=Math.round(t||0),n&&(s.y=Math.round(n));if(e||e===0)s.text=e;return e=this.createElement("text").attr(s),i&&e.css({position:"absolute"}),r||(e.xSetter=function(e,t,n){var r=n.getElementsByTagName("tspan"),i,s=n.getAttribute(t),o;for(o=0;o<r.length;o++)i=r[o],i.getAttribute(t)===s&&i.setAttribute(t,e);n.setAttribute(t,e)}),e},fontMetrics:function(e,n){var r,i,e=e||this.style.fontSize;return!e&&n&&B.getComputedStyle&&(n=n.element||n,e=(r=B.getComputedStyle(n,""))&&r.fontSize),e=/px/.test(e)?t(e):/em/.test(e)?parseFloat(e)*12:12,r=e<24?e+3:F(e*1.2),i=F(r*.8),{h:r,b:i,f:e}},rotCorr:function(e,t,n){var r=e;return t&&n&&(r=R(r*W(t*$),4)),{x:-e/3*X(t*$),y:r}},label:function(t,n,r,i,s,o,u,a,l){function c(){var e,t;e=m.element.style,y=(S===void 0||x===void 0||v.styles.textAlign)&&f(m.textStr)&&m.getBBox(),v.width=(S||y.width||0)+2*w+E,v.height=(x||y.height||0)+2*w,L=w+d.fontMetrics(e&&e.fontSize,m).b,O&&(g||(e=F(-b*w)+C,t=(a?-L:0)+C,v.box=g=i?d.symbol(i,e,t,v.width,v.height,k):d.rect(e,t,v.width,v.height,0,k[Et]),g.isImg||g.attr("fill",yt),g.add(v)),g.isImg||g.attr(Rt({width:F(v.width),height:F(v.height)},k)),k=null)}function h(){var e=v.styles,e=e&&e.textAlign,t=E+w*(1-b),n;n=a?0:L,f(S)&&y&&(e==="center"||e==="right")&&(t+={center:.5,right:1}[e]*(S-y.width));if(t!==m.x||n!==m.y)m.attr("x",t),n!==P&&m.attr("y",n);m.x=t,m.y=n}function p(e,t){g?g.attr(e,t):k[e]=t}var d=this,v=d.g(l),m=d.text("",0,0,u).attr({zIndex:1}),g,y,b=0,w=3,E=0,S,x,T,N,C=0,k={},L,O;v.onAdd=function(){m.add(v),v.attr({text:t||t===0?t:"",x:n,y:r}),g&&f(s)&&v.attr({anchorX:s,anchorY:o})},v.widthSetter=function(e){S=e},v.heightSetter=function(e){x=e},v.paddingSetter=function(e){f(e)&&e!==w&&(w=v.padding=e,h())},v.paddingLeftSetter=function(e){f(e)&&e!==E&&(E=e,h())},v.alignSetter=function(e){b={left:0,center:.5,right:1}[e]},v.textSetter=function(e){e!==P&&m.textSetter(e),c(),h()},v["stroke-widthSetter"]=function(e,t){e&&(O=!0),C=e%2/2,p(t,e)},v.strokeSetter=v.fillSetter=v.rSetter=function(e,t){t==="fill"&&e&&(O=!0),p(t,e)},v.anchorXSetter=function(e,t){s=e,p(t,F(e)-C-T)},v.anchorYSetter=function(e,t){o=e,p(t,e-N)},v.xSetter=function(e){v.x=e,b&&(e-=b*((S||y.width)+w)),T=F(e),v.attr("translateX",T)},v.ySetter=function(e){N=v.y=F(e),v.attr("translateY",N)};var M=v.css;return Rt(v,{css:function(t){if(t){var n={},t=e(t);Kt(v.textProps,function(e){t[e]!==P&&(n[e]=t[e],delete t[e])}),m.css(n)}return M.call(v,t)},getBBox:function(){return{width:y.width+2*w,height:y.height+2*w,x:y.x-w,y:y.y-w}},shadow:function(e){return g&&g.shadow(e),v},destroy:function(){en(v.element,"mouseenter"),en(v.element,"mouseleave"),m&&(m=m.destroy()),g&&(g=g.destroy()),A.prototype.destroy.call(v),v=d=c=h=p=null}})}},st=cn,Rt(A.prototype,{htmlCss:function(e){var t=this.element;if(t=e&&t.tagName==="SPAN"&&e.width)delete e.width,this.textWidth=t,this.updateTransform();return e&&e.textOverflow==="ellipsis"&&(e.whiteSpace="nowrap",e.overflow="hidden"),this.styles=Rt(this.styles,e),h(this.element,e),this},htmlGetBBox:function(){var e=this.element;return e.nodeName==="text"&&(e.style.position="absolute"),{x:e.offsetLeft,y:e.offsetTop,width:e.offsetWidth,height:e.offsetHeight}},htmlUpdateTransform:function(){if(this.added){var e=this.renderer,n=this.element,r=this.translateX||0,i=this.translateY||0,s=this.x||0,o=this.y||0,u=this.textAlign||"left",a={left:0,center:.5,right:1}[u],l=this.shadows,c=this.styles;h(n,{marginLeft:r,marginTop:i}),l&&Kt(l,function(e){h(e,{marginLeft:r+1,marginTop:i+1})}),this.inverted&&Kt(n.childNodes,function(t){e.invertChild(t,n)});if(n.tagName==="SPAN"){var p=this.rotation,d,v=t(this.textWidth),m=[p,u,n.innerHTML,this.textWidth,this.textAlign].join(",");m!==this.cTT&&(d=e.fontMetrics(n.style.fontSize).b,f(p)&&this.setSpanRotation(p,a,d),l=Ut(this.elemWidth,n.offsetWidth),l>v&&/[ \-]/.test(n.textContent||n.innerText)&&(h(n,{width:v+"px",display:"block",whiteSpace:c&&c.whiteSpace||"normal"}),l=v),this.getSpanCorrection(l,d,a,p,u)),h(n,{left:s+(this.xCorr||0)+"px",top:o+(this.yCorr||0)+"px"}),Y&&(d=n.offsetHeight),this.cTT=m}}else this.alignOnAdd=!0},setSpanRotation:function(e,t,n){var r={},i=Q?"-ms-transform":Y?"-webkit-transform":Z?"MozTransform":K?"-o-transform":"";r[i]=r.transform="rotate("+e+"deg)",r[i+(Z?"Origin":"-origin")]=r.transformOrigin=t*100+"% "+n+"px",h(this.element,r)},getSpanCorrection:function(e,t,n){this.xCorr=-e*n,this.yCorr=-t}}),Rt(cn.prototype,{html:function(e,t,n){var r=this.createElement("span"),i=r.element,s=r.renderer;return r.textSetter=function(e){e!==i.innerHTML&&delete this.bBox,i.innerHTML=this.textStr=e,r.htmlUpdateTransform()},r.xSetter=r.ySetter=r.alignSetter=r.rotationSetter=function(e,t){t==="align"&&(t="textAlign"),r[t]=e,r.htmlUpdateTransform()},r.attr({text:e,x:F(t),y:F(n)}).css({position:"absolute",fontFamily:this.style.fontFamily,fontSize:this.style.fontSize}),i.style.whiteSpace="nowrap",r.css=r.htmlCss,s.isSVG&&(r.add=function(e){var t,n=s.box.parentNode,o=[];if(this.parentGroup=e){if(t=e.div,!t){for(;e;)o.push(e),e=e.parentGroup;Kt(o.reverse(),function(e){var r,i=l(e.element,"class");i&&(i={className:i}),t=e.div=e.div||p(gt,i,{position:"absolute",left:(e.translateX||0)+"px",top:(e.translateY||0)+"px"},t||n),r=t.style,Rt(e,{translateXSetter:function(t,n){r.left=t+"px",e[n]=t,e.doTransform=!0},translateYSetter:function(t,n){r.top=t+"px",e[n]=t,e.doTransform=!0}}),Kt(["opacity","visibility"],function(t){zt(e,t+"Setter",function(e,t,n,i){e.call(this,t,n,i),r[n]=t})})})}}else t=n;return t.appendChild(i),r.added=!0,r.alignOnAdd&&r.htmlUpdateTransform(),r}),r}});var hn;!nt&&!it&&(Xt={init:function(e,t){var n=["<",t,' filled="f" stroked="f"'],r=["position: ","absolute",";"],i=t===gt;(t==="shape"||i)&&r.push("left:0;top:0;width:1px;height:1px;"),r.push("visibility: ",i?"hidden":"visible"),n.push(' style="',r.join(""),'"/>'),t&&(n=i||t==="span"||t==="img"?n.join(""):e.prepVML(n),this.element=p(n)),this.renderer=e},add:function(e){var t=this.renderer,n=this.element,r=t.box,r=e?e.element||e:r;return e&&e.inverted&&t.invertChild(n,r),r.appendChild(n),this.added=!0,this.alignOnAdd&&!this.deferUpdateTransform&&this.updateTransform(),this.onAdd&&this.onAdd(),this},updateTransform:A.prototype.htmlUpdateTransform,setSpanRotation:function(){var e=this.rotation,t=W(e*$),n=X(e*$);h(this.element,{filter:e?["progid:DXImageTransform.Microsoft.Matrix(M11=",t,", M12=",-n,", M21=",n,", M22=",t,", sizingMethod='auto expand')"].join(""):yt})},getSpanCorrection:function(e,t,n,r,i){var s=r?W(r*$):1,o=r?X(r*$):0,u=Ut(this.elemHeight,this.element.offsetHeight),a;this.xCorr=s<0&&-e,this.yCorr=o<0&&-u,a=s*o<0,this.xCorr+=o*t*(a?1-n:n),this.yCorr-=s*t*(r?a?n:1-n:1),i&&i!=="left"&&(this.xCorr-=e*n*(s<0?-1:1),r&&(this.yCorr-=u*n*(o<0?-1:1)),h(this.element,{textAlign:i}))},pathToVML:function(e){for(var t=e.length,n=[];t--;)if(s(e[t]))n[t]=F(e[t]*10)-5;else if(e[t]==="Z")n[t]="x";else if(n[t]=e[t],e.isArc&&(e[t]==="wa"||e[t]==="at"))n[t+5]===n[t+7]&&(n[t+7]+=e[t+7]>e[t+5]?1:-1),n[t+6]===n[t+8]&&(n[t+8]+=e[t+8]>e[t+6]?1:-1);return n.join(" ")||"x"},clip:function(e){var t=this,n;return e?(n=e.members,a(n,t),n.push(t),t.destroyClip=function(){a(n,t)},e=e.getCSS(t)):(t.destroyClip&&t.destroyClip(),e={clip:G?"inherit":"rect(auto)"}),t.css(e)},css:A.prototype.htmlCss,safeRemoveChild:function(e){e.parentNode&&T(e)},destroy:function(){return this.destroyClip&&this.destroyClip(),A.prototype.destroy.apply(this)},on:function(e,t){return this.element["on"+e]=function(){var e=B.event;e.target=e.srcElement,t(e)},this},cutOffPath:function(e,n){var r,e=e.split(/[ ,]/);r=e.length;if(r===9||r===11)e[r-4]=e[r-2]=t(e[r-2])-10*n;return e.join(" ")},shadow:function(e,n,r){var i=[],s,o=this.element,u=this.renderer,a,f=o.style,l,c=o.path,h,d,v,m;c&&typeof c.value!="string"&&(c="x"),d=c;if(e){v=Ut(e.width,3),m=(e.opacity||.15)/v;for(s=1;s<=3;s++)h=v*2+1-2*s,r&&(d=this.cutOffPath(c.value,h+.5)),l=['<shape isShadow="true" strokeweight="',h,'" filled="false" path="',d,'" coordsize="10 10" style="',o.style.cssText,'" />'],a=p(u.prepVML(l),null,{left:t(f.left)+Ut(e.offsetX,1),top:t(f.top)+Ut(e.offsetY,1)}),r&&(a.cutOff=h+1),l=['<stroke color="',e.color||"black",'" opacity="',m*s,'"/>'],p(u.prepVML(l),null,null,a),n?n.element.appendChild(a):o.parentNode.insertBefore(a,o),i.push(a);this.shadows=i}return this},updateShadows:dt,setAttr:function(e,t){G?this.element[e]=t:this.element.setAttribute(e,t)},classSetter:function(e){this.element.className=e},dashstyleSetter:function(e,t,n){(n.getElementsByTagName("stroke")[0]||p(this.renderer.prepVML(["<stroke/>"]),null,null,n))[t]=e||"solid",this[t]=e},dSetter:function(e,t,n){var r=this.shadows,e=e||[];this.d=e.join&&e.join(" "),n.path=e=this.pathToVML(e);if(r)for(n=r.length;n--;)r[n].path=r[n].cutOff?this.cutOffPath(e,r[n].cutOff):e;this.setAttr(t,e)},fillSetter:function(e,t,n){var r=n.nodeName;r==="SPAN"?n.style.color=e:r!=="IMG"&&(n.filled=e!==yt,this.setAttr("fillcolor",this.renderer.color(e,n,t,this)))},opacitySetter:dt,rotationSetter:function(e,t,n){n=n.style,this[t]=n[t]=e,n.left=-F(X(e*$)+1)+"px",n.top=F(W(e*$))+"px"},strokeSetter:function(e,t,n){this.setAttr("strokecolor",this.renderer.color(e,n,t))},"stroke-widthSetter":function(e,t,n){n.stroked=!!e,this[t]=e,s(e)&&(e+="px"),this.setAttr("strokeweight",e)},titleSetter:function(e,t){this.setAttr(t,e)},visibilitySetter:function(e,t,n){e==="inherit"&&(e="visible"),this.shadows&&Kt(this.shadows,function(n){n.style[t]=e}),n.nodeName==="DIV"&&(e=e==="hidden"?"-999em":0,G||(n.style[t]=e?"visible":"hidden"),t="top"),n.style[t]=e},xSetter:function(e,t,n){this[t]=e,t==="x"?t="left":t==="y"&&(t="top"),this.updateClipping?(this[t]=e,this.updateClipping()):n.style[t]=e},zIndexSetter:function(e,t,n){n.style[t]=e}},qt.VMLElement=Xt=d(A,Xt),Xt.prototype.ySetter=Xt.prototype.widthSetter=Xt.prototype.heightSetter=Xt.prototype.xSetter,Xt={Element:Xt,isIE8:J.indexOf("MSIE 8.0")>-1,init:function(e,t,n,r){var i;this.alignedObjects=[],r=this.createElement(gt).css(Rt(this.getStyle(r),{position:"relative"})),i=r.element,e.appendChild(r.element),this.isVML=!0,this.box=i,this.boxWrapper=r,this.cache={},this.setSize(t,n,!1);if(!H.namespaces.hcv){H.namespaces.add("hcv","urn:schemas-microsoft-com:vml");try{H.createStyleSheet().cssText="hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } "}catch(s){H.styleSheets[0].cssText+="hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } "}}},isHidden:function(){return!this.box.offsetWidth},clipRect:function(e,t,n,i){var s=this.createElement(),o=r(e);return Rt(s,{members:[],count:0,left:(o?e.x:e)+1,top:(o?e.y:t)+1,width:(o?e.width:n)-1,height:(o?e.height:i)-1,getCSS:function(e){var t=e.element,n=t.nodeName,e=e.inverted,r=this.top-(n==="shape"?t.offsetTop:0),i=this.left,t=i+this.width,s=r+this.height,r={clip:"rect("+F(e?i:r)+"px,"+F(e?s:t)+"px,"+F(e?t:s)+"px,"+F(e?r:i)+"px)"};return!e&&G&&n==="DIV"&&Rt(r,{width:t+"px",height:s+"px"}),r},updateClipping:function(){Kt(s.members,function(e){e.element&&e.css(s.getCSS(e))})}})},color:function(e,t,n,r){var i=this,s,o=/^rgba/,u,a,f=yt;e&&e.linearGradient?a="gradient":e&&e.radialGradient&&(a="pattern");if(a){var l,c,h=e.linearGradient||e.radialGradient,d,v,m,g,y,b="",e=e.stops,w,E=[],S=function(){u=['<fill colors="'+E.join(",")+'" opacity="',m,'" o:opacity2="',v,'" type="',a,'" ',b,'focus="100%" method="any" />'],p(i.prepVML(u),null,null,t)};d=e[0],w=e[e.length-1],d[0]>0&&e.unshift([0,d[1]]),w[0]<1&&e.push([1,w[1]]),Kt(e,function(e,t){o.test(e[1])?(s=ln(e[1]),l=s.get("rgb"),c=s.get("a")):(l=e[1],c=1),E.push(e[0]*100+"% "+l),t?(m=c,g=l):(v=c,y=l)});if(n==="fill")if(a==="gradient")n=h.x1||h[0]||0,e=h.y1||h[1]||0,d=h.x2||h[2]||0,h=h.y2||h[3]||0,b='angle="'+(90-j.atan((h-e)/(d-n))*180/V)+'"',S();else{var f=h.r,x=f*2,T=f*2,N=h.cx,C=h.cy,k=t.radialReference,L,f=function(){k&&(L=r.getBBox(),N+=(k[0]-L.x)/L.width-.5,C+=(k[1]-L.y)/L.height-.5,x*=k[2]/L.width,T*=k[2]/L.height),b='src="'+lt.global.VMLRadialGradientURL+'" size="'+x+","+T+'" origin="0.5,0.5" position="'+N+","+C+'" color2="'+y+'" ',S()};r.added?f():r.onAdd=f,f=g}else f=l}else o.test(e)&&t.tagName!=="IMG"?(s=ln(e),u=["<",n,' opacity="',s.get("a"),'"/>'],p(this.prepVML(u),null,null,t),f=s.get("rgb")):(f=t.getElementsByTagName(n),f.length&&(f[0].opacity=1,f[0].type="solid"),f=e);return f},prepVML:function(e){var t=this.isIE8,e=e.join("");return t?(e=e.replace("/>",' xmlns="urn:schemas-microsoft-com:vml" />'),e=e.indexOf('style="')===-1?e.replace("/>",' style="display:inline-block;behavior:url(#default#VML);" />'):e.replace('style="','style="display:inline-block;behavior:url(#default#VML);')):e=e.replace("<","<hcv:"),e},text:cn.prototype.html,path:function(e){var t={coordsize:"10 10"};return i(e)?t.d=e:r(e)&&Rt(t,e),this.createElement("shape").attr(t)},circle:function(e,t,n){var i=this.symbol("circle");return r(e)&&(n=e.r,t=e.y,e=e.x),i.isCircle=!0,i.r=n,i.attr({x:e,y:t})},g:function(e){var t;return e&&(t={className:"highcharts-"+e,"class":"highcharts-"+e}),this.createElement(gt).attr(t)},image:function(e,t,n,r,i){var s=this.createElement("img").attr({src:e});return arguments.length>1&&s.attr({x:t,y:n,width:r,height:i}),s},createElement:function(e){return e==="rect"?this.symbol(e):cn.prototype.createElement.call(this,e)},invertChild:function(e,n){var r=this,i=n.style,s=e.tagName==="IMG"&&e.style;h(e,{flip:"x",left:t(i.width)-(s?t(s.top):1),top:t(i.height)-(s?t(s.left):1),rotation:-90}),Kt(e.childNodes,function(t){r.invertChild(t,e)})},symbols:{arc:function(e,t,n,r,i){var s=i.start,o=i.end,u=i.r||n||r,n=i.innerR,r=W(s),a=X(s),f=W(o),l=X(o);return o-s===0?["x"]:(s=["wa",e-u,t-u,e+u,t+u,e+u*r,t+u*a,e+u*f,t+u*l],i.open&&!n&&s.push("e","M",e,t),s.push("at",e-n,t-n,e+n,t+n,e+n*f,t+n*l,e+n*r,t+n*a,"x","e"),s.isArc=!0,s)},circle:function(e,t,n,r,i){return i&&(n=r=2*i.r),i&&i.isCircle&&(e-=n/2,t-=r/2),["wa",e,t,e+n,t+r,e+n,t+r/2,e+n,t+r/2,"e"]},rect:function(e,t,n,r,i){return cn.prototype.symbols[!f(i)||!i.r?"square":"callout"].call(0,e,t,n,r,i)}}},qt.VMLRenderer=hn=function(){this.init.apply(this,arguments)},hn.prototype=e(cn.prototype,Xt),st=hn),cn.prototype.measureSpanWidth=function(e,t){var n=H.createElement("span"),r;return r=H.createTextNode(e),n.appendChild(r),h(n,t),this.box.appendChild(n),r=n.offsetWidth,T(n),r};var pn;it&&(qt.CanVGRenderer=Xt=function(){tt="http://www.w3.org/1999/xhtml"},Xt.prototype.symbols={},pn=function(){function e(){var e=t.length,n;for(n=0;n<e;n++)t[n]();t=[]}var t=[];return{push:function(n,r){t.length===0&&$t(r,e),t.push(n)}}}(),st=Xt),O.prototype={addLabel:function(){var t=this.axis,n=t.options,r=t.chart,i=t.categories,s=t.names,o=this.pos,a=n.labels,l=t.tickPositions,c=o===l[0],h=o===l[l.length-1],s=i?Ut(i[o],s[o],o):o,i=this.label,l=l.info,p;t.isDatetimeAxis&&l&&(p=n.dateTimeLabelFormats[l.higherRanks[o]||l.unitName]),this.isFirst=c,this.isLast=h,n=t.labelFormatter.call({axis:t,chart:r,isFirst:c,isLast:h,dateTimeLabelFormat:p,value:t.isLog?C(u(s)):s}),f(i)?i&&i.attr({text:n}):(this.labelLength=(this.label=i=f(n)&&a.enabled?r.renderer.text(n,0,0,a.useHTML).css(e(a.style)).add(t.labelGroup):null)&&i.getBBox().width,this.rotation=0)},getLabelSize:function(){return this.label?this.label.getBBox()[this.axis.horiz?"height":"width"]:0},handleOverflow:function(e){var t=this.axis,n=e.x,r=t.chart.chartWidth,i=t.chart.spacing,s=Ut(t.labelLeft,U(t.pos,i[3])),i=Ut(t.labelRight,R(t.pos+t.len,r-i[1])),o=this.label,u=this.rotation,a={left:0,center:.5,right:1}[t.labelAlign],f=o.getBBox().width,l=t.slotWidth,c=1,h,p={};if(u)u<0&&n-a*f<s?h=F(n/W(u*$)-s):u>0&&n+a*f>i&&(h=F((r-n)/W(u*$)));else if(r=n+(1-a)*f,n-a*f<s?l=e.x+l*(1-a)-s:r>i&&(l=i-e.x+l*a,c=-1),l=U(t.slotWidth,l),l<t.slotWidth&&t.labelAlign==="center"&&(e.x+=c*(t.slotWidth-l-a*(t.slotWidth-U(f,l)))),f>l||t.autoRotation&&o.styles.width)h=l;h&&(p.width=h,t.options.labels.style.textOverflow||(p.textOverflow="ellipsis"),o.css(p))},getPosition:function(e,t,n,r){var i=this.axis,s=i.chart,o=r&&s.oldChartHeight||s.chartHeight;return{x:e?i.translate(t+n,null,null,r)+i.transB:i.left+i.offset+(i.opposite?(r&&s.oldChartWidth||s.chartWidth)-i.right-i.left:0),y:e?o-i.bottom+i.offset-(i.opposite?i.height:0):o-i.translate(t+n,null,null,r)-i.transB}},getLabelPosition:function(e,t,n,r,i,s,o,u){var a=this.axis,f=a.transA,l=a.reversed,c=a.staggerLines,h=a.tickRotCorr||{x:0,y:0},n=Ut(i.y,h.y+(a.side===2?8:-(n.getBBox().height/2))),e=e+i.x+h.x-(s&&r?s*f*(l?-1:1):0),t=t+n-(s&&!r?s*f*(l?1:-1):0);return c&&(t+=o/(u||1)%c*(a.labelOffset/c)),{x:e,y:F(t)}},getMarkPath:function(e,t,n,r,i,s){return s.crispLine(["M",e,t,"L",e+(i?0:-n),t+(i?n:0)],r)},render:function(e,t,n){var r=this.axis,i=r.options,s=r.chart.renderer,o=r.horiz,u=this.type,a=this.label,f=this.pos,l=i.labels,c=this.gridLine,h=u?u+"Grid":"grid",p=u?u+"Tick":"tick",d=i[h+"LineWidth"],v=i[h+"LineColor"],m=i[h+"LineDashStyle"],g=i[p+"Length"],h=Ut(i[p+"Width"],!u&&r.isXAxis?1:0),y=i[p+"Color"],b=i[p+"Position"],p=this.mark,w=l.step,E=!0,S=r.tickmarkOffset,x=this.getPosition(o,f,S,t),T=x.x,x=x.y,N=o&&T===r.pos+r.len||!o&&x===r.pos?-1:1,n=Ut(n,1);this.isActive=!0,d&&(f=r.getPlotLinePath(f+S,d*N,t,!0),c===P&&(c={stroke:v,"stroke-width":d},m&&(c.dashstyle=m),u||(c.zIndex=1),t&&(c.opacity=0),this.gridLine=c=d?s.path(f).attr(c).add(r.gridGroup):null),!t&&c&&f&&c[this.isNew?"attr":"animate"]({d:f,opacity:n})),h&&g&&(b==="inside"&&(g=-g),r.opposite&&(g=-g),u=this.getMarkPath(T,x,g,h*N,o,s),p?p.animate({d:u,opacity:n}):this.mark=s.path(u).attr({stroke:y,"stroke-width":h,opacity:n}).add(r.axisGroup)),a&&!isNaN(T)&&(a.xy=x=this.getLabelPosition(T,x,a,o,l,S,e,w),this.isFirst&&!this.isLast&&!Ut(i.showFirstLabel,1)||this.isLast&&!this.isFirst&&!Ut(i.showLastLabel,1)?E=!1:o&&!r.isRadial&&!l.step&&!l.rotation&&!t&&n!==0&&this.handleOverflow(x),w&&e%w&&(E=!1),E&&!isNaN(x.y)?(x.opacity=n,a[this.isNew?"attr":"animate"](x),this.isNew=!1):a.attr("y",-9999))},destroy:function(){x(this,this.axis)}},qt.PlotLineOrBand=function(e,t){this.axis=e,t&&(this.options=t,this.id=t.id)},qt.PlotLineOrBand.prototype={render:function(){var t=this,n=t.axis,r=n.horiz,i=t.options,s=i.label,u=t.label,a=i.width,l=i.to,c=i.from,h=f(c)&&f(l),p=i.value,d=i.dashStyle,v=t.svgElem,m=[],g,y=i.color,b=i.zIndex,w=i.events,x={},T=n.chart.renderer;n.isLog&&(c=o(c),l=o(l),p=o(p));if(a){if(m=n.getPlotLinePath(p,a),x={stroke:y,"stroke-width":a},d)x.dashstyle=d}else{if(!h)return;m=n.getPlotBandPath(c,l,i),y&&(x.fill=y),i.borderWidth&&(x.stroke=i.borderColor,x["stroke-width"]=i.borderWidth)}f(b)&&(x.zIndex=b);if(v){if(m)v.animate({d:m},null,v.onGetPath);else if(v.hide(),v.onGetPath=function(){v.show()},u)t.label=u=u.destroy()}else if(m&&m.length&&(t.svgElem=v=T.path(m).attr(x).add(),w))for(g in i=function(e){v.on(e,function(n){w[e].apply(t,[n])})},w)i(g);return s&&f(s.text)&&m&&m.length&&n.width>0&&n.height>0?(s=e({align:r&&h&&"center",x:r?!h&&4:10,verticalAlign:!r&&h&&"middle",y:r?h?16:10:h?6:-4,rotation:r&&!h&&90},s),u||(x={align:s.textAlign||s.align,rotation:s.rotation},f(b)&&(x.zIndex=b),t.label=u=T.text(s.text,0,0,s.useHTML).attr(x).css(s.style).add()),n=[m[1],m[4],h?m[6]:m[1]],h=[m[2],m[5],h?m[7]:m[2]],m=E(n),r=E(h),u.align(s,!1,{x:m,y:r,width:S(n)-m,height:S(h)-r}),u.show()):u&&u.hide(),t},destroy:function(){a(this.axis.plotLinesAndBands,this),delete this.axis,x(this)}};var dn=qt.Axis=function(){this.init.apply(this,arguments)};dn.prototype={defaultOptions:{dateTimeLabelFormats:{millisecond:"%H:%M:%S.%L",second:"%H:%M:%S",minute:"%H:%M",hour:"%H:%M",day:"%e. %b",week:"%e. %b",month:"%b '%y",year:"%Y"},endOnTick:!1,gridLineColor:"#D8D8D8",labels:{enabled:!0,style:{color:"#606060",cursor:"default",fontSize:"11px"},x:0,y:15},lineColor:"#C0D0E0",lineWidth:1,minPadding:.01,maxPadding:.01,minorGridLineColor:"#E0E0E0",minorGridLineWidth:1,minorTickColor:"#A0A0A0",minorTickLength:2,minorTickPosition:"outside",startOfWeek:1,startOnTick:!1,tickColor:"#C0D0E0",tickLength:10,tickmarkPlacement:"between",tickPixelInterval:100,tickPosition:"outside",title:{align:"middle",style:{color:"#707070"}},type:"linear"},defaultYAxisOptions:{endOnTick:!0,gridLineWidth:1,tickPixelInterval:72,showLastLabel:!0,labels:{x:-8,y:3},lineWidth:0,maxPadding:.05,minPadding:.05,startOnTick:!0,title:{rotation:270,text:"Values"},stackLabels:{enabled:!1,formatter:function(){return qt.numberFormat(this.total,-1)},style:e(on.line.dataLabels.style,{color:"#000000"})}},defaultLeftAxisOptions:{labels:{x:-15,y:null},title:{rotation:270}},defaultRightAxisOptions:{labels:{x:15,y:null},title:{rotation:90}},defaultBottomAxisOptions:{labels:{autoRotation:[-45],x:0,y:null},title:{rotation:0}},defaultTopAxisOptions:{labels:{autoRotation:[-45],x:0,y:-15},title:{rotation:0}},init:function(e,t){var n=t.isX;this.chart=e,this.horiz=e.inverted?!n:n,this.coll=(this.isXAxis=n)?"xAxis":"yAxis",this.opposite=t.opposite,this.side=t.side||(this.horiz?this.opposite?0:2:this.opposite?1:3),this.setOptions(t);var r=this.options,i=r.type;this.labelFormatter=r.labels.formatter||this.defaultLabelFormatter,this.userOptions=t,this.minPixelPadding=0,this.reversed=r.reversed,this.visible=r.visible!==!1,this.zoomEnabled=r.zoomEnabled!==!1,this.categories=r.categories||i==="category",this.names=this.names||[],this.isLog=i==="logarithmic",this.isDatetimeAxis=i==="datetime",this.isLinked=f(r.linkedTo),this.ticks={},this.labelEdge=[],this.minorTicks={},this.plotLinesAndBands=[],this.alternateBands={},this.len=0,this.minRange=this.userMinRange=r.minRange||r.maxZoom,this.range=r.range,this.offset=r.offset||0,this.stacks={},this.oldStacks={},this.stacksTouched=0,this.min=this.max=null,this.crosshair=Ut(r.crosshair,c(e.options.tooltip.crosshairs)[n?0:1],!1);var s,r=this.options.events;Jt(this,e.axes)===-1&&(n&&!this.isColorAxis?e.axes.splice(e.xAxis.length,0,this):e.axes.push(this),e[this.coll].push(this)),this.series=this.series||[],e.inverted&&n&&this.reversed===P&&(this.reversed=!0),this.removePlotLine=this.removePlotBand=this.removePlotBandOrLine;for(s in r)Zt(this,s,r[s]);this.isLog&&(this.val2lin=o,this.lin2val=u)},setOptions:function(t){this.options=e(this.defaultOptions,this.isXAxis?{}:this.defaultYAxisOptions,[this.defaultTopAxisOptions,this.defaultRightAxisOptions,this.defaultBottomAxisOptions,this.defaultLeftAxisOptions][this.side],e(lt[this.coll],t))},defaultLabelFormatter:function(){var e=this.axis,t=this.value,n=e.categories,r=this.dateTimeLabelFormat,i=lt.lang.numericSymbols,s=i&&i.length,o,u=e.options.labels.format,e=e.isLog?t:e.tickInterval;if(u)o=g(u,this);else if(n)o=t;else if(r)o=ct(r,t);else if(s&&e>=1e3)for(;s--&&o===P;)n=Math.pow(1e3,s+1),e>=n&&t*10%n===0&&i[s]!==null&&(o=qt.numberFormat(t/n,-1)+i[s]);return o===P&&(o=z(t)>=1e4?qt.numberFormat(t,-1):qt.numberFormat(t,-1,P,"")),o},getSeriesExtremes:function(){var e=this,t=e.chart;e.hasVisibleSeries=!1,e.dataMin=e.dataMax=e.threshold=null,e.softThreshold=!e.isXAxis,e.buildStacks&&e.buildStacks(),Kt(e.series,function(n){if(n.visible||!t.options.chart.ignoreHiddenSeries){var r=n.options,i=r.threshold,s;e.hasVisibleSeries=!0,e.isLog&&i<=0&&(i=null);if(e.isXAxis){if(r=n.xData,r.length)e.dataMin=U(Ut(e.dataMin,r[0]),E(r)),e.dataMax=R(Ut(e.dataMax,r[0]),S(r))}else{n.getExtremes(),s=n.dataMax,n=n.dataMin,f(n)&&f(s)&&(e.dataMin=U(Ut(e.dataMin,n),n),e.dataMax=R(Ut(e.dataMax,s),s)),f(i)&&(e.threshold=i);if(!r.softThreshold||e.isLog)e.softThreshold=!1}}})},translate:function(e,t,n,r,i,o){var u=this.linkedParent||this,a=1,f=0,l=r?u.oldTransA:u.transA,r=r?u.oldMin:u.min,c=u.minPixelPadding,i=(u.doPostTranslate||u.isLog&&i)&&u.lin2val;return l||(l=u.transA),n&&(a*=-1,f=u.len),u.reversed&&(a*=-1,f-=a*(u.sector||u.len)),t?(e=e*a+f,e-=c,e=e/l+r,i&&(e=u.lin2val(e))):(i&&(e=u.val2lin(e)),o==="between"&&(o=.5),e=a*(e-r)*l+f+a*c+(s(o)?l*o*u.pointRange:0)),e},toPixels:function(e,t){return this.translate(e,!1,!this.horiz,null,!0)+(t?0:this.pos)},toValue:function(e,t){return this.translate(e-(t?0:this.pos),!0,!this.horiz,null,!0)},getPlotLinePath:function(e,t,n,r,i){var s=this.chart,o=this.left,u=this.top,a,f,l=n&&s.oldChartHeight||s.chartHeight,c=n&&s.oldChartWidth||s.chartWidth,h;a=this.transB;var p=function(e,t,n){if(e<t||e>n)r?e=U(R(t,e),n):h=!0;return e},i=Ut(i,this.translate(e,null,null,n)),e=n=F(i+a);return a=f=F(l-i-a),isNaN(i)?h=!0:this.horiz?(a=u,f=l-this.bottom,e=n=p(e,o,o+this.width)):(e=o,n=c-this.right,a=f=p(a,u,u+this.height)),h&&!r?null:s.renderer.crispLine(["M",e,a,"L",n,f],t||1)},getLinearTickPositions:function(e,t,n){var r,i=C(I(t/e)*e),o=C(q(n/e)*e),u=[];if(t===n&&s(t))return[t];for(t=i;t<=o;){u.push(t),t=C(t+e);if(t===r)break;r=t}return u},getMinorTickPositions:function(){var e=this.options,t=this.tickPositions,n=this.minorTickInterval,r=[],i,s=this.pointRangePadding||0;i=this.min-s;var s=this.max+s,o=s-i;if(o&&o/n<this.len/3)if(this.isLog){s=t.length;for(i=1;i<s;i++)r=r.concat(this.getLogTickPositions(n,t[i-1],t[i],!0))}else if(this.isDatetimeAxis&&e.minorTickInterval==="auto")r=r.concat(this.getTimeTicks(this.normalizeTimeTickInterval(n),i,s,e.startOfWeek));else for(t=i+(t[0]-i)%n;t<=s;t+=n)r.push(t);return r.length!==0&&this.trimTicks(r,e.startOnTick,e.endOnTick),r},adjustForMinRange:function(){var e=this.options,t=this.min,n=this.max,r,i=this.dataMax-this.dataMin>=this.minRange,s,o,u,a,l,c;this.isXAxis&&this.minRange===P&&!this.isLog&&(f(e.min)||f(e.max)?this.minRange=null:(Kt(this.series,function(e){a=e.xData;for(o=l=e.xIncrement?1:a.length-1;o>0;o--)if(u=a[o]-a[o-1],s===P||u<s)s=u}),this.minRange=U(s*5,this.dataMax-this.dataMin))),n-t<this.minRange&&(c=this.minRange,r=(c-n+t)/2,r=[t-r,Ut(e.min,t-r)],i&&(r[2]=this.dataMin),t=S(r),n=[t+c,Ut(e.max,t+c)],i&&(n[2]=this.dataMax),n=E(n),n-t<c&&(r[0]=n-c,r[1]=Ut(e.min,n-c),t=S(r))),this.min=t,this.max=n},setAxisTranslation:function(e){var t=this,r=t.max-t.min,i=t.axisPointRange||0,s,o=0,u=0,a=t.linkedParent,l=!!t.categories,c=t.transA,h=t.isXAxis;if(h||l||i)if(a?(o=a.minPointOffset,u=a.pointRangePadding):Kt(t.series,function(e){var r=l?1:h?e.pointRange:t.axisPointRange||0,a=e.options.pointPlacement,c=e.closestPointRange;i=R(i,r),t.single||(o=R(o,n(a)?0:r/2),u=R(u,a==="on"?0:r)),!e.noSharedTooltip&&f(c)&&(s=f(s)?U(s,c):c)}),a=t.ordinalSlope&&s?t.ordinalSlope/s:1,t.minPointOffset=o*=a,t.pointRangePadding=u*=a,t.pointRange=U(i,r),h)t.closestPointRange=s;e&&(t.oldTransA=c),t.translationSlope=t.transA=c=t.len/(r+u||1),t.transB=t.horiz?t.left:t.bottom,t.minPixelPadding=c*o},minFromRange:function(){return this.max-this.range},setTickInterval:function(e){var t=this,n=t.chart,r=t.options,i=t.isLog,u=t.isDatetimeAxis,a=t.isXAxis,l=t.isLinked,c=r.maxPadding,h=r.minPadding,p=r.tickInterval,d=r.tickPixelInterval,v=t.categories,m=t.threshold,g=t.softThreshold,w,E,S,x;!u&&!v&&!l&&this.getTickAmount(),S=Ut(t.userMin,r.min),x=Ut(t.userMax,r.max),l?(t.linkedParent=n[t.coll][r.linkedTo],n=t.linkedParent.getExtremes(),t.min=Ut(n.min,n.dataMin),t.max=Ut(n.max,n.dataMax),r.type!==t.linkedParent.options.type&&N(11,1)):(!g&&f(m)&&(t.dataMin>=m?(w=m,h=0):t.dataMax<=m&&(E=m,c=0)),t.min=Ut(S,w,t.dataMin),t.max=Ut(x,E,t.dataMax)),i&&(!e&&U(t.min,Ut(t.dataMin,t.min))<=0&&N(10,1),t.min=C(o(t.min),15),t.max=C(o(t.max),15)),t.range&&f(t.max)&&(t.userMin=t.min=S=R(t.min,t.minFromRange()),t.userMax=x=t.max,t.range=null),t.beforePadding&&t.beforePadding(),t.adjustForMinRange(),!v&&!t.axisPointRange&&!t.usePercentage&&!l&&f(t.min)&&f(t.max)&&(n=t.max-t.min)&&(!f(S)&&h&&(t.min-=n*h),!f(x)&&c&&(t.max+=n*c)),s(r.floor)&&(t.min=R(t.min,r.floor)),s(r.ceiling)&&(t.max=U(t.max,r.ceiling)),g&&f(t.dataMin)&&((m=m||0,!f(S)&&t.min<m&&t.dataMin>=m)?t.min=m:!f(x)&&t.max>m&&t.dataMax<=m&&(t.max=m)),t.tickInterval=t.min===t.max||t.min===void 0||t.max===void 0?1:l&&!p&&d===t.linkedParent.options.tickPixelInterval?p=t.linkedParent.tickInterval:Ut(p,this.tickAmount?(t.max-t.min)/R(this.tickAmount-1,1):void 0,v?1:(t.max-t.min)*d/R(t.len,d)),a&&!e&&Kt(t.series,function(e){e.processData(t.min!==t.oldMin||t.max!==t.oldMax)}),t.setAxisTranslation(!0),t.beforeSetTickPositions&&t.beforeSetTickPositions(),t.postProcessTickInterval&&(t.tickInterval=t.postProcessTickInterval(t.tickInterval)),t.pointRange&&(t.tickInterval=R(t.pointRange,t.tickInterval)),e=Ut(r.minTickInterval,t.isDatetimeAxis&&t.closestPointRange),!p&&t.tickInterval<e&&(t.tickInterval=e),!u&&!i&&!p&&(t.tickInterval=b(t.tickInterval,null,y(t.tickInterval),Ut(r.allowDecimals,!(t.tickInterval>.5&&t.tickInterval<5&&t.max>1e3&&t.max<9999)),!!this.tickAmount)),!this.tickAmount&&this.len&&(t.tickInterval=t.unsquish()),this.setTickPositions()},setTickPositions:function(){var e=this.options,t,n=e.tickPositions,r=e.tickPositioner,i=e.startOnTick,s=e.endOnTick,o;this.tickmarkOffset=this.categories&&e.tickmarkPlacement==="between"&&this.tickInterval===1?.5:0,this.minorTickInterval=e.minorTickInterval==="auto"&&this.tickInterval?this.tickInterval/5:e.minorTickInterval,this.tickPositions=t=n&&n.slice(),!t&&(t=this.isDatetimeAxis?this.getTimeTicks(this.normalizeTimeTickInterval(this.tickInterval,e.units),this.min,this.max,e.startOfWeek,this.ordinalPositions,this.closestPointRange,!0):this.isLog?this.getLogTickPositions(this.tickInterval,this.min,this.max):this.getLinearTickPositions(this.tickInterval,this.min,this.max),t.length>this.len&&(t=[t[0],t.pop()]),this.tickPositions=t,r&&(r=r.apply(this,[this.min,this.max])))&&(this.tickPositions=t=r),this.isLinked||(this.trimTicks(t,i,s),this.min===this.max&&f(this.min)&&!this.tickAmount&&(o=!0,this.min-=.5,this.max+=.5),this.single=o,!n&&!r&&this.adjustTickAmount())},trimTicks:function(e,t,n){var r=e[0],i=e[e.length-1],s=this.minPointOffset||0;t?this.min=r:this.min-s>r&&e.shift(),n?this.max=i:this.max+s<i&&e.pop(),e.length===0&&f(r)&&e.push((i+r)/2)},getTickAmount:function(){var e={},t,n=this.options,r=n.tickAmount,i=n.tickPixelInterval;!f(n.tickInterval)&&this.len<i&&!this.isRadial&&!this.isLog&&n.startOnTick&&n.endOnTick&&(r=2),!r&&this.chart.options.chart.alignTicks!==!1&&n.alignTicks!==!1&&(Kt(this.chart[this.coll],function(n){var r=n.options,i=n.horiz,r=[i?r.left:r.top,i?r.width:r.height,r.pane].join(",");n.series.length&&(e[r]?t=!0:e[r]=1)}),t&&(r=q(this.len/i)+1)),r<4&&(this.finalTickAmt=r,r=5),this.tickAmount=r},adjustTickAmount:function(){var e=this.tickInterval,t=this.tickPositions,n=this.tickAmount,r=this.finalTickAmt,i=t&&t.length;if(i<n){for(;t.length<n;)t.push(C(t[t.length-1]+e));this.transA*=(i-1)/(n-1),this.max=t[t.length-1]}else i>n&&(this.tickInterval*=2,this.setTickPositions());if(f(r)){for(e=n=t.length;e--;)(r===3&&e%2===1||r<=2&&e>0&&e<n-1)&&t.splice(e,1);this.finalTickAmt=P}},setScale:function(){var e,t;this.oldMin=this.min,this.oldMax=this.max,this.oldAxisLength=this.len,this.setAxisSize(),t=this.len!==this.oldAxisLength,Kt(this.series,function(t){if(t.isDirtyData||t.isDirty||t.xAxis.isDirty)e=!0});if(t||e||this.isLinked||this.forceRedraw||this.userMin!==this.oldUserMin||this.userMax!==this.oldUserMax){if(this.resetStacks&&this.resetStacks(),this.forceRedraw=!1,this.getSeriesExtremes(),this.setTickInterval(),this.oldUserMin=this.userMin,this.oldUserMax=this.userMax,!this.isDirty)this.isDirty=t||this.min!==this.oldMin||this.max!==this.oldMax}else this.cleanStacks&&this.cleanStacks()},setExtremes:function(e,t,n,r,i){var s=this,o=s.chart,n=Ut(n,!0);Kt(s.series,function(e){delete e.kdTree}),i=Rt(i,{min:e,max:t}),tn(s,"setExtremes",i,function(){s.userMin=e,s.userMax=t,s.eventArgs=i,n&&o.redraw(r)})},zoom:function(e,t){var n=this.dataMin,r=this.dataMax,i=this.options,s=U(n,Ut(i.min,n)),i=R(r,Ut(i.max,r));return this.allowZoomOutside||(f(n)&&e<=s&&(e=s),f(r)&&t>=i&&(t=i)),this.displayBtn=e!==P||t!==P,this.setExtremes(e,t,!1,P,{trigger:"zoom"}),!0},setAxisSize:function(){var e=this.chart,t=this.options,n=t.offsetLeft||0,r=this.horiz,i=Ut(t.width,e.plotWidth-n+(t.offsetRight||0)),s=Ut(t.height,e.plotHeight),o=Ut(t.top,e.plotTop),t=Ut(t.left,e.plotLeft+n),n=/%$/;n.test(s)&&(s=parseFloat(s)/100*e.plotHeight),n.test(o)&&(o=parseFloat(o)/100*e.plotHeight+e.plotTop),this.left=t,this.top=o,this.width=i,this.height=s,this.bottom=e.chartHeight-s-o,this.right=e.chartWidth-i-t,this.len=R(r?i:s,0),this.pos=r?t:o},getExtremes:function(){var e=this.isLog;return{min:e?C(u(this.min)):this.min,max:e?C(u(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax}},getThreshold:function(e){var t=this.isLog,n=t?u(this.min):this.min,t=t?u(this.max):this.max;return e===null?e=t<0?t:n:n>e?e=n:t<e&&(e=t),this.translate(e,0,1,0,1)},autoLabelAlign:function(e){return e=(Ut(e,0)-this.side*90+720)%360,e>15&&e<165?"right":e>195&&e<345?"left":"center"},unsquish:function(){var e=this.ticks,t=this.options.labels,n=this.horiz,r=this.tickInterval,i=r,s=this.len/(((this.categories?1:0)+this.max-this.min)/r),o,u=t.rotation,a=this.chart.renderer.fontMetrics(t.style.fontSize,e[0]&&e[0].label),l,c=Number.MAX_VALUE,h,p=function(e){return e/=s||1,e=e>1?q(e):1,e*r};return n?(h=!t.staggerLines&&!t.step&&(f(u)?[u]:s<Ut(t.autoRotationLimit,80)&&t.autoRotation))&&Kt(h,function(e){var t;if(e===u||e&&e>=-90&&e<=90)l=p(z(a.h/X($*e))),t=l+z(e/360),t<c&&(c=t,o=e,i=l)}):t.step||(i=p(a.h)),this.autoRotation=h,this.labelRotation=Ut(o,u),i},renderUnsquish:function(){var t=this.chart,r=t.renderer,i=this.tickPositions,s=this.ticks,o=this.options.labels,u=this.horiz,a=t.margin,f=this.categories?i.length:i.length-1,l=this.slotWidth=u&&!o.step&&!o.rotation&&(this.staggerLines||1)*t.plotWidth/f||!u&&(a[3]&&a[3]-t.spacing[3]||t.chartWidth*.33),c=R(1,F(l-2*(o.padding||5))),h={},a=r.fontMetrics(o.style.fontSize,s[0]&&s[0].label),f=o.style.textOverflow,p,d=0;n(o.rotation)||(h.rotation=o.rotation||0);if(this.autoRotation)Kt(i,function(e){(e=s[e])&&e.labelLength>d&&(d=e.labelLength)}),d>c&&d>a.h?h.rotation=this.labelRotation:this.labelRotation=0;else if(l&&(p={width:c+"px"},!f)){p.textOverflow="clip";for(l=i.length;!u&&l--;)if(c=i[l],c=s[c].label)if(c.styles.textOverflow==="ellipsis"&&c.css({textOverflow:"clip"}),c.getBBox().height>this.len/i.length-(a.h-a.f))c.specCss={textOverflow:"ellipsis"}}h.rotation&&(p={width:(d>t.chartHeight*.5?t.chartHeight*.33:t.chartHeight)+"px"},!f)&&(p.textOverflow="ellipsis"),this.labelAlign=h.align=o.align||this.autoLabelAlign(this.labelRotation),Kt(i,function(t){var n=(t=s[t])&&t.label;n&&(n.attr(h),p&&n.css(e(p,n.specCss)),delete n.specCss,t.rotation=h.rotation)}),this.tickRotCorr=r.rotCorr(a.b,this.labelRotation||0,this.side===2)},hasData:function(){return this.hasVisibleSeries||f(this.min)&&f(this.max)&&!!this.tickPositions},getOffset:function(){var e=this,t=e.chart,n=t.renderer,r=e.options,i=e.tickPositions,s=e.ticks,o=e.horiz,u=e.side,a=t.inverted?[1,0,3,2][u]:u,l,c,h=0,p,d=0,v=r.title,m=r.labels,g=0,y=t.axisOffset,t=t.clipOffset,b=[-1,1,1,-1][u],w,E=e.axisParent;l=e.hasData(),e.showAxis=c=l||Ut(r.showEmpty,!0),e.staggerLines=e.horiz&&m.staggerLines,e.axisGroup||(e.gridGroup=n.g("grid").attr({zIndex:r.gridZIndex||1}).add(E),e.axisGroup=n.g("axis").attr({zIndex:r.zIndex||2}).add(E),e.labelGroup=n.g("axis-labels").attr({zIndex:m.zIndex||7}).addClass("highcharts-"+e.coll.toLowerCase()+"-labels").add(E));if(l||e.isLinked){if(Kt(i,function(t){s[t]?s[t].addLabel():s[t]=new O(e,t)}),e.renderUnsquish(),Kt(i,function(t){if(u===0||u===2||{1:"left",3:"right"}[u]===e.labelAlign)g=R(s[t].getLabelSize(),g)}),e.staggerLines)g*=e.staggerLines,e.labelOffset=g}else for(w in s)s[w].destroy(),delete s[w];v&&v.text&&v.enabled!==!1&&(e.axisTitle||(e.axisTitle=n.text(v.text,0,0,v.useHTML).attr({zIndex:7,rotation:v.rotation||0,align:v.textAlign||{low:"left",middle:"center",high:"right"}[v.align]}).addClass("highcharts-"+this.coll.toLowerCase()+"-title").css(v.style).add(e.axisGroup),e.axisTitle.isNew=!0),c&&(h=e.axisTitle.getBBox()[o?"height":"width"],p=v.offset,d=f(p)?0:Ut(v.margin,o?5:10)),e.axisTitle[c?"show":"hide"]()),e.offset=b*Ut(r.offset,y[u]),e.tickRotCorr=e.tickRotCorr||{x:0,y:0},n=u===2?e.tickRotCorr.y:0,o=g+d+(g&&b*(o?Ut(m.y,e.tickRotCorr.y+8):m.x)-n),e.axisTitleMargin=Ut(p,o),y[u]=R(y[u],e.axisTitleMargin+h+b*e.offset,o),r=r.offset?0:I(r.lineWidth/2)*2,t[a]=R(t[a],r)},getLinePath:function(e){var t=this.chart,n=this.opposite,r=this.offset,i=this.horiz,s=this.left+(n?this.width:0)+r,r=t.chartHeight-this.bottom-(n?this.height:0)+r;return n&&(e*=-1),t.renderer.crispLine(["M",i?this.left:s,i?r:this.top,"L",i?t.chartWidth-this.right:s,i?r:t.chartHeight-this.bottom],e)},getTitlePosition:function(){var e=this.horiz,n=this.left,r=this.top,i=this.len,s=this.options.title,o=e?n:r,u=this.opposite,a=this.offset,f=s.x||0,l=s.y||0,c=t(s.style.fontSize||12),i={low:o+(e?0:i),middle:o+i/2,high:o+(e?i:0)}[s.align],n=(e?r+this.height:n)+(e?1:-1)*(u?-1:1)*this.axisTitleMargin+(this.side===2?c:0);return{x:e?i+f:n+(u?this.width:0)+a+f,y:e?n+l-(u?this.height:0)+a:i+l}},render:function(){var e=this,t=e.chart,n=t.renderer,r=e.options,i=e.isLog,s=e.isLinked,o=e.tickPositions,a=e.axisTitle,l=e.ticks,c=e.minorTicks,h=e.alternateBands,p=r.stackLabels,d=r.alternateGridColor,v=e.tickmarkOffset,m=r.lineWidth,g,y=t.hasRendered&&f(e.oldMin)&&!isNaN(e.oldMin),b=e.showAxis,w=n.globalAnimation,E,S;e.labelEdge.length=0,e.overlap=!1,Kt([l,c,h],function(e){for(var t in e)e[t].isActive=!1});if(e.hasData()||s)e.minorTickInterval&&!e.categories&&Kt(e.getMinorTickPositions(),function(t){c[t]||(c[t]=new O(e,t,"minor")),y&&c[t].isNew&&c[t].render(null,!0),c[t].render(null,!1,1)}),o.length&&(Kt(o,function(t,n){if(!s||t>=e.min&&t<=e.max)l[t]||(l[t]=new O(e,t)),y&&l[t].isNew&&l[t].render(n,!0,.1),l[t].render(n)}),v&&(e.min===0||e.single))&&(l[-1]||(l[-1]=new O(e,-1,null,!0)),l[-1].render(-1)),d&&Kt(o,function(t,n){S=o[n+1]!==P?o[n+1]+v:e.max-v,n%2===0&&t<e.max&&S<=e.max-v&&(h[t]||(h[t]=new qt.PlotLineOrBand(e)),E=t+v,h[t].options={from:i?u(E):E,to:i?u(S):S,color:d},h[t].render(),h[t].isActive=!0)}),e._addedPlotLB||(Kt((r.plotLines||[]).concat(r.plotBands||[]),function(t){e.addPlotBandOrLine(t)}),e._addedPlotLB=!0);Kt([l,c,h],function(e){var n,r,i=[],s=w?w.duration||500:0,o=function(){for(r=i.length;r--;)e[i[r]]&&!e[i[r]].isActive&&(e[i[r]].destroy(),delete e[i[r]])};for(n in e)e[n].isActive||(e[n].render(n,!1,0),e[n].isActive=!1,i.push(n));e===h||!t.hasRendered||!s?o():s&&setTimeout(o,s)}),m&&(g=e.getLinePath(m),e.axisLine?e.axisLine.animate({d:g}):e.axisLine=n.path(g).attr({stroke:r.lineColor,"stroke-width":m,zIndex:7}).add(e.axisGroup),e.axisLine[b?"show":"hide"]()),a&&b&&(a[a.isNew?"attr":"animate"](e.getTitlePosition()),a.isNew=!1),p&&p.enabled&&e.renderStackTotals(),e.isDirty=!1},redraw:function(){this.visible&&(this.render(),Kt(this.plotLinesAndBands,function(e){e.render()})),Kt(this.series,function(e){e.isDirty=!0})},destroy:function(e){var t=this,n=t.stacks,r,i=t.plotLinesAndBands;e||en(t);for(r in n)x(n[r]),n[r]=null;Kt([t.ticks,t.minorTicks,t.alternateBands],function(e){x(e)});for(e=i.length;e--;)i[e].destroy();Kt("stackTotalGroup,axisLine,axisTitle,axisGroup,cross,gridGroup,labelGroup".split(","),function(e){t[e]&&(t[e]=t[e].destroy())}),this.cross&&this.cross.destroy()},drawCrosshair:function(e,t){var n,r=this.crosshair,i=r.animation;!this.crosshair||(f(t)||!Ut(this.crosshair.snap,!0))===!1||t&&t.series&&t.series[this.coll]!==this?this.hideCrosshair():(Ut(r.snap,!0)?f(t)&&(n=this.isXAxis?t.plotX:this.len-t.plotY):n=this.horiz?e.chartX-this.pos:this.len-e.chartY+this.pos,n=this.isRadial?this.getPlotLinePath(this.isXAxis?t.x:Ut(t.stackY,t.y))||null:this.getPlotLinePath(null,null,null,null,n)||null,n===null)?this.hideCrosshair():this.cross?this.cross.attr({visibility:"visible"})[i?"animate":"attr"]({d:n},i):(i=this.categories&&!this.isRadial,i={"stroke-width":r.width||(i?this.transA:1),stroke:r.color||(i?"rgba(155,200,255,0.2)":"#C0C0C0"),zIndex:r.zIndex||2},r.dashStyle&&(i.dashstyle=r.dashStyle),this.cross=this.chart.renderer.path(n).attr(i).add())},hideCrosshair:function(){this.cross&&this.cross.hide()}},Rt(dn.prototype,{getPlotBandPath:function(e,t){var n=this.getPlotLinePath(t,null,null,!0),r=this.getPlotLinePath(e,null,null,!0);return r&&n&&r.toString()!==n.toString()?r.push(n[4],n[5],n[1],n[2]):r=null,r},addPlotBand:function(e){return this.addPlotBandOrLine(e,"plotBands")},addPlotLine:function(e){return this.addPlotBandOrLine(e,"plotLines")},addPlotBandOrLine:function(e,t){var n=(new qt.PlotLineOrBand(this,e)).render(),r=this.userOptions;return n&&(t&&(r[t]=r[t]||[],r[t].push(e)),this.plotLinesAndBands.push(n)),n},removePlotBandOrLine:function(e){for(var t=this.plotLinesAndBands,n=this.options,r=this.userOptions,i=t.length;i--;)t[i].id===e&&t[i].destroy();Kt([n.plotLines||[],r.plotLines||[],n.plotBands||[],r.plotBands||[]],function(t){for(i=t.length;i--;)t[i].id===e&&a(t,t[i])})}}),dn.prototype.getTimeTicks=function(e,t,n,r){var i=[],s={},o=lt.global.useUTC,u,a=new St(t-m(t)),l=e.unitRange,c=e.count;if(f(t)){a[_t](l>=pt.second?0:c*I(a.getMilliseconds()/c)),l>=pt.second&&a[Dt](l>=pt.minute?0:c*I(a.getSeconds()/c)),l>=pt.minute&&a[Pt](l>=pt.hour?0:c*I(a[Ct]()/c)),l>=pt.hour&&a[Ht](l>=pt.day?0:c*I(a[kt]()/c)),l>=pt.day&&a[Bt](l>=pt.month?1:c*I(a[At]()/c)),l>=pt.month&&(a[jt](l>=pt.year?0:c*I(a[Ot]()/c)),u=a[Mt]()),l>=pt.year&&(u-=u%c,a[Ft](u)),l===pt.week&&a[Bt](a[At]()-a[Lt]()+Ut(r,1)),t=1;if(Tt||Nt)a=a.getTime(),a=new St(a+m(a));u=a[Mt]();for(var r=a.getTime(),h=a[Ot](),p=a[At](),d=(pt.day+(o?m(a):a.getTimezoneOffset()*6e4))%pt.day;r<n;)i.push(r),l===pt.year?r=xt(u+t*c,0):l===pt.month?r=xt(u,h+t*c):!!o||l!==pt.day&&l!==pt.week?r+=l*c:r=xt(u,h,p+t*c*(l===pt.day?1:7)),t++;i.push(r),Kt(Qt(i,function(e){return l<=pt.hour&&e%pt.day===d}),function(e){s[e]="day"})}return i.info=Rt(e,{higherRanks:s,totalRange:l*c}),i},dn.prototype.normalizeTimeTickInterval=function(e,t){var n=t||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]],r=n[n.length-1],i=pt[r[0]],s=r[1],o;for(o=0;o<n.length;o++)if(r=n[o],i=pt[r[0]],s=r[1],n[o+1]&&e<=(i*s[s.length-1]+pt[n[o+1][0]])/2)break;return i===pt.year&&e<5*i&&(s=[1,2,5]),n=b(e/i,s,r[0]==="year"?R(y(e/i),1):1),{unitRange:i,count:n,unitName:r[0]}},dn.prototype.getLogTickPositions=function(e,t,n,r){var i=this.options,s=this.len,a=[];r||(this._minorAutoInterval=null);if(e>=.5)e=F(e),a=this.getLinearTickPositions(e,t,n);else if(e>=.08)for(var s=I(t),f,l,c,h,p,i=e>.3?[1,2,4]:e>.15?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9];s<n+1&&!p;s++){l=i.length;for(f=0;f<l&&!p;f++)c=o(u(s)*i[f]),c>t&&(!r||h<=n)&&h!==P&&a.push(h),h>n&&(p=!0),h=c}else if(t=u(t),n=u(n),e=i[r?"minorTickInterval":"tickInterval"],e=Ut(e==="auto"?null:e,this._minorAutoInterval,(n-t)*(i.tickPixelInterval/(r?5:1))/((r?s/this.tickPositions.length:s)||1)),e=b(e,null,y(e)),a=Yt(this.getLinearTickPositions(e,t,n),o),!r)this._minorAutoInterval=e/5;return r||(this.tickInterval=e),a};var vn=qt.Tooltip=function(){this.init.apply(this,arguments)};vn.prototype={init:function(e,n){var r=n.borderWidth,i=n.style,s=t(i.padding);this.chart=e,this.options=n,this.crosshairs=[],this.now={x:0,y:0},this.isHidden=!0,this.label=e.renderer.label("",0,0,n.shape||"callout",null,null,n.useHTML,null,"tooltip").attr({padding:s,fill:n.backgroundColor,"stroke-width":r,r:n.borderRadius,zIndex:8}).css(i).css({padding:0}).add().attr({y:-9999}),it||this.label.shadow(n.shadow),this.shared=n.shared},destroy:function(){this.label&&(this.label=this.label.destroy()),clearTimeout(this.hideTimer),clearTimeout(this.tooltipTimeout)},move:function(e,t,n,r){var i=this,s=i.now,o=i.options.animation!==!1&&!i.isHidden&&(z(e-s.x)>1||z(t-s.y)>1),u=i.followPointer||i.len>1;Rt(s,{x:o?(2*s.x+e)/3:e,y:o?(s.y+t)/2:t,anchorX:u?P:o?(2*s.anchorX+n)/3:n,anchorY:u?P:o?(s.anchorY+r)/2:r}),i.label.attr(s),o&&(clearTimeout(this.tooltipTimeout),this.tooltipTimeout=setTimeout(function(){i&&i.move(e,t,n,r)},32))},hide:function(e){var t=this;clearTimeout(this.hideTimer),this.isHidden||(this.hideTimer=setTimeout(function(){t.label.fadeOut(),t.isHidden=!0},Ut(e,this.options.hideDelay,500)))},getAnchor:function(e,t){var n,r=this.chart,i=r.inverted,s=r.plotTop,o=r.plotLeft,u=0,a=0,f,l,e=c(e);return n=e[0].tooltipPos,this.followPointer&&t&&(t.chartX===P&&(t=r.pointer.normalize(t)),n=[t.chartX-r.plotLeft,t.chartY-s]),n||(Kt(e,function(e){f=e.series.yAxis,l=e.series.xAxis,u+=e.plotX+(!i&&l?l.left-o:0),a+=(e.plotLow?(e.plotLow+e.plotHigh)/2:e.plotY)+(!i&&f?f.top-s:0)}),u/=e.length,a/=e.length,n=[i?r.plotWidth-a:u,this.shared&&!i&&e.length>1&&t?t.chartY-s:i?r.plotHeight-u:a]),Yt(n,F)},getPosition:function(e,t,n){var r=this.chart,i=this.distance,s={},o=n.h||0,u,a=["y",r.chartHeight,t,n.plotY+r.plotTop,r.plotTop,r.plotTop+r.plotHeight],f=["x",r.chartWidth,e,n.plotX+r.plotLeft,r.plotLeft,r.plotLeft+r.plotWidth],l=Ut(n.ttBelow,r.inverted&&!n.negative||!r.inverted&&n.negative),c=function(e,t,n,r,u,a){var f=n<r-i,c=r+i+n<t,h=r-i-n;r+=i;if(l&&c)s[e]=r;else if(!l&&f)s[e]=h;else if(f)s[e]=U(a-n,h-o<0?h:h-o);else{if(!c)return!1;s[e]=R(u,r+o+n>t?r:r+o)}},h=function(e,t,n,r){if(r<i||r>t-i)return!1;s[e]=r<n/2?1:r>t-n/2?t-n-2:r-n/2},p=function(e){var t=a;a=f,f=t,u=e},d=function(){c.apply(0,a)!==!1?h.apply(0,f)===!1&&!u&&(p(!0),d()):u?s.x=s.y=0:(p(!0),d())};return(r.inverted||this.len>1)&&p(),d(),s},defaultFormatter:function(e){var t=this.points||c(this),n;return n=[e.tooltipFooterHeaderFormatter(t[0])],n=n.concat(e.bodyFormatter(t)),n.push(e.tooltipFooterHeaderFormatter(t[0],!0)),n.join("")},refresh:function(e,t){var n=this.chart,r=this.label,i=this.options,s,o,u,a={},f,l=[];f=i.formatter||this.defaultFormatter;var a=n.hoverPoints,h,p=this.shared;clearTimeout(this.hideTimer),this.followPointer=c(e)[0].series.tooltipOptions.followPointer,u=this.getAnchor(e,t),s=u[0],o=u[1],p&&(!e.series||!e.series.noSharedTooltip)?(n.hoverPoints=e,a&&Kt(a,function(e){e.setState()}),Kt(e,function(e){e.setState("hover"),l.push(e.getLabelConfig())}),a={x:e[0].category,y:e[0].y},a.points=l,this.len=l.length,e=e[0]):a=e.getLabelConfig(),f=f.call(a,this),a=e.series,this.distance=Ut(a.tooltipOptions.distance,16),f===!1?this.hide():(this.isHidden&&(sn(r),r.attr("opacity",1).show()),r.attr({text:f}),h=i.borderColor||e.color||a.color||"#606060",r.attr({stroke:h}),this.updatePosition({plotX:s,plotY:o,negative:e.negative,ttBelow:e.ttBelow,h:u[2]||0}),this.isHidden=!1),tn(n,"tooltipRefresh",{text:f,x:s+n.plotLeft,y:o+n.plotTop,borderColor:h})},updatePosition:function(e){var t=this.chart,n=this.label,n=(this.options.positioner||this.getPosition).call(this,n.width,n.height,e);this.move(F(n.x),F(n.y||0),e.plotX+t.plotLeft,e.plotY+t.plotTop)},getXDateFormat:function(e,t,n){var r,t=t.dateTimeLabelFormats,i=n&&n.closestPointRange,s,o={millisecond:15,second:12,minute:9,hour:6,day:3},u,a="millisecond";if(i){u=ct("%m-%d %H:%M:%S.%L",e.x);for(s in pt){if(i===pt.week&&+ct("%w",e.x)===n.options.startOfWeek&&u.substr(6)==="00:00:00.000"){s="week";break}if(pt[s]>i){s=a;break}if(o[s]&&u.substr(o[s])!=="01-01 00:00:00.000".substr(o[s]))break;s!=="week"&&(a=s)}s&&(r=t[s])}else r=t.day;return r||t.year},tooltipFooterHeaderFormatter:function(e,t){var n=t?"footer":"header",r=e.series,i=r.tooltipOptions,o=i.xDateFormat,u=r.xAxis,a=u&&u.options.type==="datetime"&&s(e.key),n=i[n+"Format"];return a&&!o&&(o=this.getXDateFormat(e,i,u)),a&&o&&(n=n.replace("{point.key}","{point.key:"+o+"}")),g(n,{point:e,series:r})},bodyFormatter:function(e){return Yt(e,function(e){var t=e.series.tooltipOptions;return(t.pointFormatter||e.point.tooltipFormatter).call(e.point,t.pointFormat)})}};var mn;ot=H.documentElement.ontouchstart!==P;var gn=qt.Pointer=function(e,t){this.init(e,t)};gn.prototype={init:function(e,t){var n=t.chart,r=n.events,i=it?"":n.zoomType,n=e.inverted,s;this.options=t,this.chart=e,this.zoomX=s=/x/.test(i),this.zoomY=i=/y/.test(i),this.zoomHor=s&&!n||i&&n,this.zoomVert=i&&!n||s&&n,this.hasZoom=s||i,this.runChartClick=r&&!!r.click,this.pinchDown=[],this.lastValidTouch={},qt.Tooltip&&t.tooltip.enabled&&(e.tooltip=new vn(e,t.tooltip),this.followTouchMove=Ut(t.tooltip.followTouchMove,!0)),this.setDOMEvents()},normalize:function(e,t){var n,r,e=e||window.event,e=nn(e);return e.target||(e.target=e.srcElement),r=e.touches?e.touches.length?e.touches.item(0):e.changedTouches[0]:e,t||(this.chartPosition=t=Gt(this.chart.container)),r.pageX===P?(n=R(e.x,e.clientX-t.left),r=e.y):(n=r.pageX-t.left,r=r.pageY-t.top),Rt(e,{chartX:F(n),chartY:F(r)})},getCoordinates:function(e){var t={xAxis:[],yAxis:[]};return Kt(this.chart.axes,function(n){t[n.isXAxis?"xAxis":"yAxis"].push({axis:n,value:n.toValue(e[n.horiz?"chartX":"chartY"])})}),t},runPointActions:function(e){var t=this.chart,n=t.series,r=t.tooltip,i=r?r.shared:!1,s=t.hoverPoint,o=t.hoverSeries,u,a=Number.MAX_VALUE,f,l,c=[],h,p;if(!i&&!o)for(u=0;u<n.length;u++)if(n[u].directTouch||!n[u].options.stickyTracking)n=[];o&&(i?o.noSharedTooltip:o.directTouch)&&s?h=s:(Kt(n,function(t){f=t.noSharedTooltip&&i,l=!i&&t.directTouch,t.visible&&!f&&!l&&Ut(t.options.enableMouseTracking,!0)&&(p=t.searchPoint(e,!f&&t.kdDimensions===1))&&c.push(p)}),Kt(c,function(e){e&&typeof e.dist=="number"&&e.dist<a&&(a=e.dist,h=e)}));if(h&&(h!==this.prevKDPoint||r&&r.isHidden)){if(i&&!h.series.noSharedTooltip){for(u=c.length;u--;)(c[u].clientX!==h.clientX||c[u].series.noSharedTooltip)&&c.splice(u,1);c.length&&r&&r.refresh(c,e),Kt(c,function(t){t.onMouseOver(e,t!==(o&&o.directTouch&&s||h))})}else(r&&r.refresh(h,e),!o||!o.directTouch)&&h.onMouseOver(e);this.prevKDPoint=h}else n=o&&o.tooltipOptions.followPointer,r&&n&&!r.isHidden&&(n=r.getAnchor([{}],e),r.updatePosition({plotX:n[0],plotY:n[1]}));r&&!this._onDocumentMouseMove&&(this._onDocumentMouseMove=function(e){vt[mn]&&vt[mn].pointer.onDocumentMouseMove(e)},Zt(H,"mousemove",this._onDocumentMouseMove)),Kt(t.axes,function(t){t.drawCrosshair(e,Ut(h,s))})},reset:function(e,t){var n=this.chart,r=n.hoverSeries,i=n.hoverPoint,s=n.hoverPoints,o=n.tooltip,u=o&&o.shared?s:i;(e=e&&o&&u)&&c(u)[0].plotX===P&&(e=!1),e?(o.refresh(u),i&&(i.setState(i.state,!0),Kt(n.axes,function(e){Ut(e.options.crosshair&&e.options.crosshair.snap,!0)?e.drawCrosshair(null,i):e.hideCrosshair()}))):(i&&i.onMouseOut(),s&&Kt(s,function(e){e.setState()}),r&&r.onMouseOut(),o&&o.hide(t),this._onDocumentMouseMove&&(en(H,"mousemove",this._onDocumentMouseMove),this._onDocumentMouseMove=null),Kt(n.axes,function(e){e.hideCrosshair()}),this.hoverX=n.hoverPoints=n.hoverPoint=null)},scaleGroups:function(e,t){var n=this.chart,r;Kt(n.series,function(i){r=e||i.getPlotBox(),i.xAxis&&i.xAxis.zoomEnabled&&(i.group.attr(r),i.markerGroup&&(i.markerGroup.attr(r),i.markerGroup.clip(t?n.clipRect:null)),i.dataLabelsGroup&&i.dataLabelsGroup.attr(r))}),n.clipRect.attr(t||n.clipBox)},dragStart:function(e){var t=this.chart;t.mouseIsDown=e.type,t.cancelClick=!1,t.mouseDownX=this.mouseDownX=e.chartX,t.mouseDownY=this.mouseDownY=e.chartY},drag:function(e){var t=this.chart,n=t.options.chart,r=e.chartX,i=e.chartY,s=this.zoomHor,o=this.zoomVert,u=t.plotLeft,a=t.plotTop,f=t.plotWidth,l=t.plotHeight,c,h=this.selectionMarker,p=this.mouseDownX,d=this.mouseDownY,v=n.panKey&&e[n.panKey+"Key"];if(!h||!h.touch)if(r<u?r=u:r>u+f&&(r=u+f),i<a?i=a:i>a+l&&(i=a+l),this.hasDragged=Math.sqrt(Math.pow(p-r,2)+Math.pow(d-i,2)),this.hasDragged>10)c=t.isInsidePlot(p-u,d-a),t.hasCartesianSeries&&(this.zoomX||this.zoomY)&&c&&!v&&!h&&(this.selectionMarker=h=t.renderer.rect(u,a,s?1:f,o?1:l,0).attr({fill:n.selectionMarkerFill||"rgba(69,114,167,0.25)",zIndex:7}).add()),h&&s&&(r-=p,h.attr({width:z(r),x:(r>0?0:r)+p})),h&&o&&(r=i-d,h.attr({height:z(r),y:(r>0?0:r)+d})),c&&!h&&n.panning&&t.pan(e,n.panning)},drop:function(e){var t=this,n=this.chart,r=this.hasPinched;if(this.selectionMarker){var i={xAxis:[],yAxis:[],originalEvent:e.originalEvent||e},s=this.selectionMarker,o=s.attr?s.attr("x"):s.x,u=s.attr?s.attr("y"):s.y,a=s.attr?s.attr("width"):s.width,l=s.attr?s.attr("height"):s.height,c;if(this.hasDragged||r)Kt(n.axes,function(n){if(n.zoomEnabled&&f(n.min)&&(r||t[{xAxis:"zoomX",yAxis:"zoomY"}[n.coll]])){var s=n.horiz,h=e.type==="touchend"?n.minPixelPadding:0,p=n.toValue((s?o:u)+h),s=n.toValue((s?o+a:u+l)-h);i[n.coll].push({axis:n,min:U(p,s),max:R(p,s)}),c=!0}}),c&&tn(n,"selection",i,function(e){n.zoom(Rt(e,r?{animation:!1}:null))});this.selectionMarker=this.selectionMarker.destroy(),r&&this.scaleGroups()}n&&(h(n.container,{cursor:n._cursor}),n.cancelClick=this.hasDragged>10,n.mouseIsDown=this.hasDragged=this.hasPinched=!1,this.pinchDown=[])},onContainerMouseDown:function(e){e=this.normalize(e),e.preventDefault&&e.preventDefault(),this.dragStart(e)},onDocumentMouseUp:function(e){vt[mn]&&vt[mn].pointer.drop(e)},onDocumentMouseMove:function(e){var t=this.chart,n=this.chartPosition,e=this.normalize(e,n);n&&!this.inClass(e.target,"highcharts-tracker")&&!t.isInsidePlot(e.chartX-t.plotLeft,e.chartY-t.plotTop)&&this.reset()},onContainerMouseLeave:function(){var e=vt[mn];e&&(e.pointer.reset(),e.pointer.chartPosition=null)},onContainerMouseMove:function(e){var t=this.chart;mn=t.index,e=this.normalize(e),e.returnValue=!1,t.mouseIsDown==="mousedown"&&this.drag(e),(this.inClass(e.target,"highcharts-tracker")||t.isInsidePlot(e.chartX-t.plotLeft,e.chartY-t.plotTop))&&!t.openMenu&&this.runPointActions(e)},inClass:function(e,t){for(var n;e;){if(n=l(e,"class")){if(n.indexOf(t)!==-1)return!0;if(n.indexOf("highcharts-container")!==-1)return!1}e=e.parentNode}},onTrackerMouseOut:function(e){var t=this.chart.hoverSeries,e=e.relatedTarget||e.toElement;t&&!t.options.stickyTracking&&!this.inClass(e,"highcharts-tooltip")&&!this.inClass(e,"highcharts-series-"+t.index)&&t.onMouseOut()},onContainerClick:function(e){var t=this.chart,n=t.hoverPoint,r=t.plotLeft,i=t.plotTop,e=this.normalize(e);e.originalEvent=e,t.cancelClick||(n&&this.inClass(e.target,"highcharts-tracker")?(tn(n.series,"click",Rt(e,{point:n})),t.hoverPoint&&n.firePointEvent("click",e)):(Rt(e,this.getCoordinates(e)),t.isInsidePlot(e.chartX-r,e.chartY-i)&&tn(t,"click",e)))},setDOMEvents:function(){var e=this,t=e.chart.container;t.onmousedown=function(t){e.onContainerMouseDown(t)},t.onmousemove=function(t){e.onContainerMouseMove(t)},t.onclick=function(t){e.onContainerClick(t)},Zt(t,"mouseleave",e.onContainerMouseLeave),mt===1&&Zt(H,"mouseup",e.onDocumentMouseUp),ot&&(t.ontouchstart=function(t){e.onContainerTouchStart(t)},t.ontouchmove=function(t){e.onContainerTouchMove(t)},mt===1&&Zt(H,"touchend",e.onDocumentTouchEnd))},destroy:function(){var e;en(this.chart.container,"mouseleave",this.onContainerMouseLeave),mt||(en(H,"mouseup",this.onDocumentMouseUp),en(H,"touchend",this.onDocumentTouchEnd)),clearInterval(this.tooltipTimeout);for(e in this)this[e]=null}},Rt(qt.Pointer.prototype,{pinchTranslate:function(e,t,n,r,i,s){(this.zoomHor||this.pinchHor)&&this.pinchTranslateDirection(!0,e,t,n,r,i,s),(this.zoomVert||this.pinchVert)&&this.pinchTranslateDirection(!1,e,t,n,r,i,s)},pinchTranslateDirection:function(e,t,n,r,i,s,o,u){var a=this.chart,f=e?"x":"y",l=e?"X":"Y",c="chart"+l,h=e?"width":"height",p=a["plot"+(e?"Left":"Top")],d,v,m=u||1,g=a.inverted,y=a.bounds[e?"h":"v"],b=t.length===1,w=t[0][c],E=n[0][c],S=!b&&t[1][c],x=!b&&n[1][c],T,n=function(){!b&&z(w-S)>20&&(m=u||z(E-x)/z(w-S)),v=(p-E)/m+w,d=a["plot"+(e?"Width":"Height")]/m};n(),t=v,t<y.min?(t=y.min,T=!0):t+d>y.max&&(t=y.max-d,T=!0),T?(E-=.8*(E-o[f][0]),b||(x-=.8*(x-o[f][1])),n()):o[f]=[E,x],g||(s[f]=v-p,s[h]=d),s=g?1/m:m,i[h]=d,i[f]=t,r[g?e?"scaleY":"scaleX":"scale"+l]=m,r["translate"+l]=s*p+(E-s*w)},pinch:function(e){var t=this,n=t.chart,r=t.pinchDown,i=e.touches,s=i.length,o=t.lastValidTouch,u=t.hasZoom,a=t.selectionMarker,f={},l=s===1&&(t.inClass(e.target,"highcharts-tracker")&&n.runTrackerClick||t.runChartClick),c={};s>1&&(t.initiated=!0),u&&t.initiated&&!l&&e.preventDefault(),Yt(i,function(e){return t.normalize(e)}),e.type==="touchstart"?(Kt(i,function(e,t){r[t]={chartX:e.chartX,chartY:e.chartY}}),o.x=[r[0].chartX,r[1]&&r[1].chartX],o.y=[r[0].chartY,r[1]&&r[1].chartY],Kt(n.axes,function(e){if(e.zoomEnabled){var t=n.bounds[e.horiz?"h":"v"],r=e.minPixelPadding,i=e.toPixels(Ut(e.options.min,e.dataMin)),s=e.toPixels(Ut(e.options.max,e.dataMax)),o=U(i,s),i=R(i,s);t.min=U(e.pos,o-r),t.max=R(e.pos+e.len,i+r)}}),t.res=!0):r.length&&(a||(t.selectionMarker=a=Rt({destroy:dt,touch:!0},n.plotBox)),t.pinchTranslate(r,i,f,a,c,o),t.hasPinched=u,t.scaleGroups(f,c),!u&&t.followTouchMove&&s===1?this.runPointActions(t.normalize(e)):t.res&&(t.res=!1,this.reset(!1,0)))},touch:function(e,t){var n=this.chart;mn=n.index,e.touches.length===1?(e=this.normalize(e),n.isInsidePlot(e.chartX-n.plotLeft,e.chartY-n.plotTop)&&!n.openMenu?(t&&this.runPointActions(e),this.pinch(e)):t&&this.reset()):e.touches.length===2&&this.pinch(e)},onContainerTouchStart:function(e){this.touch(e,!0)},onContainerTouchMove:function(e){this.touch(e)},onDocumentTouchEnd:function(e){vt[mn]&&vt[mn].pointer.drop(e)}});if(B.PointerEvent||B.MSPointerEvent){var yn={},bn=!!B.PointerEvent,wn=function(){var e,t=[];t.item=function(e){return this[e]};for(e in yn)yn.hasOwnProperty(e)&&t.push({pageX:yn[e].pageX,pageY:yn[e].pageY,target:yn[e].target});return t},En=function(e,t,n,r){e=e.originalEvent||e,(e.pointerType==="touch"||e.pointerType===e.MSPOINTER_TYPE_TOUCH)&&vt[mn]&&(r(e),r=vt[mn].pointer,r[t]({type:n,target:e.currentTarget,preventDefault:dt,touches:wn()}))};Rt(gn.prototype,{onContainerPointerDown:function(e){En(e,"onContainerTouchStart","touchstart",function(e){yn[e.pointerId]={pageX:e.pageX,pageY:e.pageY,target:e.currentTarget}})},onContainerPointerMove:function(e){En(e,"onContainerTouchMove","touchmove",function(e){yn[e.pointerId]={pageX:e.pageX,pageY:e.pageY},yn[e.pointerId].target||(yn[e.pointerId].target=e.currentTarget)})},onDocumentPointerUp:function(e){En(e,"onDocumentTouchEnd","touchend",function(e){delete yn[e.pointerId]})},batchMSEvents:function(e){e(this.chart.container,bn?"pointerdown":"MSPointerDown",this.onContainerPointerDown),e(this.chart.container,bn?"pointermove":"MSPointerMove",this.onContainerPointerMove),e(H,bn?"pointerup":"MSPointerUp",this.onDocumentPointerUp)}}),zt(gn.prototype,"init",function(e,t,n){e.call(this,t,n),this.hasZoom&&h(t.container,{"-ms-touch-action":yt,"touch-action":yt})}),zt(gn.prototype,"setDOMEvents",function(e){e.apply(this),(this.hasZoom||this.followTouchMove)&&this.batchMSEvents(Zt)}),zt(gn.prototype,"destroy",function(e){this.batchMSEvents(en),e.call(this)})}var Sn=qt.Legend=function(e,t){this.init(e,t)};Sn.prototype={init:function(t,n){var r=this,i=n.itemStyle,s=n.itemMarginTop||0;this.options=n,n.enabled&&(r.itemStyle=i,r.itemHiddenStyle=e(i,n.itemHiddenStyle),r.itemMarginTop=s,r.padding=i=Ut(n.padding,8),r.initialItemX=i,r.initialItemY=i-5,r.maxItemWidth=0,r.chart=t,r.itemHeight=0,r.symbolWidth=Ut(n.symbolWidth,16),r.pages=[],r.render(),Zt(r.chart,"endResize",function(){r.positionCheckboxes()}))},colorizeItem:function(e,t){var n=this.options,r=e.legendItem,i=e.legendLine,s=e.legendSymbol,o=this.itemHiddenStyle.color,n=t?n.itemStyle.color:o,u=t?e.legendColor||e.color||"#CCC":o,o=e.options&&e.options.marker,a={fill:u},f;r&&r.css({fill:n,color:n}),i&&i.attr({stroke:u});if(s){if(o&&s.isMarker)for(f in a.stroke=u,o=e.convertAttribs(o),o)r=o[f],r!==P&&(a[f]=r);s.attr(a)}},positionItem:function(e){var t=this.options,n=t.symbolPadding,t=!t.rtl,r=e._legendItemPos,i=r[0],r=r[1],s=e.checkbox;(e=e.legendGroup)&&e.element&&e.translate(t?i:this.legendWidth-i-2*n-4,r),s&&(s.x=i,s.y=r)},destroyItem:function(e){var t=e.checkbox;Kt(["legendItem","legendLine","legendSymbol","legendGroup"],function(t){e[t]&&(e[t]=e[t].destroy())}),t&&T(e.checkbox)},destroy:function(){var e=this.group,t=this.box;t&&(this.box=t.destroy()),e&&(this.group=e.destroy())},positionCheckboxes:function(e){var t=this.group.alignAttr,n,r=this.clipHeight||this.legendHeight;t&&(n=t.translateY,Kt(this.allItems,function(i){var s=i.checkbox,o;s&&(o=n+s.y+(e||0)+3,h(s,{left:t.translateX+i.checkboxOffset+s.x-20+"px",top:o+"px",display:o>n-6&&o<n+r-6?"":yt}))}))},renderTitle:function(){var e=this.padding,t=this.options.title,n=0;t.text&&(this.title||(this.title=this.chart.renderer.label(t.text,e-3,e-4,null,null,null,null,null,"legend-title").attr({zIndex:1}).css(t.style).add(this.group)),e=this.title.getBBox(),n=e.height,this.offsetWidth=e.width,this.contentGroup.attr({translateY:n})),this.titleHeight=n},setText:function(e){var t=this.options;e.legendItem.attr({text:t.labelFormat?g(t.labelFormat,e):t.labelFormatter.call(e)})},renderItem:function(t){var n=this.chart,r=n.renderer,i=this.options,s=i.layout==="horizontal",o=this.symbolWidth,u=i.symbolPadding,a=this.itemStyle,f=this.itemHiddenStyle,l=this.padding,c=s?Ut(i.itemDistance,20):0,h=!i.rtl,p=i.width,d=i.itemMarginBottom||0,v=this.itemMarginTop,m=this.initialItemX,g=t.legendItem,y=t.series&&t.series.drawLegendSymbol?t.series:t,b=y.options,b=this.createCheckboxForItem&&b&&b.showCheckbox,w=i.useHTML;g||(t.legendGroup=r.g("legend-item").attr({zIndex:1}).add(this.scrollGroup),t.legendItem=g=r.text("",h?o+u:-u,this.baseline||0,w).css(e(t.visible?a:f)).attr({align:h?"left":"right",zIndex:2}).add(t.legendGroup),this.baseline||(this.fontMetrics=r.fontMetrics(a.fontSize,g),this.baseline=this.fontMetrics.f+3+v,g.attr("y",this.baseline)),y.drawLegendSymbol(this,t),this.setItemEvents&&this.setItemEvents(t,g,w,a,f),this.colorizeItem(t,t.visible),b&&this.createCheckboxForItem(t)),this.setText(t),r=g.getBBox(),o=t.checkboxOffset=i.itemWidth||t.legendItemWidth||o+u+r.width+c+(b?20:0),this.itemHeight=u=F(t.legendItemHeight||r.height),s&&this.itemX-m+o>(p||n.chartWidth-2*l-m-i.x)&&(this.itemX=m,this.itemY+=v+this.lastLineHeight+d,this.lastLineHeight=0),this.maxItemWidth=R(this.maxItemWidth,o),this.lastItemY=v+this.itemY+d,this.lastLineHeight=R(u,this.lastLineHeight),t._legendItemPos=[this.itemX,this.itemY],s?this.itemX+=o:(this.itemY+=v+u+d,this.lastLineHeight=u),this.offsetWidth=p||R((s?this.itemX-m-c:o)+l,this.offsetWidth)},getAllItems:function(){var e=[];return Kt(this.chart.series,function(t){var n=t.options;Ut(n.showInLegend,f(n.linkedTo)?!1:P,!0)&&(e=e.concat(t.legendItems||(n.legendType==="point"?t.data:t)))}),e},adjustMargins:function(e,t){var n=this.chart,r=this.options,i=r.align.charAt(0)+r.verticalAlign.charAt(0)+r.layout.charAt(0);this.display&&!r.floating&&Kt([/(lth|ct|rth)/,/(rtv|rm|rbv)/,/(rbh|cb|lbh)/,/(lbv|lm|ltv)/],function(s,o){s.test(i)&&!f(e[o])&&(n[wt[o]]=R(n[wt[o]],n.legend[(o+1)%2?"legendHeight":"legendWidth"]+[1,-1,-1,1][o]*r[o%2?"x":"y"]+Ut(r.margin,12)+t[o]))})},render:function(){var e=this,t=e.chart,n=t.renderer,r=e.group,i,s,o,u,a=e.box,f=e.options,l=e.padding,c=f.borderWidth,h=f.backgroundColor;e.itemX=e.initialItemX,e.itemY=e.initialItemY,e.offsetWidth=0,e.lastItemY=0,r||(e.group=r=n.g("legend").attr({zIndex:7}).add(),e.contentGroup=n.g().attr({zIndex:1}).add(r),e.scrollGroup=n.g().add(e.contentGroup)),e.renderTitle(),i=e.getAllItems(),w(i,function(e,t){return(e.options&&e.options.legendIndex||0)-(t.options&&t.options.legendIndex||0)}),f.reversed&&i.reverse(),e.allItems=i,e.display=s=!!i.length,e.lastLineHeight=0,Kt(i,function(t){e.renderItem(t)}),o=(f.width||e.offsetWidth)+l,u=e.lastItemY+e.lastLineHeight+e.titleHeight,u=e.handleOverflow(u),u+=l;if(c||h)a?o>0&&u>0&&(a[a.isNew?"attr":"animate"](a.crisp({width:o,height:u})),a.isNew=!1):(e.box=a=n.rect(0,0,o,u,f.borderRadius,c||0).attr({stroke:f.borderColor,"stroke-width":c||0,fill:h||yt}).add(r).shadow(f.shadow),a.isNew=!0),a[s?"show":"hide"]();e.legendWidth=o,e.legendHeight=u,Kt(i,function(t){e.positionItem(t)}),s&&r.align(Rt({width:o,height:u},f),!0,"spacingBox"),t.isResizing||this.positionCheckboxes()},handleOverflow:function(e){var t=this,n=this.chart,r=n.renderer,i=this.options,s=i.y,s=n.spacingBox.height+(i.verticalAlign==="top"?-s:s)-this.padding,o=i.maxHeight,u,a=this.clipRect,f=i.navigation,l=Ut(f.animation,!0),c=f.arrowSize||12,h=this.nav,p=this.pages,d=this.padding,v,m=this.allItems,g=function(e){a.attr({height:e}),t.contentGroup.div&&(t.contentGroup.div.style.clip="rect("+d+"px,9999px,"+(d+e)+"px,0)")};return i.layout==="horizontal"&&(s/=2),o&&(s=U(s,o)),p.length=0,e>s?(this.clipHeight=u=R(s-20-this.titleHeight-d,0),this.currentPage=Ut(this.currentPage,1),this.fullHeight=e,Kt(m,function(e,t){var n=e._legendItemPos[1],r=F(e.legendItem.getBBox().height),i=p.length;if(!i||n-p[i-1]>u&&(v||n)!==p[i-1])p.push(v||n),i++;t===m.length-1&&n+r-p[i-1]>u&&p.push(n),n!==v&&(v=n)}),a||(a=t.clipRect=r.clipRect(0,d,9999,0),t.contentGroup.clip(a)),g(u),h||(this.nav=h=r.g().attr({zIndex:1}).add(this.group),this.up=r.symbol("triangle",0,0,c,c).on("click",function(){t.scroll(-1,l)}).add(h),this.pager=r.text("",15,10).css(f.style).add(h),this.down=r.symbol("triangle-down",0,0,c,c).on("click",function(){t.scroll(1,l)}).add(h)),t.scroll(0),e=s):h&&(g(n.chartHeight),h.hide(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),e},scroll:function(e,t){var n=this.pages,r=n.length,i=this.currentPage+e,s=this.clipHeight,o=this.options.navigation,u=o.activeColor,o=o.inactiveColor,a=this.pager,f=this.padding;i>r&&(i=r),i>0&&(t!==P&&k(t,this.chart),this.nav.attr({translateX:f,translateY:s+this.padding+7+this.titleHeight,visibility:"visible"}),this.up.attr({fill:i===1?o:u}).css({cursor:i===1?"default":"pointer"}),a.attr({text:i+"/"+r}),this.down.attr({x:18+this.pager.getBBox().width,fill:i===r?o:u}).css({cursor:i===r?"default":"pointer"}),n=-n[i-1]+this.initialItemY,this.scrollGroup.animate({translateY:n}),this.currentPage=i,this.positionCheckboxes(n))}},Xt=qt.LegendSymbolMixin={drawRectangle:function(e,t){var n=e.options.symbolHeight||e.fontMetrics.f;t.legendSymbol=this.chart.renderer.rect(0,e.baseline-n+1,e.symbolWidth,n,e.options.symbolRadius||0).attr({zIndex:3}).add(t.legendGroup)},drawLineMarker:function(e){var t=this.options,n=t.marker,r;r=e.symbolWidth;var i=this.chart.renderer,s=this.legendGroup,e=e.baseline-F(e.fontMetrics.b*.3),o;t.lineWidth&&(o={"stroke-width":t.lineWidth},t.dashStyle&&(o.dashstyle=t.dashStyle),this.legendLine=i.path(["M",0,e,"L",r,e]).attr(o).add(s)),n&&n.enabled!==!1&&(t=n.radius,this.legendSymbol=r=i.symbol(this.symbol,r/2-t,e-t,2*t,2*t).add(s),r.isMarker=!0)}},(/Trident\/7\.0/.test(J)||Z)&&zt(Sn.prototype,"positionItem",function(e,t){var n=this,r=function(){t._legendItemPos&&e.call(n,t)};r(),setTimeout(r)});var xn=qt.Chart=function(){this.init.apply(this,arguments)};xn.prototype={callbacks:[],init:function(t,n){var r,i=t.series;t.series=null,r=e(lt,t),r.series=t.series=i,this.userOptions=t,i=r.chart,this.margin=this.splashArray("margin",i),this.spacing=this.splashArray("spacing",i);var s=i.events;this.bounds={h:{},v:{}},this.callback=n,this.isResizing=0,this.options=r,this.axes=[],this.series=[],this.hasCartesianSeries=i.showAxes;var o=this,u;o.index=vt.length,vt.push(o),mt++,i.reflow!==!1&&Zt(o,"load",function(){o.initReflow()});if(s)for(u in s)Zt(o,u,s[u]);o.xAxis=[],o.yAxis=[],o.animation=it?!1:Ut(i.animation,!0),o.pointCount=o.colorCounter=o.symbolCounter=0,o.firstRender()},initSeries:function(e){var t=this.options.chart;return(t=It[e.type||t.type||t.defaultSeriesType])||N(17,!0),t=new t,t.init(this,e),t},isInsidePlot:function(e,t,n){var r=n?t:e,e=n?e:t;return r>=0&&r<=this.plotWidth&&e>=0&&e<=this.plotHeight},redraw:function(e){var t=this.axes,n=this.series,r=this.pointer,i=this.legend,s=this.isDirtyLegend,o,u,a=this.hasCartesianSeries,f=this.isDirtyBox,l=n.length,c=l,h=this.renderer,p=h.isHidden(),d=[];k(e,this),p&&this.cloneRenderTo();for(this.layOutTitles();c--;)if(e=n[c],e.options.stacking&&(o=!0,e.isDirty)){u=!0;break}if(u)for(c=l;c--;)if(e=n[c],e.options.stacking)e.isDirty=!0;Kt(n,function(e){e.isDirty&&e.options.legendType==="point"&&(e.updateTotals&&e.updateTotals(),s=!0)}),s&&i.options.enabled&&(i.render(),this.isDirtyLegend=!1),o&&this.getStacks(),a&&!this.isResizing&&(this.maxTicks=null,Kt(t,function(e){e.setScale()})),this.getMargins(),a&&(Kt(t,function(e){e.isDirty&&(f=!0)}),Kt(t,function(e){var t=e.min+","+e.max;e.extKey!==t&&(e.extKey=t,d.push(function(){tn(e,"afterSetExtremes",Rt(e.eventArgs,e.getExtremes())),delete e.eventArgs})),(f||o)&&e.redraw()})),f&&this.drawChartBox(),Kt(n,function(e){e.isDirty&&e.visible&&(!e.isCartesian||e.xAxis)&&e.redraw()}),r&&r.reset(!0),h.draw(),tn(this,"redraw"),p&&this.cloneRenderTo(!0),Kt(d,function(e){e.call()})},get:function(e){var t=this.axes,n=this.series,r,i;for(r=0;r<t.length;r++)if(t[r].options.id===e)return t[r];for(r=0;r<n.length;r++)if(n[r].options.id===e)return n[r];for(r=0;r<n.length;r++){i=n[r].points||[];for(t=0;t<i.length;t++)if(i[t].id===e)return i[t]}return null},getAxes:function(){var e=this,t=this.options,n=t.xAxis=c(t.xAxis||{}),t=t.yAxis=c(t.yAxis||{});Kt(n,function(e,t){e.index=t,e.isX=!0}),Kt(t,function(e,t){e.index=t}),n=n.concat(t),Kt(n,function(t){new dn(e,t)})},getSelectedPoints:function(){var e=[];return Kt(this.series,function(t){e=e.concat(Qt(t.points||[],function(e){return e.selected}))}),e},getSelectedSeries:function(){return Qt(this.series,function(e){return e.selected})},setTitle:function(t,n,r){var i,s=this,o=s.options,u;u=o.title=e(o.title,t),i=o.subtitle=e(o.subtitle,n),o=i,Kt([["title",t,u],["subtitle",n,o]],function(e){var t=e[0],n=s[t],r=e[1],e=e[2];n&&r&&(s[t]=n=n.destroy()),e&&e.text&&!n&&(s[t]=s.renderer.text(e.text,0,0,e.useHTML).attr({align:e.align,"class":"highcharts-"+t,zIndex:e.zIndex||4}).css(e.style).add())}),s.layOutTitles(r)},layOutTitles:function(e){var t=0,n=this.title,r=this.subtitle,i=this.options,s=i.title,i=i.subtitle,o=this.renderer,u=this.spacingBox.width-44;n&&(n.css({width:(s.width||u)+"px"}).align(Rt({y:o.fontMetrics(s.style.fontSize,n).b-3},s),!1,"spacingBox"),!s.floating&&!s.verticalAlign)&&(t=n.getBBox().height),r&&(r.css({width:(i.width||u)+"px"}).align(Rt({y:t+(s.margin-13)+o.fontMetrics(i.style.fontSize,n).b},i),!1,"spacingBox"),!i.floating&&!i.verticalAlign&&(t=q(t+r.getBBox().height))),n=this.titleOffset!==t,this.titleOffset=t,!this.isDirtyBox&&n&&(this.isDirtyBox=n,this.hasRendered&&Ut(e,!0)&&this.isDirtyBox&&this.redraw())},getChartSize:function(){var e=this.options.chart,t=e.width,e=e.height,n=this.renderToClone||this.renderTo;f(t)||(this.containerWidth=Vt(n,"width")),f(e)||(this.containerHeight=Vt(n,"height")),this.chartWidth=R(0,t||this.containerWidth||600),this.chartHeight=R(0,Ut(e,this.containerHeight>19?this.containerHeight:400))},cloneRenderTo:function(e){var t=this.renderToClone,n=this.container;e?t&&(this.renderTo.appendChild(n),T(t),delete this.renderToClone):(n&&n.parentNode===this.renderTo&&this.renderTo.removeChild(n),this.renderToClone=t=this.renderTo.cloneNode(0),h(t,{position:"absolute",top:"-9999px",display:"block"}),t.style.setProperty&&t.style.setProperty("display","block","important"),H.body.appendChild(t),n&&t.appendChild(n))},getContainer:function(){var e,r=this.options,i=r.chart,s,o,u;this.renderTo=e=i.renderTo,u="highcharts-"+at++,n(e)&&(this.renderTo=e=H.getElementById(e)),e||N(13,!0),s=t(l(e,"data-highcharts-chart")),!isNaN(s)&&vt[s]&&vt[s].hasRendered&&vt[s].destroy(),l(e,"data-highcharts-chart",this.index),e.innerHTML="",!i.skipClone&&!e.offsetWidth&&this.cloneRenderTo(),this.getChartSize(),s=this.chartWidth,o=this.chartHeight,this.container=e=p(gt,{className:"highcharts-container"+(i.className?" "+i.className:""),id:u},Rt({position:"relative",overflow:"hidden",width:s+"px",height:o+"px",textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)"},i.style),this.renderToClone||e),this._cursor=e.style.cursor,this.renderer=new(qt[i.renderer]||st)(e,s,o,i.style,i.forExport,r.exporting&&r.exporting.allowHTML),it&&this.renderer.create(this,e,s,o),this.renderer.chartIndex=this.index},getMargins:function(e){var t=this.spacing,n=this.margin,r=this.titleOffset;this.resetMargins(),r&&!f(n[0])&&(this.plotTop=R(this.plotTop,r+this.options.title.margin+t[0])),this.legend.adjustMargins(n,t),this.extraBottomMargin&&(this.marginBottom+=this.extraBottomMargin),this.extraTopMargin&&(this.plotTop+=this.extraTopMargin),e||this.getAxisMargins()},getAxisMargins:function(){var e=this,t=e.axisOffset=[0,0,0,0],n=e.margin;e.hasCartesianSeries&&Kt(e.axes,function(e){e.visible&&e.getOffset()}),Kt(wt,function(r,i){f(n[i])||(e[r]+=t[i])}),e.setChartSize()},reflow:function(e){var t=this,n=t.options.chart,r=t.renderTo,i=n.width||Vt(r,"width"),s=n.height||Vt(r,"height"),n=e?e.target:B,r=function(){t.container&&(t.setSize(i,s,!1),t.hasUserSize=null)};if(!t.hasUserSize&&!t.isPrinting&&i&&s&&(n===B||n===H)){if(i!==t.containerWidth||s!==t.containerHeight)clearTimeout(t.reflowTimeout),e?t.reflowTimeout=setTimeout(r,100):r();t.containerWidth=i,t.containerHeight=s}},initReflow:function(){var e=this,t=function(t){e.reflow(t)};Zt(B,"resize",t),Zt(e,"destroy",function(){en(B,"resize",t)})},setSize:function(e,t,n){var r=this,i,s,o,u=r.renderer;r.isResizing+=1,o=function(){r&&tn(r,"endResize",null,function(){r.isResizing-=1})},k(n,r),r.oldChartHeight=r.chartHeight,r.oldChartWidth=r.chartWidth,f(e)&&(r.chartWidth=i=R(0,F(e)),r.hasUserSize=!!i),f(t)&&(r.chartHeight=s=R(0,F(t))),e=u.globalAnimation,(e?rn:h)(r.container,{width:i+"px",height:s+"px"},e),r.setChartSize(!0),u.setSize(i,s,n),r.maxTicks=null,Kt(r.axes,function(e){e.isDirty=!0,e.setScale()}),Kt(r.series,function(e){e.isDirty=!0}),r.isDirtyLegend=!0,r.isDirtyBox=!0,r.layOutTitles(),r.getMargins(),r.redraw(n),r.oldChartHeight=null,tn(r,"resize"),e=u.globalAnimation,e===!1?o():setTimeout(o,e&&e.duration||500)},setChartSize:function(e){var t=this.inverted,n=this.renderer,r=this.chartWidth,i=this.chartHeight,s=this.options.chart,o=this.spacing,u=this.clipOffset,a,f,l,c;this.plotLeft=a=F(this.plotLeft),this.plotTop=f=F(this.plotTop),this.plotWidth=l=R(0,F(r-a-this.marginRight)),this.plotHeight=c=R(0,F(i-f-this.marginBottom)),this.plotSizeX=t?c:l,this.plotSizeY=t?l:c,this.plotBorderWidth=s.plotBorderWidth||0,this.spacingBox=n.spacingBox={x:o[3],y:o[0],width:r-o[3]-o[1],height:i-o[0]-o[2]},this.plotBox=n.plotBox={x:a,y:f,width:l,height:c},r=2*I(this.plotBorderWidth/2),t=q(R(r,u[3])/2),n=q(R(r,u[0])/2),this.clipBox={x:t,y:n,width:I(this.plotSizeX-R(r,u[1])/2-t),height:R(0,I(this.plotSizeY-R(r,u[2])/2-n))},e||Kt(this.axes,function(e){e.setAxisSize(),e.setAxisTranslation()})},resetMargins:function(){var e=this;Kt(wt,function(t,n){e[t]=Ut(e.margin[n],e.spacing[n])}),e.axisOffset=[0,0,0,0],e.clipOffset=[0,0,0,0]},drawChartBox:function(){var e=this.options.chart,t=this.renderer,n=this.chartWidth,r=this.chartHeight,i=this.chartBackground,s=this.plotBackground,o=this.plotBorder,u=this.plotBGImage,a=e.borderWidth||0,f=e.backgroundColor,l=e.plotBackgroundColor,c=e.plotBackgroundImage,h=e.plotBorderWidth||0,p,d=this.plotLeft,v=this.plotTop,m=this.plotWidth,g=this.plotHeight,y=this.plotBox,b=this.clipRect,w=this.clipBox;p=a+(e.shadow?8:0);if(a||f)i?i.animate(i.crisp({width:n-p,height:r-p})):(i={fill:f||yt},a&&(i.stroke=e.borderColor,i["stroke-width"]=a),this.chartBackground=t.rect(p/2,p/2,n-p,r-p,e.borderRadius,a).attr(i).addClass("highcharts-background").add().shadow(e.shadow));l&&(s?s.animate(y):this.plotBackground=t.rect(d,v,m,g,0).attr({fill:l}).add().shadow(e.plotShadow)),c&&(u?u.animate(y):this.plotBGImage=t.image(c,d,v,m,g).add()),b?b.animate({width:w.width,height:w.height}):this.clipRect=t.clipRect(w),h&&(o?o.animate(o.crisp({x:d,y:v,width:m,height:g,strokeWidth:-h})):this.plotBorder=t.rect(d,v,m,g,0,-h).attr({stroke:e.plotBorderColor,"stroke-width":h,fill:yt,zIndex:1}).add()),this.isDirtyBox=!1},propFromSeries:function(){var e=this,t=e.options.chart,n,r=e.options.series,i,s;Kt(["inverted","angular","polar"],function(o){n=It[t.type||t.defaultSeriesType],s=e[o]||t[o]||n&&n.prototype[o];for(i=r&&r.length;!s&&i--;)(n=It[r[i].type])&&n.prototype[o]&&(s=!0);e[o]=s})},linkSeries:function(){var e=this,t=e.series;Kt(t,function(e){e.linkedSeries.length=0}),Kt(t,function(t){var r=t.options.linkedTo;n(r)&&(r=r===":previous"?e.series[t.index-1]:e.get(r))&&(r.linkedSeries.push(t),t.linkedParent=r,t.visible=Ut(t.options.visible,r.options.visible,t.visible))})},renderSeries:function(){Kt(this.series,function(e){e.translate(),e.render()})},renderLabels:function(){var e=this,n=e.options.labels;n.items&&Kt(n.items,function(r){var i=Rt(n.style,r.style),s=t(i.left)+e.plotLeft,o=t(i.top)+e.plotTop+12;delete i.left,delete i.top,e.renderer.text(r.html,s,o).attr({zIndex:2}).css(i).add()})},render:function(){var e=this.axes,t=this.renderer,n=this.options,r,i,s,o;this.setTitle(),this.legend=new Sn(this,n.legend),this.getStacks&&this.getStacks(),this.getMargins(!0),this.setChartSize(),r=this.plotWidth,i=this.plotHeight-=13,Kt(e,function(e){e.setScale()}),this.getAxisMargins(),s=r/this.plotWidth>1.1,o=i/this.plotHeight>1.1;if(s||o)this.maxTicks=null,Kt(e,function(e){(e.horiz&&s||!e.horiz&&o)&&e.setTickInterval(!0)}),this.getMargins();this.drawChartBox(),this.hasCartesianSeries&&Kt(e,function(e){e.visible&&e.render()}),this.seriesGroup||(this.seriesGroup=t.g("series-group").attr({zIndex:3}).add()),this.renderSeries(),this.renderLabels(),this.showCredits(n.credits),this.hasRendered=!0},showCredits:function(e){e.enabled&&!this.credits&&(this.credits=this.renderer.text(e.text,0,0).on("click",function(){e.href&&(location.href=e.href)}).attr({align:e.position.align,zIndex:8}).css(e.style).add().align(e.position))},destroy:function(){var e=this,t=e.axes,n=e.series,r=e.container,i,s=r&&r.parentNode;tn(e,"destroy"),vt[e.index]=P,mt--,e.renderTo.removeAttribute("data-highcharts-chart"),en(e);for(i=t.length;i--;)t[i]=t[i].destroy();for(i=n.length;i--;)n[i]=n[i].destroy();Kt("title,subtitle,chartBackground,plotBackground,plotBGImage,plotBorder,seriesGroup,clipRect,credits,pointer,scroller,rangeSelector,legend,resetZoomButton,tooltip,renderer".split(","),function(t){var n=e[t];n&&n.destroy&&(e[t]=n.destroy())}),r&&(r.innerHTML="",en(r),s&&T(r));for(i in e)delete e[i]},isReadyToRender:function(){var e=this;return!nt&&B==B.top&&H.readyState!=="complete"||it&&!B.canvg?(it?pn.push(function(){e.firstRender()},e.options.global.canvasToolsURL):H.attachEvent("onreadystatechange",function(){H.detachEvent("onreadystatechange",e.firstRender),H.readyState==="complete"&&e.firstRender()}),!1):!0},firstRender:function(){var e=this,t=e.options,n=e.callback;e.isReadyToRender()&&(e.getContainer(),tn(e,"init"),e.resetMargins(),e.setChartSize(),e.propFromSeries(),e.getAxes(),Kt(t.series||[],function(t){e.initSeries(t)}),e.linkSeries(),tn(e,"beforeRender"),qt.Pointer&&(e.pointer=new gn(e,t)),e.render(),e.renderer.draw(),n&&n.apply(e,[e]),Kt(e.callbacks,function(t){e.index!==P&&t.apply(e,[e])}),tn(e,"load"),e.cloneRenderTo(!0))},splashArray:function(e,t){var n=t[e],n=r(n)?n:[n,n,n,n];return[Ut(t[e+"Top"],n[0]),Ut(t[e+"Right"],n[1]),Ut(t[e+"Bottom"],n[2]),Ut(t[e+"Left"],n[3])]}};var Tn=qt.CenteredSeriesMixin={getCenter:function(){var e=this.options,t=this.chart,n=2*(e.slicedOffset||0),r=t.plotWidth-2*n,t=t.plotHeight-2*n,i=e.center,i=[Ut(i[0],"50%"),Ut(i[1],"50%"),e.size||"100%",e.innerSize||0],s=U(r,t),o,u;for(o=0;o<4;++o)u=i[o],e=o<2||o===2&&/%$/.test(u),i[o]=(/%$/.test(u)?[r,t,s,i[2]][o]*parseFloat(u)/100:parseFloat(u))+(e?n:0);return i[3]>i[2]&&(i[3]=i[2]),i}},Nn=function(){};Nn.prototype={init:function(e,t,n){return this.series=e,this.color=e.color,this.applyOptions(t,n),this.pointAttr={},e.options.colorByPoint&&(t=e.options.colors||e.chart.options.colors,this.color=this.color||t[e.colorCounter++],e.colorCounter===t.length)&&(e.colorCounter=0),e.chart.pointCount++,this},applyOptions:function(e,t){var n=this.series,r=n.options.pointValKey||n.pointValKey,e=Nn.prototype.optionsToObject.call(this,e);return Rt(this,e),this.options=this.options?Rt(this.options,e):e,r&&(this.y=this[r]),this.x===P&&n&&(this.x=t===P?n.autoIncrement():t),this},optionsToObject:function(e){var t={},n=this.series,r=n.options.keys,s=r||n.pointArrayMap||["y"],o=s.length,u=0,a=0;if(typeof e=="number"||e===null)t[s[0]]=e;else if(i(e)){!r&&e.length>o&&(n=typeof e[0],n==="string"?t.name=e[0]:n==="number"&&(t.x=e[0]),u++);for(;a<o;){if(!r||e[u]!==void 0)t[s[a]]=e[u];u++,a++}}else typeof e=="object"&&(t=e,e.dataLabels&&(n._hasPointLabels=!0),e.marker&&(n._hasPointMarkers=!0));return t},destroy:function(){var e=this.series.chart,t=e.hoverPoints,n;e.pointCount--,t&&(this.setState(),a(t,this),!t.length)&&(e.hoverPoints=null),this===e.hoverPoint&&this.onMouseOut();if(this.graphic||this.dataLabel)en(this),this.destroyElements();this.legendItem&&e.legend.destroyItem(this);for(n in this)this[n]=null},destroyElements:function(){for(var e=["graphic","dataLabel","dataLabelUpper","connector","shadowGroup"],t,n=6;n--;)t=e[n],this[t]&&(this[t]=this[t].destroy())},getLabelConfig:function(){return{x:this.category,y:this.y,color:this.color,key:this.name||this.category,series:this.series,point:this,percentage:this.percentage,total:this.total||this.stackTotal}},tooltipFormatter:function(e){var t=this.series,n=t.tooltipOptions,r=Ut(n.valueDecimals,""),i=n.valuePrefix||"",s=n.valueSuffix||"";return Kt(t.pointArrayMap||["y"],function(t){t="{point."+t;if(i||s)e=e.replace(t+"}",i+t+"}"+s);e=e.replace(t+"}",t+":,."+r+"f}")}),g(e,{point:this,series:this.series})},firePointEvent:function(e,t,n){var r=this,i=this.series.options;(i.point.events[e]||r.options&&r.options.events&&r.options.events[e])&&this.importEvents(),e==="click"&&i.allowPointSelect&&(n=function(e){r.select&&r.select(null,e.ctrlKey||e.metaKey||e.shiftKey)}),tn(this,e,t,n)},visible:!0};var Cn=qt.Series=function(){};Cn.prototype={isCartesian:!0,type:"line",pointClass:Nn,sorted:!0,requireSorting:!0,pointAttrToOptions:{stroke:"lineColor","stroke-width":"lineWidth",fill:"fillColor",r:"radius"},directTouch:!1,axisTypes:["xAxis","yAxis"],colorCounter:0,parallelArrays:["x","y"],init:function(e,t){var n=this,r,i,s=e.series,o=function(e,t){return Ut(e.options.index,e._i)-Ut(t.options.index,t._i)};n.chart=e,n.options=t=n.setOptions(t),n.linkedSeries=[],n.bindAxes(),Rt(n,{name:t.name,state:"",pointAttr:{},visible:t.visible!==!1,selected:t.selected===!0}),it&&(t.animation=!1),i=t.events;for(r in i)Zt(n,r,i[r]);if(i&&i.click||t.point&&t.point.events&&t.point.events.click||t.allowPointSelect)e.runTrackerClick=!0;n.getColor(),n.getSymbol(),Kt(n.parallelArrays,function(e){n[e+"Data"]=[]}),n.setData(t.data,!1),n.isCartesian&&(e.hasCartesianSeries=!0),s.push(n),n._i=s.length-1,w(s,o),this.yAxis&&w(this.yAxis.series,o),Kt(s,function(e,t){e.index=t,e.name=e.name||"Series "+(t+1)})},bindAxes:function(){var e=this,t=e.options,n=e.chart,r;Kt(e.axisTypes||[],function(i){Kt(n[i],function(n){r=n.options;if(t[i]===r.index||t[i]!==P&&t[i]===r.id||t[i]===P&&r.index===0)n.series.push(e),e[i]=n,n.isDirty=!0}),!e[i]&&e.optionalAxis!==i&&N(18,!0)})},updateParallelArrays:function(e,t){var n=e.series,r=arguments;Kt(n.parallelArrays,typeof t=="number"?function(r){var i=r==="y"&&n.toYData?n.toYData(e):e[r];n[r+"Data"][t]=i}:function(e){Array.prototype[t].apply(n[e+"Data"],Array.prototype.slice.call(r,2))})},autoIncrement:function(){var e=this.options,t=this.xIncrement,n,r=e.pointIntervalUnit,t=Ut(t,e.pointStart,0);this.pointInterval=n=Ut(this.pointInterval,e.pointInterval,1);if(r==="month"||r==="year")e=new St(t),e=r==="month"?+e[jt](e[Ot]()+n):+e[Ft](e[Mt]()+n),n=e-t;return this.xIncrement=t+n,t},getSegments:function(){var e=-1,t=[],n,r=this.points,i=r.length;if(i)if(this.options.connectNulls){for(n=i;n--;)r[n].y===null&&r.splice(n,1);r.length&&(t=[r])}else Kt(r,function(n,s){n.y===null?(s>e+1&&t.push(r.slice(e+1,s)),e=s):s===i-1&&t.push(r.slice(e+1,s+1))});this.segments=t},setOptions:function(t){var n=this.chart,r=n.options.plotOptions,n=n.userOptions||{},i=n.plotOptions||{},s=r[this.type];return this.userOptions=t,r=e(s,r.series,t),this.tooltipOptions=e(lt.tooltip,lt.plotOptions[this.type].tooltip,n.tooltip,i.series&&i.series.tooltip,i[this.type]&&i[this.type].tooltip,t.tooltip),s.marker===null&&delete r.marker,this.zoneAxis=r.zoneAxis,t=this.zones=(r.zones||[]).slice(),(r.negativeColor||r.negativeFillColor)&&!r.zones&&t.push({value:r[this.zoneAxis+"Threshold"]||r.threshold||0,color:r.negativeColor,fillColor:r.negativeFillColor}),t.length&&f(t[t.length-1].value)&&t.push({color:this.color,fillColor:this.fillColor}),r},getCyclic:function(e,t,n){var r=this.userOptions,i="_"+e+"Index",s=e+"Counter";t||(f(r[i])?t=r[i]:(r[i]=t=this.chart[s]%n.length,this.chart[s]+=1),t=n[t]),this[e]=t},getColor:function(){this.options.colorByPoint?this.options.color=null:this.getCyclic("color",this.options.color||on[this.type].color,this.chart.options.colors)},getSymbol:function(){var e=this.options.marker;this.getCyclic("symbol",e.symbol,this.chart.options.symbols),/^url/.test(this.symbol)&&(e.radius=0)},drawLegendSymbol:Xt.drawLineMarker,setData:function(e,t,r,o){var u=this,a=u.points,l=a&&a.length||0,c,h=u.options,p=u.chart,d=null,v=u.xAxis,m=v&&!!v.categories,g=h.turboThreshold,y=this.xData,b=this.yData,w=(c=u.pointArrayMap)&&c.length,e=e||[];c=e.length,t=Ut(t,!0);if(o!==!1&&c&&l===c&&!u.cropped&&!u.hasGroupedData&&u.visible)Kt(e,function(e,t){a[t].update&&a[t].update(e,!1,null,!1)});else{u.xIncrement=null,u.pointRange=m?1:h.pointRange,u.colorCounter=0,Kt(this.parallelArrays,function(e){u[e+"Data"].length=0});if(g&&c>g){for(r=0;d===null&&r<c;)d=e[r],r++;if(s(d)){m=Ut(h.pointStart,0),d=Ut(h.pointInterval,1);for(r=0;r<c;r++)y[r]=m,b[r]=e[r],m+=d;u.xIncrement=m}else if(i(d))if(w)for(r=0;r<c;r++)d=e[r],y[r]=d[0],b[r]=d.slice(1,w+1);else for(r=0;r<c;r++)d=e[r],y[r]=d[0],b[r]=d[1];else N(12)}else for(r=0;r<c;r++)e[r]!==P&&(d={series:u},u.pointClass.prototype.applyOptions.apply(d,[e[r]]),u.updateParallelArrays(d,r),m&&f(d.name))&&(v.names[d.x]=d.name);n(b[0])&&N(14,!0),u.data=[],u.options.data=e;for(r=l;r--;)a[r]&&a[r].destroy&&a[r].destroy();v&&(v.minRange=v.userMinRange),u.isDirty=u.isDirtyData=p.isDirtyBox=!0,r=!1}h.legendType==="point"&&(this.processData(),this.generatePoints()),t&&p.redraw(r)},processData:function(e){var t=this.xData,n=this.yData,r=t.length,i;i=0;var s,o,u=this.xAxis,a,f=this.options;a=f.cropThreshold;var l=this.getExtremesFromAll||f.getExtremesFromAll,c=this.isCartesian,h,p;if(c&&!this.isDirty&&!u.isDirty&&!this.yAxis.isDirty&&!e)return!1;u&&(e=u.getExtremes(),h=e.min,p=e.max);if(c&&this.sorted&&!l&&(!a||r>a||this.forceCrop))if(t[r-1]<h||t[0]>p)t=[],n=[];else if(t[0]<h||t[r-1]>p)i=this.cropData(this.xData,this.yData,h,p),t=i.xData,n=i.yData,i=i.start,s=!0;for(a=t.length-1;a>=0;a--)r=t[a]-t[a-1],r>0&&(o===P||r<o)?o=r:r<0&&this.requireSorting&&N(15);this.cropped=s,this.cropStart=i,this.processedXData=t,this.processedYData=n,f.pointRange===null&&(this.pointRange=o||1),this.closestPointRange=o},cropData:function(e,t,n,r){var i=e.length,s=0,o=i,u=Ut(this.cropShoulder,1),a;for(a=0;a<i;a++)if(e[a]>=n){s=R(0,a-u);break}for(;a<i;a++)if(e[a]>r){o=a+u;break}return{xData:e.slice(s,o),yData:t.slice(s,o),start:s,end:o}},generatePoints:function(){var e=this.options.data,t=this.data,n,r=this.processedXData,i=this.processedYData,s=this.pointClass,o=r.length,u=this.cropStart||0,a,f=this.hasGroupedData,l,h=[],p;!t&&!f&&(t=[],t.length=e.length,t=this.data=t);for(p=0;p<o;p++)a=u+p,f?h[p]=(new s).init(this,[r[p]].concat(c(i[p]))):(t[a]?l=t[a]:e[a]!==P&&(t[a]=l=(new s).init(this,e[a],r[p])),h[p]=l),h[p].index=a;if(t&&(o!==(n=t.length)||f))for(p=0;p<n;p++)if(p===u&&!f&&(p+=o),t[p])t[p].destroyElements(),t[p].plotX=P;this.data=t,this.points=h},getExtremes:function(e){var t=this.yAxis,n=this.processedXData,r,i=[],s=0;r=this.xAxis.getExtremes();var o=r.min,u=r.max,a,f,l,c,e=e||this.stackedYData||this.processedYData;r=e.length;for(c=0;c<r;c++)if(f=n[c],l=e[c],a=l!==null&&l!==P&&(!t.isLog||l.length||l>0),f=this.getExtremesFromAll||this.options.getExtremesFromAll||this.cropped||(n[c+1]||f)>=o&&(n[c-1]||f)<=u,a&&f)if(a=l.length)for(;a--;)l[a]!==null&&(i[s++]=l[a]);else i[s++]=l;this.dataMin=E(i),this.dataMax=S(i)},translate:function(){this.processedXData||this.processData(),this.generatePoints();for(var e=this.options,t=e.stacking,n=this.xAxis,r=n.categories,i=this.yAxis,o=this.points,u=o.length,a=!!this.modifyValue,l=e.pointPlacement,c=l==="between"||s(l),h=e.threshold,p=e.startFromThreshold?h:0,d,v,m,g,y=Number.MAX_VALUE,e=0;e<u;e++){var b=o[e],w=b.x,E=b.y;v=b.low;var S=t&&i.stacks[(this.negStacks&&E<(p?0:h)?"-":"")+this.stackKey];i.isLog&&E!==null&&E<=0&&(b.y=E=null,N(10)),b.plotX=d=U(R(-1e5,n.translate(w,0,0,0,1,l,this.type==="flags")),1e5),t&&this.visible&&S&&S[w]&&(g=this.getStackIndicator(g,w,this.index),S=S[w],E=S.points[g.key],v=E[0],E=E[1],v===p&&(v=Ut(h,i.min)),i.isLog&&v<=0&&(v=null),b.total=b.stackTotal=S.total,b.percentage=S.total&&b.y/S.total*100,b.stackY=E,S.setOffset(this.pointXOffset||0,this.barW||0)),b.yBottom=f(v)?i.translate(v,0,1,0,1):null,a&&(E=this.modifyValue(E,b)),b.plotY=v=typeof E=="number"&&E!==Infinity?U(R(-1e5,i.translate(E,0,1,0,1)),1e5):P,b.isInside=v!==P&&v>=0&&v<=i.len&&d>=0&&d<=n.len,b.clientX=c?n.translate(w,0,0,0,1):d,b.negative=b.y<(h||0),b.category=r&&r[b.x]!==P?r[b.x]:b.x,e&&(y=U(y,z(d-m))),m=d}this.closestPointRangePx=y,this.getSegments()},setClip:function(e){var t=this.chart,n=this.options,r=t.renderer,i=t.inverted,s=this.clipBox,o=s||t.clipBox,u=this.sharedClipKey||["_sharedClip",e&&e.duration,e&&e.easing,o.height,n.xAxis,n.yAxis].join(","),a=t[u],f=t[u+"m"];a||(e&&(o.width=0,t[u+"m"]=f=r.clipRect(-99,i?-t.plotLeft:-t.plotTop,99,i?t.chartWidth:t.chartHeight)),t[u]=a=r.clipRect(o)),e&&(a.count+=1),n.clip!==!1&&(this.group.clip(e||s?a:t.clipRect),this.markerGroup.clip(f),this.sharedClipKey=u),e||(a.count-=1,a.count<=0&&u&&t[u]&&(s||(t[u]=t[u].destroy()),t[u+"m"]&&(t[u+"m"]=t[u+"m"].destroy())))},animate:function(e){var t=this.chart,n=this.options.animation,i;n&&!r(n)&&(n=on[this.type].animation),e?this.setClip(n):(i=this.sharedClipKey,(e=t[i])&&e.animate({width:t.plotSizeX},n),t[i+"m"]&&t[i+"m"].animate({width:t.plotSizeX+99},n),this.animate=null)},afterAnimate:function(){this.setClip(),tn(this,"afterAnimate")},drawPoints:function(){var e,t=this.points,n=this.chart,r,i,s,o,u,a,f,l,c=this.options.marker,h=this.pointAttr[""],p,d,v,m=this.markerGroup,g=Ut(c.enabled,this.xAxis.isRadial,this.closestPointRangePx>2*c.radius);if(c.enabled!==!1||this._hasPointMarkers)for(s=t.length;s--;)(o=t[s],r=I(o.plotX),i=o.plotY,l=o.graphic,p=o.marker||{},d=!!o.marker,e=g&&p.enabled===P||p.enabled,v=o.isInside,e&&i!==P&&!isNaN(i)&&o.y!==null)?(e=o.pointAttr[o.selected?"select":""]||h,u=e.r,a=Ut(p.symbol,this.symbol),f=a.indexOf("url")===0,l)?l[v?"show":"hide"](!0).animate(Rt({x:r-u,y:i-u},l.symbolName?{width:2*u,height:2*u}:{})):v&&(u>0||f)&&(o.graphic=n.renderer.symbol(a,r-u,i-u,2*u,2*u,d?p:c).attr(e).add(m)):l&&(o.graphic=l.destroy())},convertAttribs:function(e,t,n,r){var i=this.pointAttrToOptions,s,o,u={},e=e||{},t=t||{},n=n||{},r=r||{};for(s in i)o=i[s],u[s]=Ut(e[o],t[s],n[s],r[s]);return u},getAttribs:function(){var e=this,t=e.options,n=on[e.type].marker?t.marker:t,r=n.states,i=r.hover,s,o=e.color,u=e.options.negativeColor;s={stroke:o,fill:o};var a=e.points||[],l,c,h=[],p=e.pointAttrToOptions;l=e.hasPointSpecificOptions;var d=n.lineColor,v=n.fillColor;c=t.turboThreshold;var m=e.zones,g=e.zoneAxis||"y",y;t.marker?(i.radius=i.radius||n.radius+i.radiusPlus,i.lineWidth=i.lineWidth||n.lineWidth+i.lineWidthPlus):(i.color=i.color||ln(i.color||o).brighten(i.brightness).get(),i.negativeColor=i.negativeColor||ln(i.negativeColor||u).brighten(i.brightness).get()),h[""]=e.convertAttribs(n,s),Kt(["hover","select"],function(t){h[t]=e.convertAttribs(r[t],h[""])}),e.pointAttr=h,o=a.length;if(!c||o<c||l)for(;o--;){c=a[o],(n=c.options&&c.options.marker||c.options)&&n.enabled===!1&&(n.radius=0);if(m.length){l=0;for(s=m[l];c[g]>=s.value;)s=m[++l];c.color=c.fillColor=Ut(s.color,e.color)}l=t.colorByPoint||c.color;if(c.options)for(y in p)f(n[p[y]])&&(l=!0);if(l){n=n||{},l=[],r=n.states||{},s=r.hover=r.hover||{};if(!t.marker||c.negative&&!s.fillColor&&!i.fillColor)s[e.pointAttrToOptions.fill]=s.color||!c.options.color&&i[c.negative&&u?"negativeColor":"color"]||ln(c.color).brighten(s.brightness||i.brightness).get();s={color:c.color},v||(s.fillColor=c.color),d||(s.lineColor=c.color),n.hasOwnProperty("color")&&!n.color&&delete n.color,l[""]=e.convertAttribs(Rt(s,n),h[""]),l.hover=e.convertAttribs(r.hover,h.hover,l[""]),l.select=e.convertAttribs(r.select,h.select,l[""])}else l=h;c.pointAttr=l}},destroy:function(){var e=this,t=e.chart,n=/AppleWebKit\/533/.test(J),r,i=e.data||[],s,o,u;tn(e,"destroy"),en(e),Kt(e.axisTypes||[],function(t){if(u=e[t])a(u.series,e),u.isDirty=u.forceRedraw=!0}),e.legendItem&&e.chart.legend.destroyItem(e);for(r=i.length;r--;)(s=i[r])&&s.destroy&&s.destroy();e.points=null,clearTimeout(e.animationTimeout);for(o in e)e[o]instanceof A&&!e[o].survive&&(r=n&&o==="group"?"hide":"destroy",e[o][r]());t.hoverSeries===e&&(t.hoverSeries=null),a(t.series,e);for(o in e)delete e[o]},getSegmentPath:function(e){var t=this,n=[],r=t.options.step;return Kt(e,function(i,s){var o=i.plotX,u=i.plotY,a;t.getPointSpline?n.push.apply(n,t.getPointSpline(e,i,s)):(n.push(s?"L":"M"),r&&s&&(a=e[s-1],r==="right"?n.push(a.plotX,u,"L"):r==="center"?n.push((a.plotX+o)/2,a.plotY,"L",(a.plotX+o)/2,u,"L"):n.push(o,a.plotY,"L")),n.push(i.plotX,i.plotY))}),n},getGraphPath:function(){var e=this,t=[],n,r=[];return Kt(e.segments,function(i){n=e.getSegmentPath(i),i.length>1?t=t.concat(n):r.push(i[0])}),e.singlePoints=r,e.graphPath=t},drawGraph:function(){var e=this,t=this.options,n=[["graph",t.lineColor||this.color,t.dashStyle]],r=t.lineWidth,i=t.linecap!=="square",s=this.getGraphPath(),o=this.fillGraph&&this.color||yt;Kt(this.zones,function(r,i){n.push(["zoneGraph"+i,r.color||e.color,r.dashStyle||t.dashStyle])}),Kt(n,function(n,u){var a=n[0],f=e[a];f?f.animate({d:s}):(r||o)&&s.length&&(f={stroke:n[1],"stroke-width":r,fill:o,zIndex:1},n[2]?f.dashstyle=n[2]:i&&(f["stroke-linecap"]=f["stroke-linejoin"]="round"),e[a]=e.chart.renderer.path(s).attr(f).add(e.group).shadow(u<2&&t.shadow))})},applyZones:function(){var e=this,t=this.chart,n=t.renderer,r=this.zones,i,s,o=this.clips||[],u,a=this.graph,f=this.area,l=R(t.chartWidth,t.chartHeight),c=this[(this.zoneAxis||"y")+"Axis"],h,p=c.reversed,d=t.inverted,v=c.horiz,m,g,y,b=!1;r.length&&(a||f)&&c.min!==P&&(a&&a.hide(),f&&f.hide(),h=c.getExtremes(),Kt(r,function(r,w){i=p?v?t.plotWidth:0:v?0:c.toPixels(h.min),i=U(R(Ut(s,i),0),l),s=U(R(F(c.toPixels(Ut(r.value,h.max),!0)),0),l),b&&(i=s=c.toPixels(h.max)),m=Math.abs(i-s),g=U(i,s),y=R(i,s);if(c.isXAxis){if(u={x:d?y:g,y:0,width:m,height:l},!v)u.x=t.plotHeight-u.x}else if(u={x:0,y:d?y:g,width:l,height:m},v)u.y=t.plotWidth-u.y;t.inverted&&n.isVML&&(u=c.isXAxis?{x:0,y:p?g:y,height:u.width,width:t.chartWidth}:{x:u.y-t.plotLeft-t.spacingBox.x,y:0,width:u.height,height:t.chartHeight}),o[w]?o[w].animate(u):(o[w]=n.clipRect(u),a&&e["zoneGraph"+w].clip(o[w]),f&&e["zoneArea"+w].clip(o[w])),b=r.value>h.max}),this.clips=o)},invertGroups:function(){function e(){var e={width:t.yAxis.len,height:t.xAxis.len};Kt(["group","markerGroup"],function(n){t[n]&&t[n].attr(e).invert()})}var t=this,n=t.chart;t.xAxis&&(Zt(n,"resize",e),Zt(t,"destroy",function(){en(n,"resize",e)}),e(),t.invertGroups=e)},plotGroup:function(e,t,n,r,i){var s=this[e],o=!s;return o&&(this[e]=s=this.chart.renderer.g(t).attr({visibility:n,zIndex:r||.1}).add(i),s.addClass("highcharts-series-"+this.index)),s[o?"attr":"animate"](this.getPlotBox()),s},getPlotBox:function(){var e=this.chart,t=this.xAxis,n=this.yAxis;return e.inverted&&(t=n,n=this.xAxis),{translateX:t?t.left:e.plotLeft,translateY:n?n.top:e.plotTop,scaleX:1,scaleY:1}},render:function(){var e=this,t=e.chart,n,r=e.options,i=(n=r.animation)&&!!e.animate&&t.renderer.isSVG&&Ut(n.duration,500)||0,s=e.visible?"visible":"hidden",o=r.zIndex,u=e.hasRendered,a=t.seriesGroup;n=e.plotGroup("group","series",s,o,a),e.markerGroup=e.plotGroup("markerGroup","markers",s,o,a),i&&e.animate(!0),e.getAttribs(),n.inverted=e.isCartesian?t.inverted:!1,e.drawGraph&&(e.drawGraph(),e.applyZones()),Kt(e.points,function(e){e.redraw&&e.redraw()}),e.drawDataLabels&&e.drawDataLabels(),e.visible&&e.drawPoints(),e.drawTracker&&e.options.enableMouseTracking!==!1&&e.drawTracker(),t.inverted&&e.invertGroups(),r.clip!==!1&&!e.sharedClipKey&&!u&&n.clip(t.clipRect),i&&e.animate(),u||(i?e.animationTimeout=setTimeout(function(){e.afterAnimate()},i):e.afterAnimate()),e.isDirty=e.isDirtyData=!1,e.hasRendered=!0},redraw:function(){var e=this.chart,t=this.isDirtyData,n=this.isDirty,r=this.group,i=this.xAxis,s=this.yAxis;r&&(e.inverted&&r.attr({width:e.plotWidth,height:e.plotHeight}),r.animate({translateX:Ut(i&&i.left,e.plotLeft),translateY:Ut(s&&s.top,e.plotTop)})),this.translate(),this.render(),t&&tn(this,"updatedData"),(n||t)&&delete this.kdTree},kdDimensions:1,kdAxisArray:["clientX","plotY"],searchPoint:function(e,t){var n=this.xAxis,r=this.yAxis,i=this.chart.inverted;return this.searchKDTree({clientX:i?n.len-e.chartY+n.pos:e.chartX-n.pos,plotY:i?r.len-e.chartX+r.pos:e.chartY-r.pos},t)},buildKDTree:function(){function e(t,r,i){var s,o;if(o=t&&t.length)return s=n.kdAxisArray[r%i],t.sort(function(e,t){return e[s]-t[s]}),o=Math.floor(o/2),{point:t[o],left:e(t.slice(0,o),r+1,i),right:e(t.slice(o+1),r+1,i)}}function t(){var t=Qt(n.points||[],function(e){return e.y!==null});n.kdTree=e(t,r,r)}var n=this,r=n.kdDimensions;delete n.kdTree,n.options.kdSync?t():setTimeout(t)},searchKDTree:function(e,t){function n(e,t,u,a){var l=t.point,c=r.kdAxisArray[u%a],h,p,d=l;return p=f(e[i])&&f(l[i])?Math.pow(e[i]-l[i],2):null,h=f(e[s])&&f(l[s])?Math.pow(e[s]-l[s],2):null,h=(p||0)+(h||0),l.dist=f(h)?Math.sqrt(h):Number.MAX_VALUE,l.distX=f(p)?Math.sqrt(p):Number.MAX_VALUE,c=e[c]-l[c],h=c<0?"left":"right",p=c<0?"right":"left",t[h]&&(h=n(e,t[h],u+1,a),d=h[o]<d[o]?h:l),t[p]&&Math.sqrt(c*c)<d[o]&&(e=n(e,t[p],u+1,a),d=e[o]<d[o]?e:d),d}var r=this,i=this.kdAxisArray[0],s=this.kdAxisArray[1],o=t?"distX":"dist";this.kdTree||this.buildKDTree();if(this.kdTree)return n(e,this.kdTree,this.kdDimensions,this.kdDimensions)}},M.prototype={destroy:function(){x(this,this.axis)},render:function(e){var t=this.options,n=t.format,n=n?g(n,this):t.formatter.call(this);this.label?this.label.attr({text:n,visibility:"hidden"}):this.label=this.axis.chart.renderer.text(n,null,null,t.useHTML).css(t.style).attr({align:this.textAlign,rotation:t.rotation,visibility:"hidden"}).add(e)},setOffset:function(e,t){var n=this.axis,r=n.chart,i=r.inverted,s=n.reversed,s=this.isNegative&&!s||!this.isNegative&&s,o=n.translate(n.usePercentage?100:this.total,0,0,0,1),n=n.translate(0),n=z(o-n),u=r.xAxis[0].translate(this.x)+e,a=r.plotHeight,s={x:i?s?o:o-n:u,y:i?a-u-t:s?a-o-n:a-o,width:i?n:t,height:i?t:n};if(i=this.label)i.align(this.alignOptions,null,s),s=i.alignAttr,i[this.options.crop===!1||r.isInsidePlot(s.x,s.y)?"show":"hide"](!0)}},xn.prototype.getStacks=function(){var e=this;Kt(e.yAxis,function(e){e.stacks&&e.hasVisibleSeries&&(e.oldStacks=e.stacks)}),Kt(e.series,function(t){t.options.stacking&&(t.visible===!0||e.options.chart.ignoreHiddenSeries===!1)&&(t.stackKey=t.type+Ut(t.options.stack,""))})},dn.prototype.buildStacks=function(){var e=this.series,t=Ut(this.options.reversedStacks,!0),n=e.length;if(!this.isXAxis){for(this.usePercentage=!1;n--;)e[t?n:e.length-n-1].setStackedPoints();if(this.usePercentage)for(n=0;n<e.length;n++)e[n].setPercentStacks()}},dn.prototype.renderStackTotals=function(){var e=this.chart,t=e.renderer,n=this.stacks,r,i,s=this.stackTotalGroup;s||(this.stackTotalGroup=s=t.g("stack-labels").attr({visibility:"visible",zIndex:6}).add()),s.translate(e.plotLeft,e.plotTop);for(r in n)for(i in e=n[r],e)e[i].render(s)},dn.prototype.resetStacks=function(){var e=this.stacks,t,n;if(!this.isXAxis)for(t in e)for(n in e[t])e[t][n].touched<this.stacksTouched?(e[t][n].destroy(),delete e[t][n]):(e[t][n].total=null,e[t][n].cum=0)},dn.prototype.cleanStacks=function(){var e,t,n;if(!this.isXAxis){this.oldStacks&&(e=this.stacks=this.oldStacks);for(t in e)for(n in e[t])e[t][n].cum=e[t][n].total}},Cn.prototype.setStackedPoints=function(){if(this.options.stacking&&(this.visible===!0||this.chart.options.chart.ignoreHiddenSeries===!1)){var e=this.processedXData,t=this.processedYData,n=[],r=t.length,i=this.options,s=i.threshold,o=i.startFromThreshold?s:0,u=i.stack,i=i.stacking,a=this.stackKey,f="-"+a,l=this.negStacks,c=this.yAxis,h=c.stacks,p=c.oldStacks,d,v,m,g,y,b,w;c.stacksTouched+=1;for(y=0;y<r;y++)b=e[y],w=t[y],d=this.getStackIndicator(d,b,this.index),g=d.key,m=(v=l&&w<(o?0:s))?f:a,h[m]||(h[m]={}),h[m][b]||(p[m]&&p[m][b]?(h[m][b]=p[m][b],h[m][b].total=null):h[m][b]=new M(c,c.options.stackLabels,v,b,u)),m=h[m][b],m.points[g]=[Ut(m.cum,o)],m.touched=c.stacksTouched,i==="percent"?(v=v?a:f,l&&h[v]&&h[v][b]?(v=h[v][b],m.total=v.total=R(v.total,m.total)+z(w)||0):m.total=C(m.total+(z(w)||0))):m.total=C(m.total+(w||0)),m.cum=Ut(m.cum,o)+(w||0),m.points[g].push(m.cum),n[y]=m.cum;i==="percent"&&(c.usePercentage=!0),this.stackedYData=n,c.oldStacks={}}},Cn.prototype.setPercentStacks=function(){var e=this,t=e.stackKey,n=e.yAxis.stacks,r=e.processedXData,i;Kt([t,"-"+t],function(t){var s;for(var o=r.length,u,a;o--;)if(u=r[o],i=e.getStackIndicator(i,u,e.index),s=(a=n[t]&&n[t][u])&&a.points[i.key],u=s)a=a.total?100/a.total:0,u[0]=C(u[0]*a),u[1]=C(u[1]*a),e.stackedYData[o]=u[1]})},Cn.prototype.getStackIndicator=function(e,t,n){return!f(e)||e.x!==t?e={x:t,index:0}:e.index++,e.key=[n,t,e.index].join(","),e},Rt(xn.prototype,{addSeries:function(e,t,n){var r,i=this;return e&&(t=Ut(t,!0),tn(i,"addSeries",{options:e},function(){r=i.initSeries(e),i.isDirtyLegend=!0,i.linkSeries(),t&&i.redraw(n)})),r},addAxis:function(t,n,r,i){var s=n?"xAxis":"yAxis",o=this.options;new dn(this,e(t,{index:this[s].length,isX:n})),o[s]=c(o[s]||{}),o[s].push(t),Ut(r,!0)&&this.redraw(i)},showLoading:function(e){var t=this,n=t.options,r=t.loadingDiv,i=n.loading,s=function(){r&&h(r,{left:t.plotLeft+"px",top:t.plotTop+"px",width:t.plotWidth+"px",height:t.plotHeight+"px"})};r||(t.loadingDiv=r=p(gt,{className:"highcharts-loading"},Rt(i.style,{zIndex:10,display:yt}),t.container),t.loadingSpan=p("span",null,i.labelStyle,r),Zt(t,"redraw",s)),t.loadingSpan.innerHTML=e||n.lang.loading,t.loadingShown||(h(r,{opacity:0,display:""}),rn(r,{opacity:i.style.opacity},{duration:i.showDuration||0}),t.loadingShown=!0),s()},hideLoading:function(){var e=this.options,t=this.loadingDiv;t&&rn(t,{opacity:0},{duration:e.loading.hideDuration||100,complete:function(){h(t,{display:yt})}}),this.loadingShown=!1}}),Rt(Nn.prototype,{update:function(e,t,n,s){function o(){u.applyOptions(e),u.y===null&&f&&(u.graphic=f.destroy()),r(e)&&!i(e)&&(u.redraw=function(){f&&f.element&&e&&e.marker&&e.marker.symbol&&(u.graphic=f.destroy()),e&&e.dataLabels&&u.dataLabel&&(u.dataLabel=u.dataLabel.destroy()),u.redraw=null}),l=u.index,a.updateParallelArrays(u,l),p&&u.name&&(p[u.x]=u.name),h.data[l]=u.options,a.isDirty=a.isDirtyData=!0,!a.fixedBox&&a.hasCartesianSeries&&(c.isDirtyBox=!0),h.legendType==="point"&&(c.isDirtyLegend=!0),t&&c.redraw(n)}var u=this,a=u.series,f=u.graphic,l,c=a.chart,h=a.options,p=a.xAxis&&a.xAxis.names,t=Ut(t,!0);s===!1?o():u.firePointEvent("update",{options:e},o)},remove:function(e,t){this.series.removePoint(Jt(this,this.series.data),e,t)}}),Rt(Cn.prototype,{addPoint:function(e,t,n,r){var i=this,s=i.options,o=i.data,u=i.graph,a=i.area,f=i.chart,l=i.xAxis&&i.xAxis.names,c=u&&u.shift||0,h=["graph","area"],u=s.data,p,d=i.xData;k(r,f);if(n){for(r=i.zones.length;r--;)h.push("zoneGraph"+r,"zoneArea"+r);Kt(h,function(e){i[e]&&(i[e].shift=c+(s.step?2:1))})}a&&(a.isArea=!0),t=Ut(t,!0),a={series:i},i.pointClass.prototype.applyOptions.apply(a,[e]),h=a.x,r=d.length;if(i.requireSorting&&h<d[r-1])for(p=!0;r&&d[r-1]>h;)r--;i.updateParallelArrays(a,"splice",r,0,0),i.updateParallelArrays(a,r),l&&a.name&&(l[h]=a.name),u.splice(r,0,e),p&&(i.data.splice(r,0,null),i.processData()),s.legendType==="point"&&i.generatePoints(),n&&(o[0]&&o[0].remove?o[0].remove(!1):(o.shift(),i.updateParallelArrays(a,"shift"),u.shift())),i.isDirty=!0,i.isDirtyData=!0,t&&(i.getAttribs(),f.redraw())},removePoint:function(e,t,n){var r=this,i=r.data,s=i[e],o=r.points,u=r.chart,a=function(){i.length===o.length&&o.splice(e,1),i.splice(e,1),r.options.data.splice(e,1),r.updateParallelArrays(s||{series:r},"splice",e,1),s&&s.destroy(),r.isDirty=!0,r.isDirtyData=!0,t&&u.redraw()};k(n,u),t=Ut(t,!0),s?s.firePointEvent("remove",null,a):a()},remove:function(e,t){var n=this,r=n.chart,e=Ut(e,!0);n.isRemoving||(n.isRemoving=!0,tn(n,"remove",null,function(){n.destroy(),r.isDirtyLegend=r.isDirtyBox=!0,r.linkSeries(),e&&r.redraw(t)})),n.isRemoving=!1},update:function(t,n){var r=this,i=this.chart,s=this.userOptions,o=this.type,u=It[o].prototype,a=["group","markerGroup","dataLabelsGroup"],f;if(t.type&&t.type!==o||t.zIndex!==void 0)a.length=0;Kt(a,function(e){a[e]=r[e],delete r[e]}),t=e(s,{animation:!1,index:this.index,pointStart:this.xData[0]},{data:this.options.data},t),this.remove(!1);for(f in u)this[f]=P;Rt(this,It[t.type||o].prototype),Kt(a,function(e){r[e]=a[e]}),this.init(i,t),i.linkSeries(),Ut(n,!0)&&i.redraw(!1)}}),Rt(dn.prototype,{update:function(t,n){var r=this.chart,t=r.options[this.coll][this.options.index]=e(this.userOptions,t);this.destroy(!0),this._addedPlotLB=this.chart._labelPanes=P,this.init(r,Rt(t,{events:P})),r.isDirtyBox=!0,Ut(n,!0)&&r.redraw()},remove:function(e){for(var t=this.chart,n=this.coll,r=this.series,i=r.length;i--;)r[i]&&r[i].remove(!1);a(t.axes,this),a(t[n],this),t.options[n].splice(this.options.index,1),Kt(t[n],function(e,t){e.options.index=t}),this.destroy(),t.isDirtyBox=!0,Ut(e,!0)&&t.redraw()},setTitle:function(e,t){this.update({title:e},t)},setCategories:function(e,t){this.update({categories:e},t)}});var kn=d(Cn);It.line=kn,on.area=e(Wt,{softThreshold:!1,threshold:0});var Ln=d(Cn,{type:"area",getSegments:function(){var e=this,t=[],n=[],r=[],i=this.xAxis,s=this.yAxis,o=s.stacks[this.stackKey],u={},a,f,l=this.points,c=this.options.connectNulls,h,p,d;if(this.options.stacking&&!this.cropped){for(p=0;p<l.length;p++)u[l[p].x]=l[p];for(d in o)o[d].total!==null&&r.push(+d);r.sort(function(e,t){return e-t}),Kt(r,function(t){var r=null,l;if(!c||u[t]&&u[t].y!==null)if(u[t])n.push(u[t]);else{for(p=e.index;p<=s.series.length;p++)if(h=e.getStackIndicator(null,t,p),l=o[t].points[h.key]){r=l[1];break}a=i.translate(t),f=s.getThreshold(r),n.push({y:null,plotX:a,clientX:a,plotY:f,yBottom:f,onMouseOver:dt})}}),n.length&&t.push(n)}else Cn.prototype.getSegments.call(this),t=this.segments;this.segments=t},getSegmentPath:function(e){var t=Cn.prototype.getSegmentPath.call(this,e),n=[].concat(t),r,i=this.options;r=t.length;var s=this.yAxis.getThreshold(i.threshold),o;r===3&&n.push("L",t[1],t[2]);if(i.stacking&&!this.closedStacks)for(r=e.length-1;r>=0;r--)o=Ut(e[r].yBottom,s),r<e.length-1&&i.step&&n.push(e[r+1].plotX,o),n.push(e[r].plotX,o);else this.closeSegment(n,e,s);return this.areaPath=this.areaPath.concat(n),t},closeSegment:function(e,t,n){e.push("L",t[t.length-1].plotX,n,"L",t[0].plotX,n)},drawGraph:function(){this.areaPath=[],Cn.prototype.drawGraph.apply(this);var e=this,t=this.areaPath,n=this.options,r=[["area",this.color,n.fillColor]];Kt(this.zones,function(t,i){r.push(["zoneArea"+i,t.color||e.color,t.fillColor||n.fillColor])}),Kt(r,function(r){var i=r[0],s=e[i];s?s.animate({d:t}):e[i]=e.chart.renderer.path(t).attr({fill:Ut(r[2],ln(r[1]).setOpacity(Ut(n.fillOpacity,.75)).get()),zIndex:0}).add(e.group)})},drawLegendSymbol:Xt.drawRectangle});It.area=Ln,on.spline=e(Wt),kn=d(Cn,{type:"spline",getPointSpline:function(e,t,n){var r=t.plotX,i=t.plotY,s=e[n-1],o=e[n+1],u,a,f,l;if(s&&o){e=s.plotY,f=o.plotX;var o=o.plotY,c;u=(1.5*r+s.plotX)/2.5,a=(1.5*i+e)/2.5,f=(1.5*r+f)/2.5,l=(1.5*i+o)/2.5,c=(l-a)*(f-r)/(f-u)+i-l,a+=c,l+=c,a>e&&a>i?(a=R(e,i),l=2*i-a):a<e&&a<i&&(a=U(e,i),l=2*i-a),l>o&&l>i?(l=R(o,i),a=2*i-l):l<o&&l<i&&(l=U(o,i),a=2*i-l),t.rightContX=f,t.rightContY=l}return n?(t=["C",s.rightContX||s.plotX,s.rightContY||s.plotY,u||r,a||i,r,i],s.rightContX=s.rightContY=null):t=["M",r,i],t}}),It.spline=kn,on.areaspline=e(on.area),Ln=Ln.prototype,kn=d(kn,{type:"areaspline",closedStacks:!0,getSegmentPath:Ln.getSegmentPath,closeSegment:Ln.closeSegment,drawGraph:Ln.drawGraph,drawLegendSymbol:Xt.drawRectangle}),It.areaspline=kn,on.column=e(Wt,{borderColor:"#FFFFFF",borderRadius:0,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{brightness:.1,shadow:!1,halo:!1},select:{color:"#C0C0C0",borderColor:"#000000",shadow:!1}},dataLabels:{align:null,verticalAlign:null,y:null},softThreshold:!1,startFromThreshold:!0,stickyTracking:!1,tooltip:{distance:6},threshold:0}),kn=d(Cn,{type:"column",pointAttrToOptions:{stroke:"borderColor",fill:"color",r:"borderRadius"},cropShoulder:0,directTouch:!0,trackerGroups:["group","dataLabelsGroup"],negStacks:!0,init:function(){Cn.prototype.init.apply(this,arguments);var e=this,t=e.chart;t.hasRendered&&Kt(t.series,function(t){t.type===e.type&&(t.isDirty=!0)})},getColumnMetrics:function(){var e=this,t=e.options,n=e.xAxis,r=e.yAxis,i=n.reversed,s,o={},u,a=0;t.grouping===!1?a=1:Kt(e.chart.series,function(t){var n=t.options,i=t.yAxis;t.type===e.type&&t.visible&&r.len===i.len&&r.pos===i.pos&&(n.stacking?(s=t.stackKey,o[s]===P&&(o[s]=a++),u=o[s]):n.grouping!==!1&&(u=a++),t.columnIndex=u)});var f=U(z(n.transA)*(n.ordinalSlope||t.pointRange||n.closestPointRange||n.tickInterval||1),n.len),l=f*t.groupPadding,c=(f-2*l)/a,t=U(t.maxPointWidth||n.len,Ut(t.pointWidth,c*(1-2*t.pointPadding)));return e.columnMetrics={width:t,offset:(c-t)/2+(l+((i?a-(e.columnIndex||0):e.columnIndex)||0)*c-f/2)*(i?-1:1)}},crispCol:function(e,t,n,r){var i=this.chart,s=this.borderWidth,o=-(s%2?.5:0),s=s%2?.5:1;return i.inverted&&i.renderer.isVML&&(s+=1),n=Math.round(e+n)+o,e=Math.round(e)+o,n-=e,o=z(t)<=.5,r=Math.round(t+r)+s,t=Math.round(t)+s,r-=t,o&&(t-=1,r+=1),{x:e,y:t,width:n,height:r}},translate:function(){var e=this,t=e.chart,n=e.options,r=e.borderWidth=Ut(n.borderWidth,e.closestPointRange*e.xAxis.transA<2?0:1),i=e.yAxis,s=e.translatedThreshold=i.getThreshold(n.threshold),o=Ut(n.minPointLength,5),u=e.getColumnMetrics(),a=u.width,f=e.barW=R(a,1+2*r),l=e.pointXOffset=u.offset;t.inverted&&(s-=.5),n.pointPadding&&(f=q(f)),Cn.prototype.translate.apply(e),Kt(e.points,function(n){var r=U(Ut(n.yBottom,s),9e4),u=999+z(r),u=U(R(-u,n.plotY),i.len+u),c=n.plotX+l,h=f,p=U(u,r),d,v=R(u,r)-p;z(v)<o&&o&&(v=o,d=!i.reversed&&!n.negative||i.reversed&&n.negative,p=z(p-s)>o?r-o:s-(d?o:0)),n.barX=c,n.pointWidth=a,n.tooltipPos=t.inverted?[i.len+i.pos-t.plotLeft-u,e.xAxis.len-c-h/2,v]:[c+h/2,u+i.pos-t.plotTop,v],n.shapeType="rect",n.shapeArgs=e.crispCol(c,p,h,v)})},getSymbol:dt,drawLegendSymbol:Xt.drawRectangle,drawGraph:dt,drawPoints:function(){var t=this,n=this.chart,r=t.options,i=n.renderer,s=r.animationLimit||250,o,u;Kt(t.points,function(a){var l=a.plotY,c=a.graphic;l!==P&&!isNaN(l)&&a.y!==null?(o=a.shapeArgs,l=f(t.borderWidth)?{"stroke-width":t.borderWidth}:{},u=a.pointAttr[a.selected?"select":""]||t.pointAttr[""],c?(sn(c),c.attr(l)[n.pointCount<s?"animate":"attr"](e(o))):a.graphic=i[a.shapeType](o).attr(l).attr(u).add(a.group||t.group).shadow(r.shadow,null,r.stacking&&!r.borderRadius)):c&&(a.graphic=c.destroy())})},animate:function(e){var t=this.yAxis,n=this.options,r=this.chart.inverted,i={};nt&&(e?(i.scaleY=.001,e=U(t.pos+t.len,R(t.pos,t.toPixels(n.threshold))),r?i.translateX=e-t.len:i.translateY=e,this.group.attr(i)):(i.scaleY=1,i[r?"translateX":"translateY"]=t.pos,this.group.animate(i,this.options.animation),this.animate=null))},remove:function(){var e=this,t=e.chart;t.hasRendered&&Kt(t.series,function(t){t.type===e.type&&(t.isDirty=!0)}),Cn.prototype.remove.apply(e,arguments)}}),It.column=kn,on.bar=e(on.column),Ln=d(kn,{type:"bar",inverted:!0}),It.bar=Ln,on.scatter=e(Wt,{lineWidth:0,marker:{enabled:!0},tooltip:{headerFormat:'<span style="color:{point.color}">●</span> <span style="font-size: 10px;"> {series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"}}),Ln=d(Cn,{type:"scatter",sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","markerGroup","dataLabelsGroup"],takeOrdinalPosition:!1,kdDimensions:2,drawGraph:function(){this.options.lineWidth&&Cn.prototype.drawGraph.call(this)}}),It.scatter=Ln,on.pie=e(Wt,{borderColor:"#FFFFFF",borderWidth:1,center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{distance:30,enabled:!0,formatter:function(){return this.y===null?void 0:this.point.name},x:0},ignoreHiddenPoint:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,states:{hover:{brightness:.1,shadow:!1}},stickyTracking:!1,tooltip:{followPointer:!0}}),Wt={type:"pie",isCartesian:!1,pointClass:d(Nn,{init:function(){Nn.prototype.init.apply(this,arguments);var e=this,t;return e.name=Ut(e.name,"Slice"),t=function(t){e.slice(t.type==="select")},Zt(e,"select",t),Zt(e,"unselect",t),e},setVisible:function(e,t){var n=this,r=n.series,i=r.chart,s=r.options.ignoreHiddenPoint,t=Ut(t,s);e!==n.visible&&(n.visible=n.options.visible=e=e===P?!n.visible:e,r.options.data[Jt(n,r.data)]=n.options,Kt(["graphic","dataLabel","connector","shadowGroup"],function(t){n[t]&&n[t][e?"show":"hide"](!0)}),n.legendItem&&i.legend.colorizeItem(n,e),!e&&n.state==="hover"&&n.setState(""),s&&(r.isDirty=!0),t&&i.redraw())},slice:function(e,t,n){var r=this.series;k(n,r.chart),Ut(t,!0),this.sliced=this.options.sliced=e=f(e)?e:!this.sliced,r.options.data[Jt(this,r.data)]=this.options,e=e?this.slicedTranslation:{translateX:0,translateY:0},this.graphic.animate(e),this.shadowGroup&&this.shadowGroup.animate(e)},haloPath:function(e){var t=this.shapeArgs,n=this.series.chart;return this.sliced||!this.visible?[]:this.series.chart.renderer.symbols.arc(n.plotLeft+t.x,n.plotTop+t.y,t.r+e,t.r+e,{innerR:this.shapeArgs.r,start:t.start,end:t.end})}}),requireSorting:!1,directTouch:!0,noSharedTooltip:!0,trackerGroups:["group","dataLabelsGroup"],axisTypes:[],pointAttrToOptions:{stroke:"borderColor","stroke-width":"borderWidth",fill:"color"},animate:function(e){var t=this,n=t.points,r=t.startAngleRad;e||(Kt(n,function(e){var n=e.graphic,i=e.shapeArgs;n&&(n.attr({r:e.startR||t.center[3]/2,start:r,end:r}),n.animate({r:i.r,start:i.start,end:i.end},t.options.animation))}),t.animate=null)},updateTotals:function(){var e,t=0,n=this.points,r=n.length,i,s=this.options.ignoreHiddenPoint;for(e=0;e<r;e++)i=n[e],t+=s&&!i.visible?0:i.y;this.total=t;for(e=0;e<r;e++)i=n[e],i.percentage=t>0&&(i.visible||!s)?i.y/t*100:0,i.total=t},generatePoints:function(){Cn.prototype.generatePoints.call(this),this.updateTotals()},translate:function(e){this.generatePoints();var t=0,n=this.options,r=n.slicedOffset,i=r+n.borderWidth,s,o,u,a=n.startAngle||0,f=this.startAngleRad=V/180*(a-90),a=(this.endAngleRad=V/180*(Ut(n.endAngle,a+360)-90))-f,l=this.points,c=n.dataLabels.distance,n=n.ignoreHiddenPoint,h,p=l.length,d;e||(this.center=e=this.getCenter()),this.getX=function(t,n){return u=j.asin(U((t-e[1])/(e[2]/2+c),1)),e[0]+(n?-1:1)*W(u)*(e[2]/2+c)};for(h=0;h<p;h++){d=l[h],s=f+t*a;if(!n||d.visible)t+=d.percentage/100;o=f+t*a,d.shapeType="arc",d.shapeArgs={x:e[0],y:e[1],r:e[2]/2,innerR:e[3]/2,start:F(s*1e3)/1e3,end:F(o*1e3)/1e3},u=(o+s)/2,u>1.5*V?u-=2*V:u<-V/2&&(u+=2*V),d.slicedTranslation={translateX:F(W(u)*r),translateY:F(X(u)*r)},s=W(u)*e[2]/2,o=X(u)*e[2]/2,d.tooltipPos=[e[0]+s*.7,e[1]+o*.7],d.half=u<-V/2||u>V/2?1:0,d.angle=u,i=U(i,c/2),d.labelPos=[e[0]+s+W(u)*c,e[1]+o+X(u)*c,e[0]+s+W(u)*i,e[1]+o+X(u)*i,e[0]+s,e[1]+o,c<0?"center":d.half?"right":"left",u]}},drawGraph:null,drawPoints:function(){var e=this,t=e.chart.renderer,n,r,i=e.options.shadow,s,o,u;i&&!e.shadowGroup&&(e.shadowGroup=t.g("shadow").add(e.group)),Kt(e.points,function(a){a.y!==null&&(r=a.graphic,o=a.shapeArgs,s=a.shadowGroup,i&&!s&&(s=a.shadowGroup=t.g("shadow").add(e.shadowGroup)),n=a.sliced?a.slicedTranslation:{translateX:0,translateY:0},s&&s.attr(n),r?r.setRadialReference(e.center).animate(Rt(o,n)):(u={"stroke-linejoin":"round"},a.visible||(u.visibility="hidden"),a.graphic=r=t[a.shapeType](o).setRadialReference(e.center).attr(a.pointAttr[a.selected?"select":""]).attr(u).attr(n).add(e.group).shadow(i,s)))})},searchPoint:dt,sortByAngle:function(e,t){e.sort(function(e,n){return e.angle!==void 0&&(n.angle-e.angle)*t})},drawLegendSymbol:Xt.drawRectangle,getCenter:Tn.getCenter,getSymbol:dt},Wt=d(Cn,Wt),It.pie=Wt,Cn.prototype.drawDataLabels=function(){var t=this,n=t.options,r=n.cursor,i=n.dataLabels,s=t.points,o,u,a=t.hasRendered||0,l,c,h=t.chart.renderer;if(i.enabled||t._hasPointLabels)t.dlProcessOptions&&t.dlProcessOptions(i),c=t.plotGroup("dataLabelsGroup","data-labels",i.defer?"hidden":"visible",i.zIndex||6),Ut(i.defer,!0)&&(c.attr({opacity:+a}),a||Zt(t,"afterAnimate",function(){t.visible&&c.show(),c[n.animation?"animate":"attr"]({opacity:1},{duration:200})})),u=i,Kt(s,function(s){var a,p=s.dataLabel,d,v,m=s.connector,y=!0,b,w={};o=s.dlOptions||s.options&&s.options.dataLabels,a=Ut(o&&o.enabled,u.enabled);if(p&&!a)s.dataLabel=p.destroy();else if(a){i=e(u,o),b=i.style,a=i.rotation,d=s.getLabelConfig(),l=i.format?g(i.format,d):i.formatter.call(d,i),b.color=Ut(i.color,b.color,t.color,"black");if(p){if(f(l))p.attr({text:l}),y=!1;else if(s.dataLabel=p=p.destroy(),m)s.connector=m.destroy()}else if(f(l)){p={fill:i.backgroundColor,stroke:i.borderColor,"stroke-width":i.borderWidth,r:i.borderRadius||0,rotation:a,padding:i.padding,zIndex:1},b.color==="contrast"&&(w.color=i.inside||i.distance<0||n.stacking?h.getContrast(s.color||t.color):"#000000"),r&&(w.cursor=r);for(v in p)p[v]===P&&delete p[v];p=s.dataLabel=h[a?"text":"label"](l,0,-999,i.shape,null,null,i.useHTML).attr(p).css(Rt(b,w)).add(c).shadow(i.shadow)}p&&t.alignDataLabel(s,p,i,null,y)}})},Cn.prototype.alignDataLabel=function(e,t,n,r,i){var s=this.chart,o=s.inverted,u=Ut(e.plotX,-999),a=Ut(e.plotY,-999),f=t.getBBox(),l=s.renderer.fontMetrics(n.style.fontSize).b,c=this.visible&&(e.series.forceDL||s.isInsidePlot(u,F(a),o)||r&&s.isInsidePlot(u,o?r.x+1:r.y+r.height-1,o));c&&(r=Rt({x:o?s.plotWidth-a:u,y:F(o?s.plotHeight-u:a),width:0,height:0},r),Rt(n,{width:f.width,height:f.height}),n.rotation?(e=s.renderer.rotCorr(l,n.rotation),t[i?"attr":"animate"]({x:r.x+n.x+r.width/2+e.x,y:r.y+n.y+r.height/2}).attr({align:n.align})):(t.align(n,null,r),o=t.alignAttr,Ut(n.overflow,"justify")==="justify"?this.justifyDataLabel(t,n,o,f,r,i):Ut(n.crop,!0)&&(c=s.isInsidePlot(o.x,o.y)&&s.isInsidePlot(o.x+f.width,o.y+f.height)),n.shape&&t.attr({anchorX:e.plotX,anchorY:e.plotY}))),c||(sn(t),t.attr({y:-999}),t.placed=!1)},Cn.prototype.justifyDataLabel=function(e,t,n,r,i,s){var o=this.chart,u=t.align,a=t.verticalAlign,f,l,c=e.box?0:e.padding||0;f=n.x+c,f<0&&(u==="right"?t.align="left":t.x=-f,l=!0),f=n.x+r.width-c,f>o.plotWidth&&(u==="left"?t.align="right":t.x=o.plotWidth-f,l=!0),f=n.y+c,f<0&&(a==="bottom"?t.verticalAlign="top":t.y=-f,l=!0),f=n.y+r.height-c,f>o.plotHeight&&(a==="top"?t.verticalAlign="bottom":t.y=o.plotHeight-f,l=!0),l&&(e.placed=!s,e.align(t,null,i))},It.pie&&(It.pie.prototype.drawDataLabels=function(){var e=this,t=e.data,n,r=e.chart,i=e.options.dataLabels,s=Ut(i.connectorPadding,10),o=Ut(i.connectorWidth,1),u=r.plotWidth,a=r.plotHeight,f,l,c=Ut(i.softConnector,!0),h=i.distance,p=e.center,d=p[2]/2,v=p[1],m=h>0,g,y,b,w=[[],[]],E,x,T,N,C,k=[0,0,0,0],L=function(e,t){return t.y-e.y};if(e.visible&&(i.enabled||e._hasPointLabels)){Cn.prototype.drawDataLabels.apply(e),Kt(t,function(e){e.dataLabel&&e.visible&&w[e.half].push(e)});for(N=2;N--;){var A=[],O=[],M=w[N],_=M.length,D;if(_){e.sortByAngle(M,N-.5);for(C=t=0;!t&&M[C];)t=M[C]&&M[C].dataLabel&&(M[C].dataLabel.getBBox().height||21),C++;if(h>0){y=U(v+d+h,r.plotHeight);for(C=R(0,v-d-h);C<=y;C+=t)A.push(C);y=A.length;if(_>y){n=[].concat(M),n.sort(L);for(C=_;C--;)n[C].rank=C;for(C=_;C--;)M[C].rank>=y&&M.splice(C,1);_=M.length}for(C=0;C<_;C++){n=M[C],b=n.labelPos,n=9999;var P,H;for(H=0;H<y;H++)P=z(A[H]-b[1]),P<n&&(n=P,D=H);if(D<C&&A[C]!==null)D=C;else for(y<_-C+D&&A[C]!==null&&(D=y-_+C);A[D]===null;)D++;O.push({i:D,y:A[D]}),A[D]=null}O.sort(L)}for(C=0;C<_;C++){n=M[C],b=n.labelPos,g=n.dataLabel,T=n.visible===!1?"hidden":"inherit",n=b[1];if(h>0){if(y=O.pop(),D=y.i,x=y.y,n>x&&A[D+1]!==null||n<x&&A[D-1]!==null)x=U(R(0,n),r.plotHeight)}else x=n;E=i.justify?p[0]+(N?-1:1)*(d+h):e.getX(x===v-d-h||x===v+d+h?n:x,N),g._attr={visibility:T,align:b[6]},g._pos={x:E+i.x+({left:s,right:-s}[b[6]]||0),y:x+i.y-10},g.connX=E,g.connY=x,this.options.size===null&&(y=g.width,E-y<s?k[3]=R(F(y-E+s),k[3]):E+y>u-s&&(k[1]=R(F(E+y-u+s),k[1])),x-t/2<0?k[0]=R(F(-x+t/2),k[0]):x+t/2>a&&(k[2]=R(F(x+t/2-a),k[2])))}}}if(S(k)===0||this.verifyDataLabelOverflow(k))this.placeDataLabels(),m&&o&&Kt(this.points,function(t){f=t.connector,b=t.labelPos,(g=t.dataLabel)&&g._pos&&t.visible?(T=g._attr.visibility,E=g.connX,x=g.connY,l=c?["M",E+(b[6]==="left"?5:-5),x,"C",E,x,2*b[2]-b[4],2*b[3]-b[5],b[2],b[3],"L",b[4],b[5]]:["M",E+(b[6]==="left"?5:-5),x,"L",b[2],b[3],"L",b[4],b[5]],f?(f.animate({d:l}),f.attr("visibility",T)):t.connector=f=e.chart.renderer.path(l).attr({"stroke-width":o,stroke:i.connectorColor||t.color||"#606060",visibility:T}).add(e.dataLabelsGroup)):f&&(t.connector=f.destroy())})}},It.pie.prototype.placeDataLabels=function(){Kt(this.points,function(e){var t=e.dataLabel;t&&e.visible&&((e=t._pos)?(t.attr(t._attr),t[t.moved?"animate":"attr"](e),t.moved=!0):t&&t.attr({y:-999}))})},It.pie.prototype.alignDataLabel=dt,It.pie.prototype.verifyDataLabelOverflow=function(e){var t=this.center,n=this.options,r=n.center,i=n.minSize||80,s=i,o;return r[0]!==null?s=R(t[2]-R(e[1],e[3]),i):(s=R(t[2]-e[1]-e[3],i),t[0]+=(e[3]-e[1])/2),r[1]!==null?s=R(U(s,t[2]-R(e[0],e[2])),i):(s=R(U(s,t[2]-e[0]-e[2]),i),t[1]+=(e[0]-e[2])/2),s<t[2]?(t[2]=s,t[3]=Math.min(/%$/.test(n.innerSize||0)?s*parseFloat(n.innerSize||0)/100:parseFloat(n.innerSize||0),s),this.translate(t),Kt(this.points,function(e){e.dataLabel&&(e.dataLabel._pos=null)}),this.drawDataLabels&&this.drawDataLabels()):o=!0,o}),It.column&&(It.column.prototype.alignDataLabel=function(t,n,r,i,s){var o=this.chart.inverted,u=t.series,a=t.dlBox||t.shapeArgs,f=Ut(t.below,t.plotY>Ut(this.translatedThreshold,u.yAxis.len)),l=Ut(r.inside,!!this.options.stacking);a&&(i=e(a),o&&(i={x:u.yAxis.len-i.y-i.height,y:u.xAxis.len-i.x-i.width,width:i.height,height:i.width}),!l)&&(o?(i.x+=f?0:i.width,i.width=0):(i.y+=f?i.height:0,i.height=0)),r.align=Ut(r.align,!o||l?"center":f?"right":"left"),r.verticalAlign=Ut(r.verticalAlign,o||l?"middle":f?"top":"bottom"),Cn.prototype.alignDataLabel.call(this,t,n,r,i,s)}),function(e){var t=e.Chart,n=e.each,r=e.pick,i=HighchartsAdapter.addEvent;t.prototype.callbacks.push(function(e){function t(){var t=[];n(e.series,function(e){var i=e.options.dataLabels,s=e.dataLabelCollections||["dataLabel"];(i.enabled||e._hasPointLabels)&&!i.allowOverlap&&e.visible&&n(s,function(i){n(e.points,function(e){e[i]&&(e[i].labelrank=r(e.labelrank,e.shapeArgs&&e.shapeArgs.height),t.push(e[i]))})})}),e.hideOverlappingLabels(t)}t(),i(e,"redraw",t)}),t.prototype.hideOverlappingLabels=function(e){var t=e.length,r,i,s,o,u,a,f;for(i=0;i<t;i++)if(r=e[i])r.oldOpacity=r.opacity,r.newOpacity=1;e.sort(function(e,t){return(t.labelrank||0)-(e.labelrank||0)});for(i=0;i<t;i++){s=e[i];for(r=i+1;r<t;++r)if(o=e[r],s&&o&&s.placed&&o.placed&&s.newOpacity!==0&&o.newOpacity!==0&&(u=s.alignAttr,a=o.alignAttr,f=2*(s.box?0:s.padding),u=!(a.x>u.x+(s.width-f)||a.x+(o.width-f)<u.x||a.y>u.y+(s.height-f)||a.y+(o.height-f)<u.y)))(s.labelrank<o.labelrank?s:o).newOpacity=0}n(e,function(e){var t,n;e&&(n=e.newOpacity,e.oldOpacity!==n&&e.placed&&(n?e.show(!0):t=function(){e.hide()},e.alignAttr.opacity=n,e[e.isOld?"animate":"attr"](e.alignAttr,null,t)),e.isOld=!0)})}}(qt);var An=qt.TrackerMixin={drawTrackerPoint:function(){var e=this,t=e.chart,n=t.pointer,r=e.options.cursor,i=r&&{cursor:r},s=function(e){for(var n=e.target,r;n&&!r;)r=n.point,n=n.parentNode;r!==P&&r!==t.hoverPoint&&r.onMouseOver(e)};Kt(e.points,function(e){e.graphic&&(e.graphic.element.point=e),e.dataLabel&&(e.dataLabel.element.point=e)}),e._hasTracking||(Kt(e.trackerGroups,function(t){e[t]&&(e[t].addClass("highcharts-tracker").on("mouseover",s).on("mouseout",function(e){n.onTrackerMouseOut(e)}).css(i),ot)&&e[t].on("touchstart",s)}),e._hasTracking=!0)},drawTrackerGraph:function(){var e=this,t=e.options,n=t.trackByArea,r=[].concat(n?e.areaPath:e.graphPath),i=r.length,s=e.chart,o=s.pointer,u=s.renderer,a=s.options.tooltip.snap,f=e.tracker,l=t.cursor,c=l&&{cursor:l},l=e.singlePoints,h,p=function(){s.hoverSeries!==e&&e.onMouseOver()},d="rgba(192,192,192,"+(nt?1e-4:.002)+")";if(i&&!n)for(h=i+1;h--;)r[h]==="M"&&r.splice(h+1,0,r[h+1]-a,r[h+2],"L"),(h&&r[h]==="M"||h===i)&&r.splice(h,0,"L",r[h-2]+a,r[h-1]);for(h=0;h<l.length;h++)i=l[h],r.push("M",i.plotX-a,i.plotY,"L",i.plotX+a,i.plotY);f?f.attr({d:r}):(e.tracker=u.path(r).attr({"stroke-linejoin":"round",visibility:e.visible?"visible":"hidden",stroke:d,fill:n?d:yt,"stroke-width":t.lineWidth+(n?0:2*a),zIndex:2}).add(e.group),Kt([e.tracker,e.markerGroup],function(e){e.addClass("highcharts-tracker").on("mouseover",p).on("mouseout",function(e){o.onTrackerMouseOut(e)}).css(c),ot&&e.on("touchstart",p)}))}};It.column&&(kn.prototype.drawTracker=An.drawTrackerPoint),It.pie&&(It.pie.prototype.drawTracker=An.drawTrackerPoint),It.scatter&&(Ln.prototype.drawTracker=An.drawTrackerPoint),Rt(Sn.prototype,{setItemEvents:function(e,t,n,r,i){var s=this;(n?t:e.legendGroup).on("mouseover",function(){e.setState("hover"),t.css(s.options.itemHoverStyle)}).on("mouseout",function(){t.css(e.visible?r:i),e.setState()}).on("click",function(t){var n=function(){e.setVisible&&e.setVisible()},t={browserEvent:t};e.firePointEvent?e.firePointEvent("legendItemClick",t,n):tn(e,"legendItemClick",t,n)})},createCheckboxForItem:function(e){e.checkbox=p("input",{type:"checkbox",checked:e.selected,defaultChecked:e.selected},this.options.itemCheckboxStyle,this.chart.container),Zt(e.checkbox,"click",function(t){tn(e.series||e,"checkboxClick",{checked:t.target.checked,item:e},function(){e.select()})})}}),lt.legend.itemStyle.cursor="pointer",Rt(xn.prototype,{showResetZoom:function(){var e=this,t=lt.lang,n=e.options.chart.resetZoomButton,r=n.theme,i=r.states,s=n.relativeTo==="chart"?null:"plotBox";this.resetZoomButton=e.renderer.button(t.resetZoom,null,null,function(){e.zoomOut()},r,i&&i.hover).attr({align:n.position.align,title:t.resetZoomTitle}).add().align(n.position,!1,s)},zoomOut:function(){var e=this;tn(e,"selection",{resetSelection:!0},function(){e.zoom()})},zoom:function(e){var t,n=this.pointer,i=!1,s;!e||e.resetSelection?Kt(this.axes,function(e){t=e.zoom()}):Kt(e.xAxis.concat(e.yAxis),function(e){var r=e.axis,s=r.isXAxis;if(n[s?"zoomX":"zoomY"]||n[s?"pinchX":"pinchY"])t=r.zoom(e.min,e.max),r.displayBtn&&(i=!0)}),s=this.resetZoomButton,i&&!s?this.showResetZoom():!i&&r(s)&&(this.resetZoomButton=s.destroy()),t&&this.redraw(Ut(this.options.chart.animation,e&&e.animation,this.pointCount<100))},pan:function(e,t){var n=this,r=n.hoverPoints,i;r&&Kt(r,function(e){e.setState()}),Kt(t==="xy"?[1,0]:[1],function(t){var r=e[t?"chartX":"chartY"],s=n[t?"xAxis":"yAxis"][0],o=n[t?"mouseDownX":"mouseDownY"],u=(s.pointRange||0)/2,a=s.getExtremes(),f=s.toValue(o-r,!0)+u,u=s.toValue(o+n[t?"plotWidth":"plotHeight"]-r,!0)-u,o=o>r;s.series.length&&(o||f>U(a.dataMin,a.min))&&(!o||u<R(a.dataMax,a.max))&&(s.setExtremes(f,u,!1,!1,{trigger:"pan"}),i=!0),n[t?"mouseDownX":"mouseDownY"]=r}),i&&n.redraw(!1),h(n.container,{cursor:"move"})}}),Rt(Nn.prototype,{select:function(e,t){var n=this,r=n.series,i=r.chart,e=Ut(e,!n.selected);n.firePointEvent(e?"select":"unselect",{accumulate:t},function(){n.selected=n.options.selected=e,r.options.data[Jt(n,r.data)]=n.options,n.setState(e&&"select"),t||Kt(i.getSelectedPoints(),function(e){e.selected&&e!==n&&(e.selected=e.options.selected=!1,r.options.data[Jt(e,r.data)]=e.options,e.setState(""),e.firePointEvent("unselect"))})})},onMouseOver:function(e,t){var n=this.series,r=n.chart,i=r.tooltip,s=r.hoverPoint;r.hoverSeries!==n&&n.onMouseOver(),s&&s!==this&&s.onMouseOut(),this.series&&(this.firePointEvent("mouseOver"),i&&(!i.shared||n.noSharedTooltip)&&i.refresh(this,e),this.setState("hover"),!t)&&(r.hoverPoint=this)},onMouseOut:function(){var e=this.series.chart,t=e.hoverPoints;this.firePointEvent("mouseOut");if(!t||Jt(this,t)===-1)this.setState(),e.hoverPoint=null},importEvents:function(){if(!this.hasImportedEvents){var t=e(this.series.options.point,this.options).events,n;this.events=t;for(n in t)Zt(this,n,t[n]);this.hasImportedEvents=!0}},setState:function(t,n){var r=I(this.plotX),i=this.plotY,s=this.series,o=s.options.states,u=on[s.type].marker&&s.options.marker,a=u&&!u.enabled,f=u&&u.states[t],l=f&&f.enabled===!1,c=s.stateMarkerGraphic,h=this.marker||{},p=s.chart,d=s.halo,v,t=t||"";v=this.pointAttr[t]||s.pointAttr[t],t===this.state&&!n||this.selected&&t!=="select"||o[t]&&o[t].enabled===!1||t&&(l||a&&f.enabled===!1)||t&&h.states&&h.states[t]&&h.states[t].enabled===!1||(this.graphic?(u=u&&this.graphic.symbolName&&v.r,this.graphic.attr(e(v,u?{x:r-u,y:i-u,width:2*u,height:2*u}:{})),c&&c.hide()):(t&&f&&((u=f.radius,h=h.symbol||s.symbol,c&&c.currentSymbol!==h&&(c=c.destroy()),c)?c[n?"animate":"attr"]({x:r-u,y:i-u}):h&&(s.stateMarkerGraphic=c=p.renderer.symbol(h,r-u,i-u,2*u,2*u).attr(v).add(s.markerGroup),c.currentSymbol=h)),c&&(c[t&&p.isInsidePlot(r,i,p.inverted)?"show":"hide"](),c.element.point=this)),(r=o[t]&&o[t].halo)&&r.size?(d||(s.halo=d=p.renderer.path().add(p.seriesGroup)),d.attr(Rt({fill:ln(this.color||s.color).setOpacity(r.opacity).get()},r.attributes))[n?"animate":"attr"]({d:this.haloPath(r.size)})):d&&d.attr({d:[]}),this.state=t)},haloPath:function(e){var t=this.series,n=t.chart,r=t.getPlotBox(),i=n.inverted;return n.renderer.symbols.circle(r.translateX+(i?t.yAxis.len-this.plotY:this.plotX)-e,r.translateY+(i?t.xAxis.len-this.plotX:this.plotY)-e,e*2,e*2)}}),Rt(Cn.prototype,{onMouseOver:function(){var e=this.chart,t=e.hoverSeries;t&&t!==this&&t.onMouseOut(),this.options.events.mouseOver&&tn(this,"mouseOver"),this.setState("hover"),e.hoverSeries=this},onMouseOut:function(){var e=this.options,t=this.chart,n=t.tooltip,r=t.hoverPoint;t.hoverSeries=null,r&&r.onMouseOut(),this&&e.events.mouseOut&&tn(this,"mouseOut"),n&&!e.stickyTracking&&(!n.shared||this.noSharedTooltip)&&n.hide(),this.setState()},setState:function(e){var t=this.options,n=this.graph,r=t.states,i=t.lineWidth,t=0,e=e||"";if(this.state!==e&&(this.state=e,(!r[e]||r[e].enabled!==!1)&&(e&&(i=r[e].lineWidth||i+(r[e].lineWidthPlus||0)),n&&!n.dashstyle))){e={"stroke-width":i};for(n.attr(e);this["zoneGraph"+t];)this["zoneGraph"+t].attr(e),t+=1}},setVisible:function(e,t){var n=this,r=n.chart,i=n.legendItem,s,o=r.options.chart.ignoreHiddenSeries,u=n.visible;s=(n.visible=e=n.userOptions.visible=e===P?!u:e)?"show":"hide",Kt(["group","dataLabelsGroup","markerGroup","tracker"],function(e){n[e]&&n[e][s]()}),(r.hoverSeries===n||(r.hoverPoint&&r.hoverPoint.series)===n)&&n.onMouseOut(),i&&r.legend.colorizeItem(n,e),n.isDirty=!0,n.options.stacking&&Kt(r.series,function(e){e.options.stacking&&e.visible&&(e.isDirty=!0)}),Kt(n.linkedSeries,function(t){t.setVisible(e,!1)}),o&&(r.isDirtyBox=!0),t!==!1&&r.redraw(),tn(n,s)},show:function(){this.setVisible(!0)},hide:function(){this.setVisible(!1)},select:function(e){this.selected=e=e===P?!this.selected:e,this.checkbox&&(this.checkbox.checked=e),tn(this,e?"select":"unselect")},drawTracker:An.drawTrackerGraph}),zt(Cn.prototype,"init",function(e){var t;e.apply(this,Array.prototype.slice.call(arguments,1)),(t=this.xAxis)&&t.options.ordinal&&Zt(this,"updatedData",function(){delete t.ordinalIndex})}),zt(dn.prototype,"getTimeTicks",function(e,t,n,r,i,s,o,u){var a=0,l=0,c,h={},p,d,v,m=[],g=-Number.MAX_VALUE,y=this.options.tickPixelInterval;if(!this.options.ordinal&&!this.options.breaks||!s||s.length<3||n===P)return e.call(this,t,n,r,i);for(d=s.length;l<d;l++){v=l&&s[l-1]>r,s[l]<n&&(a=l);if(l===d-1||s[l+1]-s[l]>o*5||v){if(s[l]>g){for(c=e.call(this,t,s[a],s[l],i);c.length&&c[0]<=g;)c.shift();c.length&&(g=c[c.length-1]),m=m.concat(c)}a=l+1}if(v)break}e=c.info;if(u&&e.unitRange<=pt.hour){l=m.length-1;for(a=1;a<l;a++)ct("%d",m[a])!==ct("%d",m[a-1])&&(h[m[a]]="day",p=!0);p&&(h[m[0]]="day"),e.higherRanks=h}m.info=e;if(u&&f(y)){var u=e=m.length,l=[],b;for(p=[];u--;)a=this.translate(m[u]),b&&(p[u]=b-a),l[u]=b=a;p.sort(),p=p[I(p.length/2)],p<y*.6&&(p=null),u=m[e-1]>r?e-1:e;for(b=void 0;u--;)a=l[u],r=b-a,b&&r<y*.8&&(p===null||r<p*.8)?(h[m[u]]&&!h[m[u+1]]?(r=u+1,b=a):r=u,m.splice(r,1)):b=a}return m}),Rt(dn.prototype,{beforeSetTickPositions:function(){var e,t=[],n=!1,r,i=this.getExtremes(),s=i.min,o=i.max,u,a=this.isXAxis&&!!this.options.breaks;if((i=this.options.ordinal)||a){Kt(this.series,function(n,r){if(n.visible!==!1&&(n.takeOrdinalPosition!==!1||a))if(t=t.concat(n.processedXData),e=t.length,t.sort(function(e,t){return e-t}),e)for(r=e-1;r--;)t[r]===t[r+1]&&t.splice(r,1)}),e=t.length;if(e>2){r=t[1]-t[0];for(u=e-1;u--&&!n;)t[u+1]-t[u]!==r&&(n=!0);!this.options.keepOrdinalPadding&&(t[0]-s>r||o-t[t.length-1]>r)&&(n=!0)}n?(this.ordinalPositions=t,r=this.val2lin(R(s,t[0]),!0),u=R(this.val2lin(U(o,t[t.length-1]),!0),1),this.ordinalSlope=o=(o-s)/(u-r),this.ordinalOffset=s-r*o):this.ordinalPositions=this.ordinalSlope=this.ordinalOffset=P}this.doPostTranslate=i&&n||a,this.groupIntervalFactor=null},val2lin:function(e,t){var n=this.ordinalPositions;if(n){var r=n.length,i,s;for(i=r;i--;)if(n[i]===e){s=i;break}for(i=r-1;i--;)if(e>n[i]||i===0){n=(e-n[i])/(n[i+1]-n[i]),s=i+n;break}return t?s:this.ordinalSlope*(s||0)+this.ordinalOffset}return e},lin2val:function(e,t){var n=this.ordinalPositions;if(n){var r=this.ordinalSlope,i=this.ordinalOffset,s=n.length-1,o,u;if(t)e<0?e=n[0]:e>s?e=n[s]:(s=I(e),u=e-s);else for(;s--;)if(o=r*s+i,e>=o){r=r*(s+1)+i,u=(e-o)/(r-o);break}return u!==P&&n[s]!==P?n[s]+(u?u*(n[s+1]-n[s]):0):e}return e},getExtendedPositions:function(){var e=this.chart,t=this.series[0].currentDataGrouping,n=this.ordinalIndex,r=t?t.count+t.unitName:"raw",i=this.getExtremes(),s,o;return n||(n=this.ordinalIndex={}),n[r]||(s={series:[],getExtremes:function(){return{min:i.dataMin,max:i.dataMax}},options:{ordinal:!0},val2lin:dn.prototype.val2lin},Kt(this.series,function(n){o={xAxis:s,xData:n.xData,chart:e,destroyGroupedData:dt},o.options={dataGrouping:t?{enabled:!0,forced:!0,approximation:"open",units:[[t.unitName,[t.count]]]}:{enabled:!1}},n.processData.apply(o),s.series.push(o)}),this.beforeSetTickPositions.apply(s),n[r]=s.ordinalPositions),n[r]},getGroupIntervalFactor:function(e,t,n){var r=0,n=n.processedXData,i=n.length,s=[],o=this.groupIntervalFactor;if(!o){for(;r<i-1;r++)s[r]=n[r+1]-n[r];s.sort(function(e,t){return e-t}),r=s[I(i/2)],e=R(e,n[0]),t=U(t,n[i-1]),this.groupIntervalFactor=o=i*r/(t-e)}return o},postProcessTickInterval:function(e){var t=this.ordinalSlope;return t?this.options.breaks?this.closestPointRange:e/(t/this.closestPointRange):e}}),zt(xn.prototype,"pan",function(e,t){var n=this.xAxis[0],r=t.chartX,i=!1;if(n.options.ordinal&&n.series.length){var s=this.mouseDownX,o=n.getExtremes(),u=o.dataMax,a=o.min,f=o.max,l=this.hoverPoints,c=n.closestPointRange,s=(s-r)/(n.translationSlope*(n.ordinalSlope||c)),p={ordinalPositions:n.getExtendedPositions()},c=n.lin2val,d=n.val2lin,v;p.ordinalPositions?z(s)>1&&(l&&Kt(l,function(e){e.setState()}),s<0?(l=p,v=n.ordinalPositions?n:p):(l=n.ordinalPositions?n:p,v=p),p=v.ordinalPositions,u>p[p.length-1]&&p.push(u),this.fixedRange=f-a,s=n.toFixedRange(null,null,c.apply(l,[d.apply(l,[a,!0])+s,!0]),c.apply(v,[d.apply(v,[f,!0])+s,!0])),s.min>=U(o.dataMin,a)&&s.max<=R(u,f)&&n.setExtremes(s.min,s.max,!0,!1,{trigger:"pan"}),this.mouseDownX=r,h(this.container,{cursor:"move"})):i=!0}else i=!0;i&&e.apply(this,Array.prototype.slice.call(arguments,1))}),zt(Cn.prototype,"getSegments",function(e){var t,n=this.options.gapSize,r=this.xAxis;e.apply(this,Array.prototype.slice.call(arguments,1)),n&&(t=this.segments,Kt(t,function(e,i){for(var s=e.length-1;s--;){if(e[s].x<r.min&&e[s+1].x>r.max){t.length=0;break}e[s+1].x-e[s].x>r.closestPointRange*n&&t.splice(i+1,0,e.splice(s+1,e.length-s))}}))}),function(e){function t(){return Array.prototype.slice.call(arguments,1)}var n=e.pick,r=e.wrap,i=e.extend,s=HighchartsAdapter.fireEvent,o=e.Axis,u=e.Series;i(o.prototype,{isInBreak:function(e,t){var n=e.repeat||Infinity,r=e.from,i=e.to-e.from,n=t>=r?(t-r)%n:n-(r-t)%n;return e.inclusive?n<=i:n<i&&n!==0},isInAnyBreak:function(e,t){var r=this.options.breaks,i=r&&r.length,s,o,u;if(i){for(;i--;)this.isInBreak(r[i],e)&&(s=!0,o||(o=n(r[i].showPoints,this.isXAxis?!1:!0)));u=s&&t?s&&!o:s}return u}}),r(o.prototype,"setTickPositions",function(e){e.apply(this,Array.prototype.slice.call(arguments,1));if(this.options.breaks){var t=this.tickPositions,n=this.tickPositions.info,r=[],i;for(i=0;i<t.length;i++)this.isInAnyBreak(t[i])||r.push(t[i]);this.tickPositions=r,this.tickPositions.info=n}}),r(o.prototype,"init",function(e,t,n){n.breaks&&n.breaks.length&&(n.ordinal=!1),e.call(this,t,n);if(this.options.breaks){var r=this;r.doPostTranslate=!0,this.val2lin=function(e){var t=e,n,i;for(i=0;i<r.breakArray.length;i++)if(n=r.breakArray[i],n.to<=e)t-=n.len;else{if(n.from>=e)break;if(r.isInBreak(n,e)){t-=e-n.from;break}}return t},this.lin2val=function(e){var t,n;for(n=0;n<r.breakArray.length;n++){if(t=r.breakArray[n],t.from>=e)break;t.to<e?e+=t.len:r.isInBreak(t,e)&&(e+=t.len)}return e},this.setExtremes=function(e,t,n,r,i){for(;this.isInAnyBreak(e);)e-=this.closestPointRange;for(;this.isInAnyBreak(t);)t-=this.closestPointRange;o.prototype.setExtremes.call(this,e,t,n,r,i)},this.setAxisTranslation=function(e){o.prototype.setAxisTranslation.call(this,e);var t=r.options.breaks,e=[],n=[],i=0,u,a,f=r.userMin||r.min,l=r.userMax||r.max,c,h;for(h in t)a=t[h],u=a.repeat||Infinity,r.isInBreak(a,f)&&(f+=a.to%u-f%u),r.isInBreak(a,l)&&(l-=l%u-a.from%u);for(h in t){a=t[h],c=a.from;for(u=a.repeat||Infinity;c-u>f;)c-=u;for(;c<f;)c+=u;for(;c<l;c+=u)e.push({value:c,move:"in"}),e.push({value:c+(a.to-a.from),move:"out",size:a.breakSize})}e.sort(function(e,t){return e.value===t.value?(e.move==="in"?0:1)-(t.move==="in"?0:1):e.value-t.value}),t=0,c=f;for(h in e)a=e[h],t+=a.move==="in"?1:-1,t===1&&a.move==="in"&&(c=a.value),t===0&&(n.push({from:c,to:a.value,len:a.value-c-(a.size||0)}),i+=a.value-c-(a.size||0));r.breakArray=n,s(r,"afterBreaks"),r.transA*=(l-r.min)/(l-f-i),r.min=f,r.max=l}}}),r(u.prototype,"generatePoints",function(e){e.apply(this,t(arguments));var n=this.xAxis,r=this.yAxis,i=this.points,s,o=i.length,u=this.options.connectNulls,a;if(n&&r&&(n.options.breaks||r.options.breaks))for(;o--;)if(s=i[o],a=s.y===null&&u===!1,!a&&(n.isInAnyBreak(s.x,!0)||r.isInAnyBreak(s.y,!0)))i.splice(o,1),this.data[o]&&this.data[o].destroyElements()}),r(e.seriesTypes.column.prototype,"drawPoints",function(e){e.apply(this);var e=this.points,t=this.yAxis,r=t.breakArray||[],i=n(this.options.threshold,t.min),o,u,a,f,l,c;for(f=0;f<e.length;f++){u=e[f],c=u.stackY||u.y;for(l=0;l<r.length;l++){a=r[l],o=!1;if(i<a.from&&c>a.to||i>a.from&&c<a.from)o="pointBreak";else if(i<a.from&&c>a.from&&c<a.to||i>a.from&&c>a.to&&c<a.from)o="pointInBreak";o&&s(t,o,{point:u,brk:a})}}})}(qt);var On=Cn.prototype,Wt=vn.prototype,Mn=On.processData,_n=On.generatePoints,Dn=On.destroy,Pn=Wt.tooltipFooterHeaderFormatter,Hn={approximation:"average",groupPixelWidth:2,dateTimeLabelFormats:{millisecond:["%A, %b %e, %H:%M:%S.%L","%A, %b %e, %H:%M:%S.%L","-%H:%M:%S.%L"],second:["%A, %b %e, %H:%M:%S","%A, %b %e, %H:%M:%S","-%H:%M:%S"],minute:["%A, %b %e, %H:%M","%A, %b %e, %H:%M","-%H:%M"],hour:["%A, %b %e, %H:%M","%A, %b %e, %H:%M","-%H:%M"],day:["%A, %b %e, %Y","%A, %b %e","-%A, %b %e, %Y"],week:["Week from %A, %b %e, %Y","%A, %b %e","-%A, %b %e, %Y"],month:["%B %Y","%B","-%B %Y"],year:["%Y","%Y","-%Y"]}},Bn={line:{},spline:{},area:{},areaspline:{},column:{approximation:"sum",groupPixelWidth:10},arearange:{approximation:"range"},areasplinerange:{approximation:"range"},columnrange:{approximation:"range",groupPixelWidth:10},candlestick:{approximation:"ohlc",groupPixelWidth:10},ohlc:{approximation:"ohlc",groupPixelWidth:5}},jn=[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1]],["week",[1]],["month",[1,3,6]],["year",null]],Fn={sum:function(e){var t=e.length,n;if(!t&&e.hasNulls)n=null;else if(t)for(n=0;t--;)n+=e[t];return n},average:function(e){var t=e.length,e=Fn.sum(e);return typeof e=="number"&&t&&(e/=t),e},open:function(e){return e.length?e[0]:e.hasNulls?null:P},high:function(e){return e.length?S(e):e.hasNulls?null:P},low:function(e){return e.length?E(e):e.hasNulls?null:P},close:function(e){return e.length?e[e.length-1]:e.hasNulls?null:P},ohlc:function(e,t,n,r){e=Fn.open(e),t=Fn.high(t),n=Fn.low(n),r=Fn.close(r);if(typeof e=="number"||typeof t=="number"||typeof n=="number"||typeof r=="number")return[e,t,n,r]},range:function(e,t){e=Fn.low(e),t=Fn.high(t);if(typeof e=="number"||typeof t=="number")return[e,t]}};On.groupData=function(e,t,n,r){var i=this.data,s=this.options.data,o=[],u=[],a=e.length,f,l,c=!!t,h=[[],[],[],[]],r=typeof r=="function"?r:Fn[r],p=this.pointArrayMap,d=p&&p.length,v;for(v=0;v<=a;v++)if(e[v]>=n[0])break;for(;v<=a;v++){for(;n[1]!==P&&e[v]>=n[1]||v===a;)if(f=n.shift(),l=r.apply(0,h),l!==P&&(o.push(f),u.push(l)),h[0]=[],h[1]=[],h[2]=[],h[3]=[],v===a)break;if(v===a)break;if(p){f=this.cropStart+v,f=i&&i[f]||this.pointClass.prototype.applyOptions.apply({series:this},[s[f]]);var m;for(l=0;l<d;l++)(m=f[p[l]],typeof m=="number")?h[l].push(m):m===null&&(h[l].hasNulls=!0)}else(f=c?t[v]:null,typeof f=="number")?h[0].push(f):f===null&&(h[0].hasNulls=!0)}return[o,u]},On.processData=function(){var e=this.chart,t=this.options,n=t.dataGrouping,r=this.allowDG!==!1&&n&&Ut(n.enabled,e.options._stock),i;this.forceCrop=r,this.groupPixelWidth=null,this.hasProcessed=!0;if(Mn.apply(this,arguments)!==!1&&r){this.destroyGroupedData();var s=this.processedXData,o=this.processedYData,u=e.plotSizeX,e=this.xAxis,a=e.options.ordinal,l=this.groupPixelWidth=e.getGroupPixelWidth&&e.getGroupPixelWidth(),r=this.pointRange;if(l){i=!0,this.points=null;var c=e.getExtremes(),r=c.min,c=c.max,a=a&&e.getGroupIntervalFactor(r,c,this)||1,u=l*(c-r)/u*a,l=e.getTimeTicks(e.normalizeTimeTickInterval(u,n.units||jn),r,c,e.options.startOfWeek,s,this.closestPointRange),o=On.groupData.apply(this,[s,o,l,n.approximation]),s=o[0],o=o[1];if(n.smoothed){n=s.length-1;for(s[n]=Math.min(s[n],c);n--&&n>0;)s[n]+=u/2;s[0]=Math.max(s[0],r)}this.currentDataGrouping=l.info,t.pointRange===null&&(this.pointRange=l.info.totalRange),this.closestPointRange=l.info.totalRange,f(s[0])&&s[0]<e.dataMin&&(e.min===e.dataMin&&(e.min=s[0]),e.dataMin=s[0]),this.processedXData=s,this.processedYData=o}else this.currentDataGrouping=null,this.pointRange=r;this.hasGroupedData=i}},On.destroyGroupedData=function(){var e=this.groupedData;Kt(e||[],function(t,n){t&&(e[n]=t.destroy?t.destroy():null)}),this.groupedData=null},On.generatePoints=function(){_n.apply(this),this.destroyGroupedData(),this.groupedData=this.hasGroupedData?this.points:null},Wt.tooltipFooterHeaderFormatter=function(e,t){var n=e.series,r=n.tooltipOptions,i=n.options.dataGrouping,o=r.xDateFormat,u,a=n.xAxis;return a&&a.options.type==="datetime"&&i&&s(e.key)?(n=n.currentDataGrouping,i=i.dateTimeLabelFormats,n?(a=i[n.unitName],n.count===1?o=a[0]:(o=a[1],u=a[2])):!o&&i&&(o=this.getXDateFormat(e,r,a)),o=ct(o,e.key),u&&(o+=ct(u,e.key+n.totalRange-1)),r=r[(t?"footer":"header")+"Format"].replace("{point.key}",o)):r=Pn.call(this,e,t),r},On.destroy=function(){for(var e=this.groupedData||[],t=e.length;t--;)e[t]&&e[t].destroy();Dn.apply(this)},zt(On,"setOptions",function(t,n){var r=t.call(this,n),i=this.type,s=this.chart.options.plotOptions,o=on[i].dataGrouping;return Bn[i]&&(o||(o=e(Hn,Bn[i])),r.dataGrouping=e(o,s.series&&s.series.dataGrouping,s[i].dataGrouping,n.dataGrouping)),this.chart.options._stock&&(this.requireSorting=!0),r}),zt(dn.prototype,"setScale",function(e){e.call(this),Kt(this.series,function(e){e.hasProcessed=!1})}),dn.prototype.getGroupPixelWidth=function(){var e=this.series,t=e.length,n,r=0,i=!1,s;for(n=t;n--;)(s=e[n].options.dataGrouping)&&(r=R(r,s.groupPixelWidth));for(n=t;n--;)(s=e[n].options.dataGrouping)&&e[n].hasProcessed&&(t=(e[n].processedXData||e[n].data).length,e[n].groupPixelWidth||t>this.chart.plotSizeX/r||t&&s.forced)&&(i=!0);return i?r:0},dn.prototype.setDataGrouping=function(e,t){var n,t=Ut(t,!0);e||(e={forced:!1,units:null});if(this instanceof dn)for(n=this.series.length;n--;)this.series[n].update({dataGrouping:e},!1);else Kt(this.chart.options.series,function(t){t.dataGrouping=e},!1);t&&this.chart.redraw()},on.ohlc=e(on.column,{lineWidth:1,tooltip:{pointFormat:'<span style="color:{point.color}">●</span> <b> {series.name}</b><br/>Open: {point.open}<br/>High: {point.high}<br/>Low: {point.low}<br/>Close: {point.close}<br/>'},states:{hover:{lineWidth:3}},threshold:null}),Wt=d(It.column,{type:"ohlc",pointArrayMap:["open","high","low","close"],toYData:function(e){return[e.open,e.high,e.low,e.close]},pointValKey:"high",pointAttrToOptions:{stroke:"color","stroke-width":"lineWidth"},upColorProp:"stroke",getAttribs:function(){It.column.prototype.getAttribs.apply(this,arguments);var t=this.options,n=t.states,t=t.upColor||this.color,r=e(this.pointAttr),i=this.upColorProp;r[""][i]=t,r.hover[i]=n.hover.upColor||t,r.select[i]=n.select.upColor||t,Kt(this.points,function(e){e.open<e.close&&!e.options.color&&(e.pointAttr=r)})},translate:function(){var e=this.yAxis;It.column.prototype.translate.apply(this),Kt(this.points,function(t){t.open!==null&&(t.plotOpen=e.translate(t.open,0,1,0,1)),t.close!==null&&(t.plotClose=e.translate(t.close,0,1,0,1))})},drawPoints:function(){var e=this,t=e.chart,n,r,i,s,o,u,a,f;Kt(e.points,function(l){l.plotY!==P&&(a=l.graphic,n=l.pointAttr[l.selected?"selected":""]||e.pointAttr[""],s=n["stroke-width"]%2/2,f=F(l.plotX)-s,o=F(l.shapeArgs.width/2),u=["M",f,F(l.yBottom),"L",f,F(l.plotY)],l.open!==null&&(r=F(l.plotOpen)+s,u.push("M",f,r,"L",f-o,r)),l.close!==null&&(i=F(l.plotClose)+s,u.push("M",f,i,"L",f+o,i)),a?a.attr(n).animate({d:u}):l.graphic=t.renderer.path(u).attr(n).add(e.group))})},animate:null}),It.ohlc=Wt,on.candlestick=e(on.column,{lineColor:"black",lineWidth:1,states:{hover:{lineWidth:2}},tooltip:on.ohlc.tooltip,threshold:null,upColor:"white"}),Wt=d(Wt,{type:"candlestick",pointAttrToOptions:{fill:"color",stroke:"lineColor","stroke-width":"lineWidth"},upColorProp:"fill",getAttribs:function(){It.ohlc.prototype.getAttribs.apply(this,arguments);var t=this.options,n=t.states,r=t.upLineColor||t.lineColor,i=n.hover.upLineColor||r,s=n.select.upLineColor||r;Kt(this.points,function(t){t.open<t.close&&(t.lineColor&&(t.pointAttr=e(t.pointAttr),r=t.lineColor),t.pointAttr[""].stroke=r,t.pointAttr.hover.stroke=i,t.pointAttr.select.stroke=s)})},drawPoints:function(){var e=this,t=e.chart,n,r=e.pointAttr[""],i,s,o,u,a,f,l,c,h,p,d;Kt(e.points,function(v){h=v.graphic,v.plotY!==P&&(n=v.pointAttr[v.selected?"selected":""]||r,l=n["stroke-width"]%2/2,c=F(v.plotX)-l,i=v.plotOpen,s=v.plotClose,o=j.min(i,s),u=j.max(i,s),d=F(v.shapeArgs.width/2),a=F(o)!==F(v.plotY),f=u!==v.yBottom,o=F(o)+l,u=F(u)+l,p=["M",c-d,u,"L",c-d,o,"L",c+d,o,"L",c+d,u,"Z","M",c,o,"L",c,a?F(v.plotY):o,"M",c,u,"L",c,f?F(v.yBottom):u],h?h.attr(n).animate({d:p}):v.graphic=t.renderer.path(p).attr(n).add(e.group).shadow(e.options.shadow))})}}),It.candlestick=Wt;var In=cn.prototype.symbols;on.flags=e(on.column,{fillColor:"white",lineWidth:1,pointRange:0,shape:"flag",stackDistance:12,states:{hover:{lineColor:"black",fillColor:"#FCFFC5"}},style:{fontSize:"11px",fontWeight:"bold",textAlign:"center"},tooltip:{pointFormat:"{point.text}<br/>"},threshold:null,y:-30}),It.flags=d(It.column,{type:"flags",sorted:!1,noSharedTooltip:!0,allowDG:!1,takeOrdinalPosition:!1,trackerGroups:["markerGroup"],forceCrop:!0,init:Cn.prototype.init,pointAttrToOptions:{fill:"fillColor",stroke:"color","stroke-width":"lineWidth",r:"radius"},translate:function(){It.column.prototype.translate.apply(this);var e=this.chart,t=this.points,n=t.length-1,r,i,s=this.options.onSeries,s=(r=s&&e.get(s))&&r.options.step,o=r&&r.points,u=o&&o.length,a=this.xAxis,f=a.getExtremes(),l,c,h;if(r&&r.visible&&u){r=r.currentDataGrouping,c=o[u-1].x+(r?r.totalRange:0);for(t.sort(function(e,t){return e.x-t.x});u--&&t[n];)if(r=t[n],l=o[u],l.x<=r.x&&l.plotY!==P){r.x<=c&&(r.plotY=l.plotY,l.x<r.x&&!s&&(h=o[u+1])&&h.plotY!==P&&(r.plotY+=(r.x-l.x)/(h.x-l.x)*(h.plotY-l.plotY))),n--,u++;if(n<0)break}}Kt(t,function(n,r){var s;n.plotY===P&&(n.x>=f.min&&n.x<=f.max?n.plotY=e.chartHeight-a.bottom-(a.opposite?a.height:0)+a.offset-e.plotTop:n.shapeArgs={}),(i=t[r-1])&&i.plotX===n.plotX&&(i.stackIndex===P&&(i.stackIndex=0),s=i.stackIndex+1),n.stackIndex=s})},drawPoints:function(){var t,n=this.pointAttr[""],r=this.points,i=this.chart.renderer,s,o,u=this.options,a=u.y,f,l,c,h,p,d;for(l=r.length;l--;)(c=r[l],t=c.plotX>this.xAxis.len,s=c.plotX,s>0&&(s-=Ut(c.lineWidth,u.lineWidth)%2),h=c.stackIndex,f=c.options.shape||u.shape,o=c.plotY,o!==P&&(o=c.plotY+a-(h!==P&&h*u.stackDistance)),p=h?P:c.plotX,d=h?P:c.plotY,h=c.graphic,o!==P&&s>=0&&!t)?(t=c.pointAttr[c.selected?"select":""]||n,h?h.attr({x:s,y:o,r:t.r,anchorX:p,anchorY:d}):c.graphic=i.label(c.options.title||u.title||"A",s,o,f,p,d,u.useHTML).css(e(u.style,c.style)).attr(t).attr({align:f==="flag"?"left":"center",width:u.width,height:u.height}).add(this.markerGroup).shadow(u.shadow),c.tooltipPos=[s,o]):h&&(c.graphic=h.destroy())},drawTracker:function(){var e=this.points;An.drawTrackerPoint.apply(this),Kt(e,function(t){var n=t.graphic;n&&Zt(n.element,"mouseover",function(){t.stackIndex>0&&!t.raised&&(t._y=n.y,n.attr({y:t._y-8}),t.raised=!0),Kt(e,function(e){e!==t&&e.raised&&e.graphic&&(e.graphic.attr({y:e._y}),e.raised=!1)})})})},animate:dt,buildKDTree:dt,setClip:dt}),In.flag=function(e,t,n,r,i){return["M",i&&i.anchorX||e,i&&i.anchorY||t,"L",e,t+r,e,t,e+n,t,e+n,t+r,e,t+r,"Z"]},Kt(["circle","square"],function(e){In[e+"pin"]=function(t,n,r,i,s){var o=s&&s.anchorX,s=s&&s.anchorY;return e==="circle"&&i>r&&(t-=F((i-r)/2),r=i),t=In[e](t,n,r,i),o&&s&&t.push("M",o,n>s?n:n+i,"L",o,s),t}}),st===qt.VMLRenderer&&Kt(["flag","circlepin","squarepin"],function(e){hn.prototype.symbols[e]=In[e]});var Wt=[].concat(jn),qn=function(e){var t=Qt(arguments,function(e){return typeof e=="number"});if(t.length)return Math[e].apply(0,t)};Wt[4]=["day",[1,2,3,4]],Wt[5]=["week",[1,2,3]],Rt(lt,{navigator:{handles:{backgroundColor:"#ebe7e8",borderColor:"#b2b1b6"},height:40,margin:25,maskFill:"rgba(128,179,236,0.3)",maskInside:!0,outlineColor:"#b2b1b6",outlineWidth:1,series:{type:It.areaspline===P?"line":"areaspline",color:"#4572A7",compare:null,fillOpacity:.05,dataGrouping:{approximation:"average",enabled:!0,groupPixelWidth:2,smoothed:!0,units:Wt},dataLabels:{enabled:!1,zIndex:2},id:"highcharts-navigator-series",lineColor:null,lineWidth:1,marker:{enabled:!1},pointRange:0,shadow:!1,threshold:null},xAxis:{tickWidth:0,lineWidth:0,gridLineColor:"#EEE",gridLineWidth:1,tickPixelInterval:200,labels:{align:"left",style:{color:"#888"},x:3,y:-4},crosshair:!1},yAxis:{gridLineWidth:0,startOnTick:!1,endOnTick:!1,minPadding:.1,maxPadding:.1,labels:{enabled:!1},crosshair:!1,title:{text:null},tickWidth:0}},scrollbar:{height:et?20:14,barBackgroundColor:"#bfc8d1",barBorderRadius:0,barBorderWidth:1,barBorderColor:"#bfc8d1",buttonArrowColor:"#666",buttonBackgroundColor:"#ebe7e8",buttonBorderColor:"#bbb",buttonBorderRadius:0,buttonBorderWidth:1,minWidth:6,rifleColor:"#666",trackBackgroundColor:"#eeeeee",trackBorderColor:"#eeeeee",trackBorderWidth:1,liveRedraw:nt&&!et}}),_.prototype={drawHandle:function(e,t){var n=this.chart,r=n.renderer,i=this.elementsToDestroy,s=this.handles,o=this.navigatorOptions.handles,o={fill:o.backgroundColor,stroke:o.borderColor,"stroke-width":1},u;this.rendered||(s[t]=r.g("navigator-handle-"+["left","right"][t]).css({cursor:"ew-resize"}).attr({zIndex:4-t}).add(),u=r.rect(-4.5,0,9,16,0,1).attr(o).add(s[t]),i.push(u),u=r.path(["M",-1.5,4,"L",-1.5,12,"M",.5,4,"L",.5,12]).attr(o).add(s[t]),i.push(u)),s[t][n.isResizing?"animate":"attr"]({translateX:this.scrollerLeft+this.scrollbarHeight+parseInt(e,10),translateY:this.top+this.height/2-8})},drawScrollbarButton:function(e){var t=this.chart.renderer,n=this.elementsToDestroy,r=this.scrollbarButtons,i=this.scrollbarHeight,s=this.scrollbarOptions,o;this.rendered||(r[e]=t.g().add(this.scrollbarGroup),o=t.rect(-0.5,-0.5,i+1,i+1,s.buttonBorderRadius,s.buttonBorderWidth).attr({stroke:s.buttonBorderColor,"stroke-width":s.buttonBorderWidth,fill:s.buttonBackgroundColor}).add(r[e]),n.push(o),o=t.path(["M",i/2+(e?-1:1),i/2-3,"L",i/2+(e?-1:1),i/2+3,i/2+(e?2:-2),i/2]).attr({fill:s.buttonArrowColor}).add(r[e]),n.push(o)),e&&r[e].attr({translateX:this.scrollerWidth-i})},render:function(e,t,n,r){var i=this.chart,s=i.renderer,o,u,a,l,c=this.scrollbarGroup,h=this.navigatorGroup,p=this.scrollbar,h=this.xAxis,d=this.scrollbarTrack,v=this.scrollbarHeight,m=this.scrollbarEnabled,g=this.navigatorOptions,y=this.scrollbarOptions,b=y.minWidth,w=this.height,E=this.top,S=this.navigatorEnabled,x=g.outlineWidth,T=x/2,N=0,C=this.outlineHeight,k=y.barBorderRadius,L=y.barBorderWidth,A=E+T,O;if(f(e)&&!isNaN(e)){this.navigatorLeft=o=Ut(h.left,i.plotLeft+v),this.navigatorWidth=u=Ut(h.len,i.plotWidth-2*v),this.scrollerLeft=a=o-v,this.scrollerWidth=l=l=u+2*v,h.getExtremes&&(O=this.getUnionExtremes(!0))&&(O.dataMin!==h.min||O.dataMax!==h.max)&&h.setExtremes(O.dataMin,O.dataMax,!0,!1),n=Ut(n,h.translate(e)),r=Ut(r,h.translate(t));if(isNaN(n)||z(n)===Infinity)n=0,r=l;h.translate(r,!0)-h.translate(n,!0)<i.xAxis[0].minRange||(this.zoomedMax=U(R(n,r,0),u),this.zoomedMin=R(this.fixedWidth?this.zoomedMax-this.fixedWidth:U(n,r),0),this.range=this.zoomedMax-this.zoomedMin,n=F(this.zoomedMax),t=F(this.zoomedMin),e=n-t,this.rendered||(S&&(this.navigatorGroup=h=s.g("navigator").attr({zIndex:3}).add(),this.leftShade=s.rect().attr({fill:g.maskFill}).add(h),g.maskInside?this.leftShade.css({cursor:"ew-resize "}):this.rightShade=s.rect().attr({fill:g.maskFill}).add(h),this.outline=s.path().attr({"stroke-width":x,stroke:g.outlineColor}).add(h)),m&&(this.scrollbarGroup=c=s.g("scrollbar").add(),p=y.trackBorderWidth,this.scrollbarTrack=d=s.rect().attr({x:0,y:-p%2/2,fill:y.trackBackgroundColor,stroke:y.trackBorderColor,"stroke-width":p,r:y.trackBorderRadius||0,height:v}).add(c),this.scrollbar=p=s.rect().attr({y:-L%2/2,height:v,fill:y.barBackgroundColor,stroke:y.barBorderColor,"stroke-width":L,r:k}).add(c),this.scrollbarRifles=s.path().attr({stroke:y.rifleColor,"stroke-width":1}).add(c))),i=i.isResizing?"animate":"attr",S&&(this.leftShade[i](g.maskInside?{x:o+t,y:E,width:n-t,height:w}:{x:o,y:E,width:t,height:w}),this.rightShade&&this.rightShade[i]({x:o+n,y:E,width:u-n,height:w}),this.outline[i]({d:["M",a,A,"L",o+t-T,A,o+t-T,A+C,"L",o+n-T,A+C,"L",o+n-T,A,a+l,A].concat(g.maskInside?["M",o+t+T,A,"L",o+n-T,A]:[])}),this.drawHandle(t+T,0),this.drawHandle(n+T,1)),m&&c&&(this.drawScrollbarButton(0),this.drawScrollbarButton(1),c[i]({translateX:a,translateY:F(A+w)}),d[i]({width:l}),o=v+t,u=e-L,u<b&&(N=(b-u)/2,u=b,o-=N),this.scrollbarPad=N,p[i]({x:I(o)+L%2/2,width:u}),b=v+t+e/2-.5,this.scrollbarRifles.attr({visibility:e>12?"visible":"hidden"})[i]({d:["M",b-3,v/4,"L",b-3,2*v/3,"M",b,v/4,"L",b,2*v/3,"M",b+3,v/4,"L",b+3,2*v/3]})),this.scrollbarPad=N,this.rendered=!0)}},addEvents:function(){var e=this.chart.container,t=this.mouseDownHandler,n=this.mouseMoveHandler,r=this.mouseUpHandler,i;i=[[e,"mousedown",t],[e,"mousemove",n],[document,"mouseup",r]],ot&&i.push([e,"touchstart",t],[e,"touchmove",n],[document,"touchend",r]),Kt(i,function(e){Zt.apply(null,e)}),this._events=i},removeEvents:function(){Kt(this._events,function(e){en.apply(null,e)}),this._events=P,this.navigatorEnabled&&this.baseSeries&&en(this.baseSeries,"updatedData",this.updatedDataHandler)},init:function(){var t=this,n=t.chart,r,i,s=t.scrollbarHeight,o=t.navigatorOptions,u=t.height,a=t.top,f,l,c=t.baseSeries;t.mouseDownHandler=function(e){var e=n.pointer.normalize(e),i=t.zoomedMin,s=t.zoomedMax,o=t.top,a=t.scrollbarHeight,l=t.scrollerLeft,c=t.scrollerWidth,h=t.navigatorLeft,p=t.navigatorWidth,d=t.scrollbarPad,v=t.range,m=e.chartX,g=e.chartY,e=n.xAxis[0],y,b=et?10:7;g>o&&g<o+u+a&&((o=!t.scrollbarEnabled||g<o+u)&&j.abs(m-i-h)<b?(t.grabbedLeft=!0,t.otherHandlePos=s,t.fixedExtreme=e.max,n.fixedRange=null):o&&j.abs(m-s-h)<b?(t.grabbedRight=!0,t.otherHandlePos=i,t.fixedExtreme=e.min,n.fixedRange=null):m>h+i-d&&m<h+s+d?(t.grabbedCenter=m,t.fixedWidth=v,f=m-i):m>l&&m<l+c&&(s=o?m-h-v/2:m<h?i-v*.2:m>l+c-a?i+v*.2:m<h+i?i-v:s,s<0?s=0:s+v>=p&&(s=p-v,y=t.getUnionExtremes().dataMax),s!==i&&(t.fixedWidth=v,i=r.toFixedRange(s,s+v,null,y),e.setExtremes(i.min,i.max,!0,!1,{trigger:"navigator"}))))},t.mouseMoveHandler=function(e){var r=t.scrollbarHeight,i=t.navigatorLeft,s=t.navigatorWidth,o=t.scrollerLeft,u=t.scrollerWidth,a=t.range,c;e.pageX!==0&&(e=n.pointer.normalize(e),c=e.chartX,c<i?c=i:c>o+u-r&&(c=o+u-r),t.grabbedLeft?(l=!0,t.render(0,0,c-i,t.otherHandlePos)):t.grabbedRight?(l=!0,t.render(0,0,t.otherHandlePos,c-i)):t.grabbedCenter&&(l=!0,c<f?c=f:c>s+f-a&&(c=s+f-a),t.render(0,0,c-f,c-f+a)),l&&t.scrollbarOptions.liveRedraw&&setTimeout(function(){t.mouseUpHandler(e)},0))},t.mouseUpHandler=function(e){var i,s;l&&(t.zoomedMin===t.otherHandlePos?i=t.fixedExtreme:t.zoomedMax===t.otherHandlePos&&(s=t.fixedExtreme),i=r.toFixedRange(t.zoomedMin,t.zoomedMax,i,s),n.xAxis[0].setExtremes(i.min,i.max,!0,!1,{trigger:"navigator",triggerOp:"navigator-drag",DOMEvent:e})),e.type!=="mousemove"&&(t.grabbedLeft=t.grabbedRight=t.grabbedCenter=t.fixedWidth=t.fixedExtreme=t.otherHandlePos=l=f=null)};var h=n.xAxis.length,p=n.yAxis.length;n.extraBottomMargin=t.outlineHeight+o.margin,t.navigatorEnabled?(t.xAxis=r=new dn(n,e({breaks:c&&c.xAxis.options.breaks,ordinal:c&&c.xAxis.options.ordinal},o.xAxis,{id:"navigator-x-axis",isX:!0,type:"datetime",index:h,height:u,offset:0,offsetLeft:s,offsetRight:-s,keepOrdinalPadding:!0,startOnTick:!1,endOnTick:!1,minPadding:0,maxPadding:0,zoomEnabled:!1})),t.yAxis=i=new dn(n,e(o.yAxis,{id:"navigator-y-axis",alignTicks:!1,height:u,offset:0,index:p,zoomEnabled:!1})),c||o.series.data?t.addBaseSeries():n.series.length===0&&zt(n,"redraw",function(e,r){n.series.length>0&&!t.series&&(t.setBaseSeries(),n.redraw=e),e.call(n,r)})):t.xAxis=r={translate:function(e,t){var r=n.xAxis[0],i=r.getExtremes(),o=n.plotWidth-2*s,u=qn("min",r.options.min,i.dataMin),r=qn("max",r.options.max,i.dataMax)-u;return t?e*r/o+u:o*(e-u)/r},toFixedRange:dn.prototype.toFixedRange},zt(n,"getMargins",function(e){var n=this.legend,s=n.options;e.apply(this,[].slice.call(arguments,1)),t.top=a=t.navigatorOptions.top||this.chartHeight-t.height-t.scrollbarHeight-this.spacing[2]-(s.verticalAlign==="bottom"&&s.enabled&&!s.floating?n.legendHeight+Ut(s.margin,10):0),r&&i&&(r.options.top=i.options.top=a,r.setAxisSize(),i.setAxisSize())}),t.addEvents()},getUnionExtremes:function(e){var t=this.chart.xAxis[0],n=this.xAxis,r=n.options,i=t.options,s;if(!e||t.dataMin!==null)s={dataMin:Ut(r&&r.min,qn("min",i.min,t.dataMin,n.dataMin)),dataMax:Ut(r&&r.max,qn("max",i.max,t.dataMax,n.dataMax))};return s},setBaseSeries:function(e){var t=this.chart,e=e||t.options.navigator.baseSeries;this.series&&this.series.remove(),this.baseSeries=t.series[e]||typeof e=="string"&&t.get(e)||t.series[0],this.xAxis&&this.addBaseSeries()},addBaseSeries:function(){var t=this.baseSeries,n=t?t.options:{},r=n.data,i=this.navigatorOptions.series,s;s=i.data,this.hasNavigatorData=!!s,n=e(n,i,{enableMouseTracking:!1,group:"nav",padXAxis:!1,xAxis:"navigator-x-axis",yAxis:"navigator-y-axis",name:"Navigator",showInLegend:!1,isInternal:!0,visible:!0}),n.data=s||r,this.series=this.chart.initSeries(n),t&&this.navigatorOptions.adaptToUpdatedData!==!1&&(Zt(t,"updatedData",this.updatedDataHandler),t.userOptions.events=Rt(t.userOptions.event,{updatedData:this.updatedDataHandler}))},updatedDataHandler:function(){var e=this.chart.scroller,t=e.baseSeries,n=t.xAxis,r=n.getExtremes(),i=r.min,s=r.max,o=r.dataMin,r=r.dataMax,u=s-i,a,f,l,c,h,p=e.series;a=p.xData;var d=!!n.setExtremes;f=s>=a[a.length-1]-(this.closestPointRange||0),a=i<=o,e.hasNavigatorData||(p.options.pointStart=t.xData[0],p.setData(t.options.data,!1),h=!0),a&&(c=o,l=c+u),f&&(l=r,a||(c=R(l-u,p.xData[0]))),d&&(a||f)?isNaN(c)||n.setExtremes(c,l,!0,!1,{trigger:"updatedData"}):(h&&this.chart.redraw(!1),e.render(R(i,o),U(s,r)))},destroy:function(){this.removeEvents(),Kt([this.xAxis,this.yAxis,this.leftShade,this.rightShade,this.outline,this.scrollbarTrack,this.scrollbarRifles,this.scrollbarGroup,this.scrollbar],function(e){e&&e.destroy&&e.destroy()}),this.xAxis=this.yAxis=this.leftShade=this.rightShade=this.outline=this.scrollbarTrack=this.scrollbarRifles=this.scrollbarGroup=this.scrollbar=null,Kt([this.scrollbarButtons,this.handles,this.elementsToDestroy],function(e){x(e)})}},qt.Scroller=_,zt(dn.prototype,"zoom",function(e,t,n){var r=this.chart,i=r.options,s=i.chart.zoomType,o=i.navigator,i=i.rangeSelector,u;return this.isXAxis&&(o&&o.enabled||i&&i.enabled)&&(s==="x"?r.resetZoomButton="blocked":s==="y"?u=!1:s==="xy"&&(r=this.previousZoom,f(t)?this.previousZoom=[this.min,this.max]:r&&(t=r[0],n=r[1],delete this.previousZoom))),u!==P?u:e.call(this,t,n)}),zt(xn.prototype,"init",function(e,t,n){Zt(this,"beforeRender",function(){var e=this.options;if(e.navigator.enabled||e.scrollbar.enabled)this.scroller=new _(this)}),e.call(this,t,n)}),zt(Cn.prototype,"addPoint",function(e,t,n,s,o){var u=this.options.turboThreshold;u&&this.xData.length>u&&r(t)&&!i(t)&&this.chart.scroller&&N(20,!0),e.call(this,t,n,s,o)}),Rt(lt,{rangeSelector:{buttonTheme:{width:28,height:18,fill:"#f7f7f7",padding:2,r:0,"stroke-width":0,style:{color:"#444",cursor:"pointer",fontWeight:"normal"},zIndex:7,states:{hover:{fill:"#e7e7e7"},select:{fill:"#e7f0f9",style:{color:"black",fontWeight:"bold"}}}},height:35,inputPosition:{align:"right"},labelStyle:{color:"#666"}}}),lt.lang=e(lt.lang,{rangeSelectorZoom:"Zoom",rangeSelectorFrom:"From",rangeSelectorTo:"To"}),D.prototype={clickButton:function(e,t){var n=this,r=n.selected,i=n.chart,s=n.buttons,o=n.buttonOptions[e],u=i.xAxis[0],a=i.scroller&&i.scroller.getUnionExtremes()||u||{},f=a.dataMin,l=a.dataMax,c,h=u&&F(U(u.max,Ut(l,u.max))),p=o.type,d,a=o._range,v,m,g,y=o.dataGrouping;if(f!==null&&l!==null&&e!==n.selected){i.fixedRange=a,y&&(this.forcedDataGrouping=!0,dn.prototype.setDataGrouping.call(u||{chart:this.chart},y,!1));if(p==="month"||p==="year")if(u){if(p={range:o,max:h,dataMin:f,dataMax:l},c=u.minFromRange.call(p),typeof p.newMax=="number")h=p.newMax}else a=o;else if(a)c=R(h-a,f),h=U(c+a,l);else if(p==="ytd"){if(!u){Zt(i,"beforeRender",function(){n.clickButton(e)});return}l===P&&(f=Number.MAX_VALUE,l=Number.MIN_VALUE,Kt(i.series,function(e){e=e.xData,f=U(e[0],f),l=R(e[e.length-1],l)}),t=!1),h=new St(l),c=h.getFullYear(),c=v=R(f||0,St.UTC(c,0,1)),h=h.getTime(),h=U(l||h,h)}else p==="all"&&u&&(c=f,h=l);s[r]&&s[r].setState(0),s[e]&&s[e].setState(2),u?(u.setExtremes(c,h,Ut(t,1),0,{trigger:"rangeSelectorButton",rangeSelectorButton:o}),n.setSelected(e)):(d=i.options.xAxis[0],g=d.range,d.range=a,m=d.min,d.min=v,n.setSelected(e),Zt(i,"load",function(){d.range=g,d.min=m}))}},setSelected:function(e){this.selected=this.options.selected=e},defaultButtons:[{type:"month",count:1,text:"1m"},{type:"month",count:3,text:"3m"},{type:"month",count:6,text:"6m"},{type:"ytd",text:"YTD"},{type:"year",count:1,text:"1y"},{type:"all",text:"All"}],init:function(e){var t=this,n=e.options.rangeSelector,r=n.buttons||[].concat(t.defaultButtons),i=n.selected,s=t.blurInputs=function(){var e=t.minInput,n=t.maxInput;e&&e.blur&&tn(e,"blur"),n&&n.blur&&tn(n,"blur")};t.chart=e,t.options=n,t.buttons=[],e.extraTopMargin=n.height,t.buttonOptions=r,Zt(e.container,"mousedown",s),Zt(e,"resize",s),Kt(r,t.computeButtonRange),i!==P&&r[i]&&this.clickButton(i,!1),Zt(e,"load",function(){Zt(e.xAxis[0],"setExtremes",function(n){this.max-this.min!==e.fixedRange&&n.trigger!=="rangeSelectorButton"&&n.trigger!=="updatedData"&&t.forcedDataGrouping&&this.setDataGrouping(!1,!1)}),Zt(e.xAxis[0],"afterSetExtremes",function(){t.updateButtonStates(!0)})})},updateButtonStates:function(e){var t=this,n=this.chart,r=n.xAxis[0],i=n.scroller&&n.scroller.getUnionExtremes()||r,s=i.dataMin,o=i.dataMax,u=t.selected,a=t.options.allButtonsEnabled,f=t.buttons;e&&n.fixedRange!==F(r.max-r.min)&&(f[u]&&f[u].setState(0),t.setSelected(null)),Kt(t.buttonOptions,function(e,i){var l=F(r.max-r.min),c=e._range,h=e.type,p=e.count||1,d=c>o-s,v=c<r.minRange,m=e.type==="all"&&r.max-r.min>=o-s&&f[i].state!==2,g=e.type==="ytd"&&ct("%Y",s)===ct("%Y",o),y=n.renderer.forExport&&i===u,c=c===l;(h==="month"||h==="year")&&l>={month:28,year:365}[h]*864e5*p&&l<={month:31,year:366}[h]*864e5*p&&(c=!0),y||c&&i!==u?(t.setSelected(i),f[i].setState(2)):!a&&(d||v||m||g)?f[i].setState(3):f[i].state===3&&f[i].setState(0)})},computeButtonRange:function(e){var t=e.type,n=e.count||1,r={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5};if(r[t])e._range=r[t]*n;else if(t==="month"||t==="year")e._range={month:30,year:365}[t]*864e5*n},setInputValue:function(e,t){var n=this.chart.options.rangeSelector;f(t)&&(this[e+"Input"].HCTime=t),this[e+"Input"].value=ct(n.inputEditDateFormat||"%Y-%m-%d",this[e+"Input"].HCTime),this[e+"DateBox"].attr({text:ct(n.inputDateFormat||"%b %e, %Y",this[e+"Input"].HCTime)})},showInput:function(e){var t=this.inputGroup,n=this[e+"DateBox"];h(this[e+"Input"],{left:t.translateX+n.x+"px",top:t.translateY+"px",width:n.width-2+"px",height:n.height-2+"px",border:"2px solid silver"})},hideInput:function(e){h(this[e+"Input"],{border:0,width:"1px",height:"1px"}),this.setInputValue(e)},drawInput:function(n){var r=this,i=r.chart,s=i.renderer.style,o=i.renderer,u=i.options.rangeSelector,a=r.div,f=n==="min",l,c,h=this.inputGroup;this[n+"Label"]=c=o.label(lt.lang[f?"rangeSelectorFrom":"rangeSelectorTo"],this.inputGroup.offset).attr({padding:2}).css(e(s,u.labelStyle)).add(h),h.offset+=c.width+5,this[n+"DateBox"]=o=o.label("",h.offset).attr({padding:2,width:u.inputBoxWidth||90,height:u.inputBoxHeight||17,stroke:u.inputBoxBorderColor||"silver","stroke-width":1}).css(e({textAlign:"center",color:"#444"},s,u.inputStyle)).on("click",function(){r.showInput(n),r[n+"Input"].focus()}).add(h),h.offset+=o.width+(f?10:0),this[n+"Input"]=l=p("input",{name:n,className:"highcharts-range-selector",type:"text"},Rt({position:"absolute",border:0,width:"1px",height:"1px",padding:0,textAlign:"center",fontSize:s.fontSize,fontFamily:s.fontFamily,top:i.plotTop+"px"},u.inputStyle),a),l.onfocus=function(){r.showInput(n)},l.onblur=function(){r.hideInput(n)},l.onchange=function(){var e=l.value,n=(u.inputDateParser||St.parse)(e),s=i.xAxis[0],o=s.dataMin,a=s.dataMax;isNaN(n)&&(n=e.split("-"),n=St.UTC(t(n[0]),t(n[1])-1,t(n[2]))),isNaN(n)||(lt.global.useUTC||(n+=(new St).getTimezoneOffset()*6e4),f?n>r.maxInput.HCTime?n=P:n<o&&(n=o):n<r.minInput.HCTime?n=P:n>a&&(n=a),n!==P&&i.xAxis[0].setExtremes(f?n:s.min,f?s.max:n,P,P,{trigger:"rangeSelectorInput"}))}},getPosition:function(){var e=this.chart,t=e.options.rangeSelector,e=Ut((t.buttonPosition||{}).y,e.plotTop-e.axisOffset[0]-t.height);return{buttonTop:e,inputTop:e-10}},render:function(e,t){var n=this,r=n.chart,i=r.renderer,s=r.container,o=r.options,u=o.exporting&&o.navigation&&o.navigation.buttonOptions,a=o.rangeSelector,l=n.buttons,o=lt.lang,c=n.div,c=n.inputGroup,h=a.buttonTheme,d=a.buttonPosition||{},v=a.inputEnabled,m=h&&h.states,g=r.plotLeft,y,b=this.getPosition(),w=n.group,E=n.rendered;!E&&(n.group=w=i.g("range-selector-buttons").add(),n.zoomText=i.text(o.rangeSelectorZoom,Ut(d.x,g),15).css(a.labelStyle).add(w),y=Ut(d.x,g)+n.zoomText.getBBox().width+5,Kt(n.buttonOptions,function(e,t){l[t]=i.button(e.text,y,0,function(){n.clickButton(t),n.isActive=!0},h,m&&m.hover,m&&m.select,m&&m.disabled).css({textAlign:"center"}).add(w),y+=l[t].width+Ut(a.buttonSpacing,5),n.selected===t&&l[t].setState(2)}),n.updateButtonStates(),v!==!1)&&(n.div=c=p("div",null,{position:"relative",height:0,zIndex:1}),s.parentNode.insertBefore(c,s),n.inputGroup=c=i.g("input-group").add(),c.offset=0,n.drawInput("min"),n.drawInput("max")),w[E?"animate":"attr"]({translateY:b.buttonTop}),v!==!1&&(c.align(Rt({y:b.inputTop,width:c.offset,x:u&&b.inputTop<(u.y||0)+u.height-r.spacing[0]?-40:0},a.inputPosition),!0,r.spacingBox),f(v)||(r=w.getBBox(),c[c.translateX<r.x+r.width+10?"hide":"show"]()),n.setInputValue("min",e),n.setInputValue("max",t)),n.rendered=!0},destroy:function(){var e=this.minInput,t=this.maxInput,n=this.chart,r=this.blurInputs,i;en(n.container,"mousedown",r),en(n,"resize",r),x(this.buttons),e&&(e.onfocus=e.onblur=e.onchange=null),t&&(t.onfocus=t.onblur=t.onchange=null);for(i in this)this[i]&&i!=="chart"&&(this[i].destroy?this[i].destroy():this[i].nodeType&&T(this[i])),this[i]=null}},dn.prototype.toFixedRange=function(e,t,n,r){var i=this.chart&&this.chart.fixedRange,e=Ut(n,this.translate(e,!0)),t=Ut(r,this.translate(t,!0)),n=i&&(t-e)/i;return n>.7&&n<1.3&&(r?e=t-i:t=e+i),{min:e,max:t}},dn.prototype.minFromRange=function(){var e=this.range,t={month:"Month",year:"FullYear"}[e.type],n,r=this.max,i,s,o=function(e,n){var r=new St(e);return r["set"+t](r["get"+t]()+n),r.getTime()-e};return typeof e=="number"?(n=this.max-e,s=e):n=r+o(r,-e.count),i=Ut(this.dataMin,Number.MIN_VALUE),isNaN(n)&&(n=i),n<=i&&(n=i,s===void 0&&(s=o(n,e.count)),this.newMax=U(n+s,this.dataMax)),isNaN(r)&&(n=void 0),n},zt(xn.prototype,"init",function(e,t,n){Zt(this,"init",function(){this.options.rangeSelector.enabled&&(this.rangeSelector=new D(this))}),e.call(this,t,n)}),qt.RangeSelector=D,xn.prototype.callbacks.push(function(e){function t(){s=e.xAxis[0].getExtremes(),o.render(s.min,s.max)}function n(){s=e.xAxis[0].getExtremes(),isNaN(s.min)||u.render(s.min,s.max)}function r(e){e.triggerOp!=="navigator-drag"&&o.render(e.min,e.max)}function i(e){u.render(e.min,e.max)}var s,o=e.scroller,u=e.rangeSelector;o&&(Zt(e.xAxis[0],"afterSetExtremes",r),zt(e,"drawChartBox",function(e){var n=this.isDirtyBox;e.call(this),n&&t()}),t()),u&&(Zt(e.xAxis[0],"afterSetExtremes",i),Zt(e,"resize",n),n()),Zt(e,"destroy",function(){o&&en(e.xAxis[0],"afterSetExtremes",r),u&&(en(e,"resize",n),en(e.xAxis[0],"afterSetExtremes",i))})}),qt.StockChart=function(t,n){var r=t.series,i,s=Ut(t.navigator&&t.navigator.enabled,!0)?{startOnTick:!1,endOnTick:!1}:null,o={marker:{enabled:!1,radius:2}},u={shadow:!1,borderWidth:0};return t.xAxis=Yt(c(t.xAxis||{}),function(t){return e({minPadding:0,maxPadding:0,ordinal:!0,title:{text:null},labels:{overflow:"justify"},showLastLabel:!0},t,{type:"datetime",categories:null},s)}),t.yAxis=Yt(c(t.yAxis||{}),function(t){return i=Ut(t.opposite,!0),e({labels:{y:-2},opposite:i,showLastLabel:!1,title:{text:null}},t)}),t.series=null,t=e({chart:{panning:!0,pinchType:"x"},navigator:{enabled:!0},scrollbar:{enabled:!0},rangeSelector:{enabled:!0},title:{text:null,style:{fontSize:"16px"}},tooltip:{shared:!0,crosshairs:!0},legend:{enabled:!1},plotOptions:{line:o,spline:o,area:o,areaspline:o,arearange:o,areasplinerange:o,column:u,columnrange:u,candlestick:u,ohlc:u}},t,{_stock:!0,chart:{inverted:!1}}),t.series=r,new xn(t,n)},zt(gn.prototype,"init",function(e,t,n){var r=n.chart.pinchType||"";e.call(this,t,n),this.pinchX=this.pinchHor=r.indexOf("x")!==-1,this.pinchY=this.pinchVert=r.indexOf("y")!==-1,this.hasZoom=this.hasZoom||this.pinchHor||this.pinchVert}),zt(dn.prototype,"autoLabelAlign",function(e){var t=this.chart,n=this.options,t=t._labelPanes=t._labelPanes||{},r=this.options.labels;return this.chart.options._stock&&this.coll==="yAxis"&&(n=n.top+","+n.height,!t[n]&&r.enabled)?(r.x===15&&(r.x=0),r.align===void 0&&(r.align="right"),t[n]=1,"right"):e.call(this,[].slice.call(arguments,1))}),zt(dn.prototype,"getPlotLinePath",function(e,t,n,r,i,s){var o=this,u=this.isLinked&&!this.series?this.linkedParent.series:this.series,a=o.chart,l=a.renderer,c=o.left,h=o.top,p,d,v,m,g=[],y=[],b;return o.coll==="colorAxis"?e.apply(this,[].slice.call(arguments,1)):(y=o.isXAxis?f(o.options.yAxis)?[a.yAxis[o.options.yAxis]]:Yt(u,function(e){return e.yAxis}):f(o.options.xAxis)?[a.xAxis[o.options.xAxis]]:Yt(u,function(e){return e.xAxis}),Kt(o.isXAxis?a.yAxis:a.xAxis,function(e){if(f(e.options.id)?e.options.id.indexOf("navigator")===-1:1){var t=e.isXAxis?"yAxis":"xAxis",t=f(e.options[t])?a[t][e.options[t]]:a[t][0];o===t&&y.push(e)}}),b=y.length?[]:[o.isXAxis?a.yAxis[0]:a.xAxis[0]],Kt(y,function(e){Jt(e,b)===-1&&b.push(e)}),s=Ut(s,o.translate(t,null,null,r)),isNaN(s)||(o.horiz?Kt(b,function(e){var t;d=e.pos,m=d+e.len,p=v=F(s+o.transB);if(p<c||p>c+o.width)i?p=v=U(R(c,p),c+o.width):t=!0;t||g.push("M",p,d,"L",v,m)}):Kt(b,function(e){var t;p=e.pos,v=p+e.len,d=m=F(h+o.height-s);if(d<h||d>h+o.height)i?d=m=U(R(h,d),o.top+o.height):t=!0;t||g.push("M",p,d,"L",v,m)})),g.length>0?l.crispPolyLine(g,n||1):null)}),dn.prototype.getPlotBandPath=function(e,t){var n=this.getPlotLinePath(t,null,null,!0),r=this.getPlotLinePath(e,null,null,!0),i=[],s;if(r&&n&&r.toString()!==n.toString())for(s=0;s<r.length;s+=6)i.push("M",r[s+1],r[s+2],"L",r[s+4],r[s+5],n[s+4],n[s+5],n[s+1],n[s+2]);else i=null;return i},cn.prototype.crispPolyLine=function(e,t){var n;for(n=0;n<e.length;n+=6)e[n+1]===e[n+4]&&(e[n+1]=e[n+4]=F(e[n+1])-t%2/2),e[n+2]===e[n+5]&&(e[n+2]=e[n+5]=F(e[n+2])+t%2/2);return e},st===qt.VMLRenderer&&(hn.prototype.crispPolyLine=cn.prototype.crispPolyLine),zt(dn.prototype,"hideCrosshair",function(e,t){e.call(this,t),f(this.crossLabelArray)&&(f(t)?this.crossLabelArray[t]&&this.crossLabelArray[t].hide():Kt(this.crossLabelArray,function(e){e.hide()}))}),zt(dn.prototype,"drawCrosshair",function(e,t,n){var r,i;e.call(this,t,n);if(f(this.crosshair.label)&&this.crosshair.label.enabled&&f(n)){var e=this.chart,s=this.options.crosshair.label,o=this.isXAxis?"x":"y",t=this.horiz,u=this.opposite,a=this.left,l=this.top,c=this.crossLabel,h,p,d=s.format,v="";c||(c=this.crossLabel=e.renderer.label().attr({align:s.align||(t?"center":u?this.labelAlign==="right"?"right":"left":this.labelAlign==="left"?"left":"center"),zIndex:12,height:t?16:P,fill:s.backgroundColor||this.series[0]&&this.series[0].color||"gray",padding:Ut(s.padding,2),stroke:s.borderColor||null,"stroke-width":s.borderWidth||0}).css(Rt({color:"white",fontWeight:"normal",fontSize:"11px",textAlign:"center"},s.style)).add()),t?(h=n.plotX+a,p=l+(u?0:this.height)):(h=u?this.width+a:0,p=n.plotY+l);if(p<l||p>l+this.height)this.hideCrosshair();else{!d&&!s.formatter&&(this.isDatetimeAxis&&(v="%b %d, %Y"),d="{value"+(v?":"+v:"")+"}"),c.attr({text:d?g(d,{value:n[o]}):s.formatter.call(this,n[o]),x:h,y:p,visibility:"visible"}),n=c.getBBox();if(t){if(this.options.tickPosition==="inside"&&!u||this.options.tickPosition!=="inside"&&u)p=c.y-n.height}else p=c.y-n.height/2;t?(r=a-n.x,i=a+this.width-n.x):(r=this.labelAlign==="left"?a:0,i=this.labelAlign==="right"?a+this.width:e.chartWidth),c.translateX<r&&(h+=r-c.translateX),c.translateX+n.width>=i&&(h-=c.translateX+n.width-i),c.attr({x:h,y:p,visibility:"visible"})}}});var Rn=On.init,Un=On.processData,zn=Nn.prototype.tooltipFormatter;On.init=function(){Rn.apply(this,arguments),this.setCompare(this.options.compare)},On.setCompare=function(e){this.modifyValue=e==="value"||e==="percent"?function(t,n){var r=this.compareValue;return t!==P&&(t=e==="value"?t-r:t=100*(t/r)-100,n)&&(n.change=t),t}:null,this.chart.hasRendered&&(this.isDirty=!0)},On.processData=function(){var e=0,t,n,r;Un.apply(this,arguments);if(this.xAxis&&this.processedYData){t=this.processedXData,n=this.processedYData;for(r=n.length;e<r;e++)if(typeof n[e]=="number"&&t[e]>=this.xAxis.min){this.compareValue=n[e];break}}},zt(On,"getExtremes",function(e){e.apply(this,[].slice.call(arguments,1)),this.modifyValue&&(this.dataMax=this.modifyValue(this.dataMax),this.dataMin=this.modifyValue(this.dataMin))}),dn.prototype.setCompare=function(e,t){this.isXAxis||(Kt(this.series,function(t){t.setCompare(e)}),Ut(t,!0)&&this.chart.redraw())},Nn.prototype.tooltipFormatter=function(e){return e=e.replace("{point.change}",(this.change>0?"+":"")+qt.numberFormat(this.change,Ut(this.series.tooltipOptions.changeDecimals,2))),zn.apply(this,[e])},zt(Cn.prototype,"render",function(t){this.chart.options._stock&&this.xAxis&&(!this.clipBox&&this.animate?(this.clipBox=e(this.chart.clipBox),this.clipBox.width=this.xAxis.len,this.clipBox.height=this.yAxis.len):this.chart[this.sharedClipKey]&&(sn(this.chart[this.sharedClipKey]),this.chart[this.sharedClipKey].attr({width:this.xAxis.len,height:this.yAxis.len}))),t.call(this)}),Rt(qt,{Color:ln,Point:Nn,Tick:O,Renderer:st,SVGElement:A,SVGRenderer:cn,arrayMin:E,arrayMax:S,charts:vt,dateFormat:ct,error:N,format:g,pathAnim:ht,getOptions:function(){return lt},hasBidiBug:rt,isTouchDevice:et,setOptions:function(t){return lt=e(!0,lt,t),L(),lt},addEvent:Zt,removeEvent:en,createElement:p,discardElement:T,css:h,each:Kt,map:Yt,merge:e,splat:c,extendClass:d,pInt:t,svg:nt,canvas:it,vml:!nt&&!it,product:"Highstock",version:"2.1.9"})})();